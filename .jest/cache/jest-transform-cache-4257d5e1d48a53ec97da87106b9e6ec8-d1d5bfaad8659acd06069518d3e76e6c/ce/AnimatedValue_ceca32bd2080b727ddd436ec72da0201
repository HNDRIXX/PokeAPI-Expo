08af135d4ef03475bad12d5543f76dbe
'use strict';

exports.__esModule = true;
exports.default = void 0;
var _AnimatedInterpolation = _interopRequireDefault(require("./AnimatedInterpolation"));
var _AnimatedWithChildren2 = _interopRequireDefault(require("./AnimatedWithChildren"));
var _InteractionManager = _interopRequireDefault(require("../../../../exports/InteractionManager"));
var _NativeAnimatedHelper = _interopRequireDefault(require("../NativeAnimatedHelper"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  _setPrototypeOf(subClass, superClass);
}
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };
  return _setPrototypeOf(o, p);
}
var NativeAnimatedAPI = _NativeAnimatedHelper.default.API;
function _flush(rootNode) {
  var animatedStyles = new Set();
  function findAnimatedStyles(node) {
    if (typeof node.update === 'function') {
      animatedStyles.add(node);
    } else {
      node.__getChildren().forEach(findAnimatedStyles);
    }
  }
  findAnimatedStyles(rootNode);
  animatedStyles.forEach(function (animatedStyle) {
    return animatedStyle.update();
  });
}
var AnimatedValue = function (_AnimatedWithChildren) {
  _inheritsLoose(AnimatedValue, _AnimatedWithChildren);
  function AnimatedValue(value) {
    var _this;
    _this = _AnimatedWithChildren.call(this) || this;
    if (typeof value !== 'number') {
      throw new Error('AnimatedValue: Attempting to set value to undefined');
    }
    _this._startingValue = _this._value = value;
    _this._offset = 0;
    _this._animation = null;
    return _this;
  }
  var _proto = AnimatedValue.prototype;
  _proto.__detach = function __detach() {
    var _this2 = this;
    if (this.__isNative) {
      NativeAnimatedAPI.getValue(this.__getNativeTag(), function (value) {
        _this2._value = value;
      });
    }
    this.stopAnimation();
    _AnimatedWithChildren.prototype.__detach.call(this);
  };
  _proto.__getValue = function __getValue() {
    return this._value + this._offset;
  };
  _proto.setValue = function setValue(value) {
    if (this._animation) {
      this._animation.stop();
      this._animation = null;
    }
    this._updateValue(value, !this.__isNative);
    if (this.__isNative) {
      NativeAnimatedAPI.setAnimatedNodeValue(this.__getNativeTag(), value);
    }
  };
  _proto.setOffset = function setOffset(offset) {
    this._offset = offset;
    if (this.__isNative) {
      NativeAnimatedAPI.setAnimatedNodeOffset(this.__getNativeTag(), offset);
    }
  };
  _proto.flattenOffset = function flattenOffset() {
    this._value += this._offset;
    this._offset = 0;
    if (this.__isNative) {
      NativeAnimatedAPI.flattenAnimatedNodeOffset(this.__getNativeTag());
    }
  };
  _proto.extractOffset = function extractOffset() {
    this._offset += this._value;
    this._value = 0;
    if (this.__isNative) {
      NativeAnimatedAPI.extractAnimatedNodeOffset(this.__getNativeTag());
    }
  };
  _proto.stopAnimation = function stopAnimation(callback) {
    this.stopTracking();
    this._animation && this._animation.stop();
    this._animation = null;
    callback && callback(this.__getValue());
  };
  _proto.resetAnimation = function resetAnimation(callback) {
    this.stopAnimation(callback);
    this._value = this._startingValue;
  };
  _proto._onAnimatedValueUpdateReceived = function _onAnimatedValueUpdateReceived(value) {
    this._updateValue(value, false);
  };
  _proto.interpolate = function interpolate(config) {
    return new _AnimatedInterpolation.default(this, config);
  };
  _proto.animate = function animate(animation, callback) {
    var _this3 = this;
    var handle = null;
    if (animation.__isInteraction) {
      handle = _InteractionManager.default.createInteractionHandle();
    }
    var previousAnimation = this._animation;
    this._animation && this._animation.stop();
    this._animation = animation;
    animation.start(this._value, function (value) {
      _this3._updateValue(value, true);
    }, function (result) {
      _this3._animation = null;
      if (handle !== null) {
        _InteractionManager.default.clearInteractionHandle(handle);
      }
      callback && callback(result);
    }, previousAnimation, this);
  };
  _proto.stopTracking = function stopTracking() {
    this._tracking && this._tracking.__detach();
    this._tracking = null;
  };
  _proto.track = function track(tracking) {
    this.stopTracking();
    this._tracking = tracking;
  };
  _proto._updateValue = function _updateValue(value, flush) {
    if (value === undefined) {
      throw new Error('AnimatedValue: Attempting to set value to undefined');
    }
    this._value = value;
    if (flush) {
      _flush(this);
    }
    _AnimatedWithChildren.prototype.__callListeners.call(this, this.__getValue());
  };
  _proto.__getNativeConfig = function __getNativeConfig() {
    return {
      type: 'value',
      value: this._value,
      offset: this._offset
    };
  };
  return AnimatedValue;
}(_AnimatedWithChildren2.default);
var _default = AnimatedValue;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfQW5pbWF0ZWRJbnRlcnBvbGF0aW9uIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4yIiwiX0ludGVyYWN0aW9uTWFuYWdlciIsIl9OYXRpdmVBbmltYXRlZEhlbHBlciIsIm9iaiIsIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJfc2V0UHJvdG90eXBlT2YiLCJvIiwicCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwiTmF0aXZlQW5pbWF0ZWRBUEkiLCJBUEkiLCJfZmx1c2giLCJyb290Tm9kZSIsImFuaW1hdGVkU3R5bGVzIiwiU2V0IiwiZmluZEFuaW1hdGVkU3R5bGVzIiwibm9kZSIsInVwZGF0ZSIsImFkZCIsIl9fZ2V0Q2hpbGRyZW4iLCJmb3JFYWNoIiwiYW5pbWF0ZWRTdHlsZSIsIkFuaW1hdGVkVmFsdWUiLCJfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4iLCJ2YWx1ZSIsIl90aGlzIiwiY2FsbCIsIkVycm9yIiwiX3N0YXJ0aW5nVmFsdWUiLCJfdmFsdWUiLCJfb2Zmc2V0IiwiX2FuaW1hdGlvbiIsIl9wcm90byIsIl9fZGV0YWNoIiwiX3RoaXMyIiwiX19pc05hdGl2ZSIsImdldFZhbHVlIiwiX19nZXROYXRpdmVUYWciLCJzdG9wQW5pbWF0aW9uIiwiX19nZXRWYWx1ZSIsInNldFZhbHVlIiwic3RvcCIsIl91cGRhdGVWYWx1ZSIsInNldEFuaW1hdGVkTm9kZVZhbHVlIiwic2V0T2Zmc2V0Iiwib2Zmc2V0Iiwic2V0QW5pbWF0ZWROb2RlT2Zmc2V0IiwiZmxhdHRlbk9mZnNldCIsImZsYXR0ZW5BbmltYXRlZE5vZGVPZmZzZXQiLCJleHRyYWN0T2Zmc2V0IiwiZXh0cmFjdEFuaW1hdGVkTm9kZU9mZnNldCIsImNhbGxiYWNrIiwic3RvcFRyYWNraW5nIiwicmVzZXRBbmltYXRpb24iLCJfb25BbmltYXRlZFZhbHVlVXBkYXRlUmVjZWl2ZWQiLCJpbnRlcnBvbGF0ZSIsImNvbmZpZyIsImFuaW1hdGUiLCJhbmltYXRpb24iLCJfdGhpczMiLCJoYW5kbGUiLCJfX2lzSW50ZXJhY3Rpb24iLCJjcmVhdGVJbnRlcmFjdGlvbkhhbmRsZSIsInByZXZpb3VzQW5pbWF0aW9uIiwic3RhcnQiLCJyZXN1bHQiLCJjbGVhckludGVyYWN0aW9uSGFuZGxlIiwiX3RyYWNraW5nIiwidHJhY2siLCJ0cmFja2luZyIsImZsdXNoIiwidW5kZWZpbmVkIiwiX19jYWxsTGlzdGVuZXJzIiwiX19nZXROYXRpdmVDb25maWciLCJ0eXBlIiwiX2RlZmF1bHQiLCJtb2R1bGUiXSwic291cmNlcyI6WyJBbmltYXRlZFZhbHVlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKiBAZm9ybWF0XG4gKi9cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9BbmltYXRlZEludGVycG9sYXRpb24gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL0FuaW1hdGVkSW50ZXJwb2xhdGlvblwiKSk7XG5cbnZhciBfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9BbmltYXRlZFdpdGhDaGlsZHJlblwiKSk7XG5cbnZhciBfSW50ZXJhY3Rpb25NYW5hZ2VyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vLi4vLi4vZXhwb3J0cy9JbnRlcmFjdGlvbk1hbmFnZXJcIikpO1xuXG52YXIgX05hdGl2ZUFuaW1hdGVkSGVscGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vTmF0aXZlQW5pbWF0ZWRIZWxwZXJcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxudmFyIE5hdGl2ZUFuaW1hdGVkQVBJID0gX05hdGl2ZUFuaW1hdGVkSGVscGVyLmRlZmF1bHQuQVBJO1xuLyoqXG4gKiBBbmltYXRlZCB3b3JrcyBieSBidWlsZGluZyBhIGRpcmVjdGVkIGFjeWNsaWMgZ3JhcGggb2YgZGVwZW5kZW5jaWVzXG4gKiB0cmFuc3BhcmVudGx5IHdoZW4geW91IHJlbmRlciB5b3VyIEFuaW1hdGVkIGNvbXBvbmVudHMuXG4gKlxuICogICAgICAgICAgICAgICBuZXcgQW5pbWF0ZWQuVmFsdWUoMClcbiAqICAgICAuaW50ZXJwb2xhdGUoKSAgICAgICAgLmludGVycG9sYXRlKCkgICAgbmV3IEFuaW1hdGVkLlZhbHVlKDEpXG4gKiAgICAgICAgIG9wYWNpdHkgICAgICAgICAgICAgICB0cmFuc2xhdGVZICAgICAgc2NhbGVcbiAqICAgICAgICAgIHN0eWxlICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zZm9ybVxuICogICAgICAgICBWaWV3IzIzNCAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZVxuICogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFZpZXcjMTIzXG4gKlxuICogQSkgVG9wIERvd24gcGhhc2VcbiAqIFdoZW4gYW4gQW5pbWF0ZWQuVmFsdWUgaXMgdXBkYXRlZCwgd2UgcmVjdXJzaXZlbHkgZ28gZG93biB0aHJvdWdoIHRoaXNcbiAqIGdyYXBoIGluIG9yZGVyIHRvIGZpbmQgbGVhZiBub2RlczogdGhlIHZpZXdzIHRoYXQgd2UgZmxhZyBhcyBuZWVkaW5nXG4gKiBhbiB1cGRhdGUuXG4gKlxuICogQikgQm90dG9tIFVwIHBoYXNlXG4gKiBXaGVuIGEgdmlldyBpcyBmbGFnZ2VkIGFzIG5lZWRpbmcgYW4gdXBkYXRlLCB3ZSByZWN1cnNpdmVseSBnbyBiYWNrIHVwXG4gKiBpbiBvcmRlciB0byBidWlsZCB0aGUgbmV3IHZhbHVlIHRoYXQgaXQgbmVlZHMuIFRoZSByZWFzb24gd2h5IHdlIG5lZWRcbiAqIHRoaXMgdHdvLXBoYXNlcyBwcm9jZXNzIGlzIHRvIGRlYWwgd2l0aCBjb21wb3NpdGUgcHJvcHMgc3VjaCBhc1xuICogdHJhbnNmb3JtIHdoaWNoIGNhbiByZWNlaXZlIHZhbHVlcyBmcm9tIG11bHRpcGxlIHBhcmVudHMuXG4gKi9cblxuZnVuY3Rpb24gX2ZsdXNoKHJvb3ROb2RlKSB7XG4gIHZhciBhbmltYXRlZFN0eWxlcyA9IG5ldyBTZXQoKTtcblxuICBmdW5jdGlvbiBmaW5kQW5pbWF0ZWRTdHlsZXMobm9kZSkge1xuICAgIC8qICRGbG93Rml4TWUoPj0wLjY4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjY4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIGlmICh0eXBlb2Ygbm9kZS51cGRhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGFuaW1hdGVkU3R5bGVzLmFkZChub2RlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbm9kZS5fX2dldENoaWxkcmVuKCkuZm9yRWFjaChmaW5kQW5pbWF0ZWRTdHlsZXMpO1xuICAgIH1cbiAgfVxuXG4gIGZpbmRBbmltYXRlZFN0eWxlcyhyb290Tm9kZSk7XG4gIC8qICRGbG93Rml4TWUgKi9cblxuICBhbmltYXRlZFN0eWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChhbmltYXRlZFN0eWxlKSB7XG4gICAgcmV0dXJuIGFuaW1hdGVkU3R5bGUudXBkYXRlKCk7XG4gIH0pO1xufVxuLyoqXG4gKiBTdGFuZGFyZCB2YWx1ZSBmb3IgZHJpdmluZyBhbmltYXRpb25zLiAgT25lIGBBbmltYXRlZC5WYWx1ZWAgY2FuIGRyaXZlXG4gKiBtdWx0aXBsZSBwcm9wZXJ0aWVzIGluIGEgc3luY2hyb25pemVkIGZhc2hpb24sIGJ1dCBjYW4gb25seSBiZSBkcml2ZW4gYnkgb25lXG4gKiBtZWNoYW5pc20gYXQgYSB0aW1lLiAgVXNpbmcgYSBuZXcgbWVjaGFuaXNtIChlLmcuIHN0YXJ0aW5nIGEgbmV3IGFuaW1hdGlvbixcbiAqIG9yIGNhbGxpbmcgYHNldFZhbHVlYCkgd2lsbCBzdG9wIGFueSBwcmV2aW91cyBvbmVzLlxuICpcbiAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUuaHRtbFxuICovXG5cblxudmFyIEFuaW1hdGVkVmFsdWUgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9BbmltYXRlZFdpdGhDaGlsZHJlbikge1xuICBfaW5oZXJpdHNMb29zZShBbmltYXRlZFZhbHVlLCBfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4pO1xuXG4gIGZ1bmN0aW9uIEFuaW1hdGVkVmFsdWUodmFsdWUpIHtcbiAgICB2YXIgX3RoaXM7XG5cbiAgICBfdGhpcyA9IF9BbmltYXRlZFdpdGhDaGlsZHJlbi5jYWxsKHRoaXMpIHx8IHRoaXM7XG5cbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAnbnVtYmVyJykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbmltYXRlZFZhbHVlOiBBdHRlbXB0aW5nIHRvIHNldCB2YWx1ZSB0byB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICBfdGhpcy5fc3RhcnRpbmdWYWx1ZSA9IF90aGlzLl92YWx1ZSA9IHZhbHVlO1xuICAgIF90aGlzLl9vZmZzZXQgPSAwO1xuICAgIF90aGlzLl9hbmltYXRpb24gPSBudWxsO1xuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIHZhciBfcHJvdG8gPSBBbmltYXRlZFZhbHVlLnByb3RvdHlwZTtcblxuICBfcHJvdG8uX19kZXRhY2ggPSBmdW5jdGlvbiBfX2RldGFjaCgpIHtcbiAgICB2YXIgX3RoaXMyID0gdGhpcztcblxuICAgIGlmICh0aGlzLl9faXNOYXRpdmUpIHtcbiAgICAgIE5hdGl2ZUFuaW1hdGVkQVBJLmdldFZhbHVlKHRoaXMuX19nZXROYXRpdmVUYWcoKSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgIF90aGlzMi5fdmFsdWUgPSB2YWx1ZTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuc3RvcEFuaW1hdGlvbigpO1xuXG4gICAgX0FuaW1hdGVkV2l0aENoaWxkcmVuLnByb3RvdHlwZS5fX2RldGFjaC5jYWxsKHRoaXMpO1xuICB9O1xuXG4gIF9wcm90by5fX2dldFZhbHVlID0gZnVuY3Rpb24gX19nZXRWYWx1ZSgpIHtcbiAgICByZXR1cm4gdGhpcy5fdmFsdWUgKyB0aGlzLl9vZmZzZXQ7XG4gIH1cbiAgLyoqXG4gICAqIERpcmVjdGx5IHNldCB0aGUgdmFsdWUuICBUaGlzIHdpbGwgc3RvcCBhbnkgYW5pbWF0aW9ucyBydW5uaW5nIG9uIHRoZSB2YWx1ZVxuICAgKiBhbmQgdXBkYXRlIGFsbCB0aGUgYm91bmQgcHJvcGVydGllcy5cbiAgICpcbiAgICogU2VlIGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3MvYW5pbWF0ZWR2YWx1ZS5odG1sI3NldHZhbHVlXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldFZhbHVlID0gZnVuY3Rpb24gc2V0VmFsdWUodmFsdWUpIHtcbiAgICBpZiAodGhpcy5fYW5pbWF0aW9uKSB7XG4gICAgICB0aGlzLl9hbmltYXRpb24uc3RvcCgpO1xuXG4gICAgICB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZVZhbHVlKHZhbHVlLCAhdGhpcy5fX2lzTmF0aXZlXG4gICAgLyogZG9uJ3QgcGVyZm9ybSBhIGZsdXNoIGZvciBuYXRpdmVseSBkcml2ZW4gdmFsdWVzICovXG4gICAgKTtcblxuICAgIGlmICh0aGlzLl9faXNOYXRpdmUpIHtcbiAgICAgIE5hdGl2ZUFuaW1hdGVkQVBJLnNldEFuaW1hdGVkTm9kZVZhbHVlKHRoaXMuX19nZXROYXRpdmVUYWcoKSwgdmFsdWUpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogU2V0cyBhbiBvZmZzZXQgdGhhdCBpcyBhcHBsaWVkIG9uIHRvcCBvZiB3aGF0ZXZlciB2YWx1ZSBpcyBzZXQsIHdoZXRoZXIgdmlhXG4gICAqIGBzZXRWYWx1ZWAsIGFuIGFuaW1hdGlvbiwgb3IgYEFuaW1hdGVkLmV2ZW50YC4gIFVzZWZ1bCBmb3IgY29tcGVuc2F0aW5nXG4gICAqIHRoaW5ncyBsaWtlIHRoZSBzdGFydCBvZiBhIHBhbiBnZXN0dXJlLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlLmh0bWwjc2V0b2Zmc2V0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnNldE9mZnNldCA9IGZ1bmN0aW9uIHNldE9mZnNldChvZmZzZXQpIHtcbiAgICB0aGlzLl9vZmZzZXQgPSBvZmZzZXQ7XG5cbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5zZXRBbmltYXRlZE5vZGVPZmZzZXQodGhpcy5fX2dldE5hdGl2ZVRhZygpLCBvZmZzZXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogTWVyZ2VzIHRoZSBvZmZzZXQgdmFsdWUgaW50byB0aGUgYmFzZSB2YWx1ZSBhbmQgcmVzZXRzIHRoZSBvZmZzZXQgdG8gemVyby5cbiAgICogVGhlIGZpbmFsIG91dHB1dCBvZiB0aGUgdmFsdWUgaXMgdW5jaGFuZ2VkLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlLmh0bWwjZmxhdHRlbm9mZnNldFxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5mbGF0dGVuT2Zmc2V0ID0gZnVuY3Rpb24gZmxhdHRlbk9mZnNldCgpIHtcbiAgICB0aGlzLl92YWx1ZSArPSB0aGlzLl9vZmZzZXQ7XG4gICAgdGhpcy5fb2Zmc2V0ID0gMDtcblxuICAgIGlmICh0aGlzLl9faXNOYXRpdmUpIHtcbiAgICAgIE5hdGl2ZUFuaW1hdGVkQVBJLmZsYXR0ZW5BbmltYXRlZE5vZGVPZmZzZXQodGhpcy5fX2dldE5hdGl2ZVRhZygpKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNldHMgdGhlIG9mZnNldCB2YWx1ZSB0byB0aGUgYmFzZSB2YWx1ZSwgYW5kIHJlc2V0cyB0aGUgYmFzZSB2YWx1ZSB0byB6ZXJvLlxuICAgKiBUaGUgZmluYWwgb3V0cHV0IG9mIHRoZSB2YWx1ZSBpcyB1bmNoYW5nZWQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUuaHRtbCNleHRyYWN0b2Zmc2V0XG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmV4dHJhY3RPZmZzZXQgPSBmdW5jdGlvbiBleHRyYWN0T2Zmc2V0KCkge1xuICAgIHRoaXMuX29mZnNldCArPSB0aGlzLl92YWx1ZTtcbiAgICB0aGlzLl92YWx1ZSA9IDA7XG5cbiAgICBpZiAodGhpcy5fX2lzTmF0aXZlKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZEFQSS5leHRyYWN0QW5pbWF0ZWROb2RlT2Zmc2V0KHRoaXMuX19nZXROYXRpdmVUYWcoKSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBTdG9wcyBhbnkgcnVubmluZyBhbmltYXRpb24gb3IgdHJhY2tpbmcuIGBjYWxsYmFja2AgaXMgaW52b2tlZCB3aXRoIHRoZVxuICAgKiBmaW5hbCB2YWx1ZSBhZnRlciBzdG9wcGluZyB0aGUgYW5pbWF0aW9uLCB3aGljaCBpcyB1c2VmdWwgZm9yIHVwZGF0aW5nXG4gICAqIHN0YXRlIHRvIG1hdGNoIHRoZSBhbmltYXRpb24gcG9zaXRpb24gd2l0aCBsYXlvdXQuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUuaHRtbCNzdG9wYW5pbWF0aW9uXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnN0b3BBbmltYXRpb24gPSBmdW5jdGlvbiBzdG9wQW5pbWF0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zdG9wVHJhY2tpbmcoKTtcbiAgICB0aGlzLl9hbmltYXRpb24gJiYgdGhpcy5fYW5pbWF0aW9uLnN0b3AoKTtcbiAgICB0aGlzLl9hbmltYXRpb24gPSBudWxsO1xuICAgIGNhbGxiYWNrICYmIGNhbGxiYWNrKHRoaXMuX19nZXRWYWx1ZSgpKTtcbiAgfVxuICAvKipcbiAgICogU3RvcHMgYW55IGFuaW1hdGlvbiBhbmQgcmVzZXRzIHRoZSB2YWx1ZSB0byBpdHMgb3JpZ2luYWwuXG4gICAqXG4gICAqIFNlZSBodHRwczovL3JlYWN0bmF0aXZlLmRldi9kb2NzL2FuaW1hdGVkdmFsdWUuaHRtbCNyZXNldGFuaW1hdGlvblxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5yZXNldEFuaW1hdGlvbiA9IGZ1bmN0aW9uIHJlc2V0QW5pbWF0aW9uKGNhbGxiYWNrKSB7XG4gICAgdGhpcy5zdG9wQW5pbWF0aW9uKGNhbGxiYWNrKTtcbiAgICB0aGlzLl92YWx1ZSA9IHRoaXMuX3N0YXJ0aW5nVmFsdWU7XG4gIH07XG5cbiAgX3Byb3RvLl9vbkFuaW1hdGVkVmFsdWVVcGRhdGVSZWNlaXZlZCA9IGZ1bmN0aW9uIF9vbkFuaW1hdGVkVmFsdWVVcGRhdGVSZWNlaXZlZCh2YWx1ZSkge1xuICAgIHRoaXMuX3VwZGF0ZVZhbHVlKHZhbHVlLCBmYWxzZVxuICAgIC8qZmx1c2gqL1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIEludGVycG9sYXRlcyB0aGUgdmFsdWUgYmVmb3JlIHVwZGF0aW5nIHRoZSBwcm9wZXJ0eSwgZS5nLiBtYXBwaW5nIDAtMSB0b1xuICAgKiAwLTEwLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5pbnRlcnBvbGF0ZSA9IGZ1bmN0aW9uIGludGVycG9sYXRlKGNvbmZpZykge1xuICAgIHJldHVybiBuZXcgX0FuaW1hdGVkSW50ZXJwb2xhdGlvbi5kZWZhdWx0KHRoaXMsIGNvbmZpZyk7XG4gIH1cbiAgLyoqXG4gICAqIFR5cGljYWxseSBvbmx5IHVzZWQgaW50ZXJuYWxseSwgYnV0IGNvdWxkIGJlIHVzZWQgYnkgYSBjdXN0b20gQW5pbWF0aW9uXG4gICAqIGNsYXNzLlxuICAgKlxuICAgKiBTZWUgaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9hbmltYXRlZHZhbHVlLmh0bWwjYW5pbWF0ZVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5hbmltYXRlID0gZnVuY3Rpb24gYW5pbWF0ZShhbmltYXRpb24sIGNhbGxiYWNrKSB7XG4gICAgdmFyIF90aGlzMyA9IHRoaXM7XG5cbiAgICB2YXIgaGFuZGxlID0gbnVsbDtcblxuICAgIGlmIChhbmltYXRpb24uX19pc0ludGVyYWN0aW9uKSB7XG4gICAgICBoYW5kbGUgPSBfSW50ZXJhY3Rpb25NYW5hZ2VyLmRlZmF1bHQuY3JlYXRlSW50ZXJhY3Rpb25IYW5kbGUoKTtcbiAgICB9XG5cbiAgICB2YXIgcHJldmlvdXNBbmltYXRpb24gPSB0aGlzLl9hbmltYXRpb247XG4gICAgdGhpcy5fYW5pbWF0aW9uICYmIHRoaXMuX2FuaW1hdGlvbi5zdG9wKCk7XG4gICAgdGhpcy5fYW5pbWF0aW9uID0gYW5pbWF0aW9uO1xuICAgIGFuaW1hdGlvbi5zdGFydCh0aGlzLl92YWx1ZSwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAvLyBOYXRpdmVseSBkcml2ZW4gYW5pbWF0aW9ucyB3aWxsIG5ldmVyIGNhbGwgaW50byB0aGF0IGNhbGxiYWNrLCB0aGVyZWZvcmUgd2UgY2FuIGFsd2F5c1xuICAgICAgLy8gcGFzcyBmbHVzaCA9IHRydWUgdG8gYWxsb3cgdGhlIHVwZGF0ZWQgdmFsdWUgdG8gcHJvcGFnYXRlIHRvIG5hdGl2ZSB3aXRoIHNldE5hdGl2ZVByb3BzXG4gICAgICBfdGhpczMuX3VwZGF0ZVZhbHVlKHZhbHVlLCB0cnVlXG4gICAgICAvKiBmbHVzaCAqL1xuICAgICAgKTtcbiAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBfdGhpczMuX2FuaW1hdGlvbiA9IG51bGw7XG5cbiAgICAgIGlmIChoYW5kbGUgIT09IG51bGwpIHtcbiAgICAgICAgX0ludGVyYWN0aW9uTWFuYWdlci5kZWZhdWx0LmNsZWFySW50ZXJhY3Rpb25IYW5kbGUoaGFuZGxlKTtcbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2sgJiYgY2FsbGJhY2socmVzdWx0KTtcbiAgICB9LCBwcmV2aW91c0FuaW1hdGlvbiwgdGhpcyk7XG4gIH1cbiAgLyoqXG4gICAqIFR5cGljYWxseSBvbmx5IHVzZWQgaW50ZXJuYWxseS5cbiAgICovXG4gIDtcblxuICBfcHJvdG8uc3RvcFRyYWNraW5nID0gZnVuY3Rpb24gc3RvcFRyYWNraW5nKCkge1xuICAgIHRoaXMuX3RyYWNraW5nICYmIHRoaXMuX3RyYWNraW5nLl9fZGV0YWNoKCk7XG4gICAgdGhpcy5fdHJhY2tpbmcgPSBudWxsO1xuICB9XG4gIC8qKlxuICAgKiBUeXBpY2FsbHkgb25seSB1c2VkIGludGVybmFsbHkuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLnRyYWNrID0gZnVuY3Rpb24gdHJhY2sodHJhY2tpbmcpIHtcbiAgICB0aGlzLnN0b3BUcmFja2luZygpO1xuICAgIHRoaXMuX3RyYWNraW5nID0gdHJhY2tpbmc7XG4gIH07XG5cbiAgX3Byb3RvLl91cGRhdGVWYWx1ZSA9IGZ1bmN0aW9uIF91cGRhdGVWYWx1ZSh2YWx1ZSwgZmx1c2gpIHtcbiAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdBbmltYXRlZFZhbHVlOiBBdHRlbXB0aW5nIHRvIHNldCB2YWx1ZSB0byB1bmRlZmluZWQnKTtcbiAgICB9XG5cbiAgICB0aGlzLl92YWx1ZSA9IHZhbHVlO1xuXG4gICAgaWYgKGZsdXNoKSB7XG4gICAgICBfZmx1c2godGhpcyk7XG4gICAgfVxuXG4gICAgX0FuaW1hdGVkV2l0aENoaWxkcmVuLnByb3RvdHlwZS5fX2NhbGxMaXN0ZW5lcnMuY2FsbCh0aGlzLCB0aGlzLl9fZ2V0VmFsdWUoKSk7XG4gIH07XG5cbiAgX3Byb3RvLl9fZ2V0TmF0aXZlQ29uZmlnID0gZnVuY3Rpb24gX19nZXROYXRpdmVDb25maWcoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6ICd2YWx1ZScsXG4gICAgICB2YWx1ZTogdGhpcy5fdmFsdWUsXG4gICAgICBvZmZzZXQ6IHRoaXMuX29mZnNldFxuICAgIH07XG4gIH07XG5cbiAgcmV0dXJuIEFuaW1hdGVkVmFsdWU7XG59KF9BbmltYXRlZFdpdGhDaGlsZHJlbjIuZGVmYXVsdCk7XG5cbnZhciBfZGVmYXVsdCA9IEFuaW1hdGVkVmFsdWU7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyJdLCJtYXBwaW5n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