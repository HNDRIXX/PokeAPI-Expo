98912f2190ea711b010eaf948910e804
"use strict";

exports.__esModule = true;
exports.generateNewAnimationId = generateNewAnimationId;
exports.shouldUseNativeDriver = shouldUseNativeDriver;
exports.default = void 0;
var _NativeAnimatedModule = _interopRequireDefault(require("./NativeAnimatedModule"));
var _NativeAnimatedTurboModule = _interopRequireDefault(require("./NativeAnimatedTurboModule"));
var _NativeEventEmitter = _interopRequireDefault(require("../NativeEventEmitter"));
var _Platform = _interopRequireDefault(require("../../../exports/Platform"));
var _invariant = _interopRequireDefault(require("fbjs/lib/invariant"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
var NativeAnimatedModule = _Platform.default.OS === 'ios' && global.RN$Bridgeless ? _NativeAnimatedTurboModule.default : _NativeAnimatedModule.default;
var __nativeAnimatedNodeTagCount = 1;
var __nativeAnimationIdCount = 1;
var nativeEventEmitter;
var waitingForQueuedOperations = new Set();
var queueOperations = false;
var queue = [];
var API = {
  getValue: function getValue(tag, saveValueCallback) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    if (NativeAnimatedModule.getValue) {
      NativeAnimatedModule.getValue(tag, saveValueCallback);
    }
  },
  setWaitingForIdentifier: function setWaitingForIdentifier(id) {
    waitingForQueuedOperations.add(id);
    queueOperations = true;
  },
  unsetWaitingForIdentifier: function unsetWaitingForIdentifier(id) {
    waitingForQueuedOperations.delete(id);
    if (waitingForQueuedOperations.size === 0) {
      queueOperations = false;
      API.disableQueue();
    }
  },
  disableQueue: function disableQueue() {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    if (_Platform.default.OS === 'android') {
      NativeAnimatedModule.startOperationBatch();
    }
    for (var q = 0, l = queue.length; q < l; q++) {
      queue[q]();
    }
    queue.length = 0;
    if (_Platform.default.OS === 'android') {
      NativeAnimatedModule.finishOperationBatch();
    }
  },
  queueOperation: function queueOperation(fn) {
    if (queueOperations) {
      queue.push(fn);
    } else {
      fn();
    }
  },
  createAnimatedNode: function createAnimatedNode(tag, config) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.createAnimatedNode(tag, config);
    });
  },
  startListeningToAnimatedNodeValue: function startListeningToAnimatedNodeValue(tag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.startListeningToAnimatedNodeValue(tag);
    });
  },
  stopListeningToAnimatedNodeValue: function stopListeningToAnimatedNodeValue(tag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.stopListeningToAnimatedNodeValue(tag);
    });
  },
  connectAnimatedNodes: function connectAnimatedNodes(parentTag, childTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.connectAnimatedNodes(parentTag, childTag);
    });
  },
  disconnectAnimatedNodes: function disconnectAnimatedNodes(parentTag, childTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.disconnectAnimatedNodes(parentTag, childTag);
    });
  },
  startAnimatingNode: function startAnimatingNode(animationId, nodeTag, config, endCallback) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.startAnimatingNode(animationId, nodeTag, config, endCallback);
    });
  },
  stopAnimation: function stopAnimation(animationId) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.stopAnimation(animationId);
    });
  },
  setAnimatedNodeValue: function setAnimatedNodeValue(nodeTag, value) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.setAnimatedNodeValue(nodeTag, value);
    });
  },
  setAnimatedNodeOffset: function setAnimatedNodeOffset(nodeTag, offset) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.setAnimatedNodeOffset(nodeTag, offset);
    });
  },
  flattenAnimatedNodeOffset: function flattenAnimatedNodeOffset(nodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.flattenAnimatedNodeOffset(nodeTag);
    });
  },
  extractAnimatedNodeOffset: function extractAnimatedNodeOffset(nodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.extractAnimatedNodeOffset(nodeTag);
    });
  },
  connectAnimatedNodeToView: function connectAnimatedNodeToView(nodeTag, viewTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.connectAnimatedNodeToView(nodeTag, viewTag);
    });
  },
  disconnectAnimatedNodeFromView: function disconnectAnimatedNodeFromView(nodeTag, viewTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.disconnectAnimatedNodeFromView(nodeTag, viewTag);
    });
  },
  restoreDefaultValues: function restoreDefaultValues(nodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    if (NativeAnimatedModule.restoreDefaultValues != null) {
      API.queueOperation(function () {
        return NativeAnimatedModule.restoreDefaultValues(nodeTag);
      });
    }
  },
  dropAnimatedNode: function dropAnimatedNode(tag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.dropAnimatedNode(tag);
    });
  },
  addAnimatedEventToView: function addAnimatedEventToView(viewTag, eventName, eventMapping) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.addAnimatedEventToView(viewTag, eventName, eventMapping);
    });
  },
  removeAnimatedEventFromView: function removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag) {
    (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
    API.queueOperation(function () {
      return NativeAnimatedModule.removeAnimatedEventFromView(viewTag, eventName, animatedNodeTag);
    });
  }
};
var SUPPORTED_STYLES = {
  opacity: true,
  transform: true,
  borderRadius: true,
  borderBottomEndRadius: true,
  borderBottomLeftRadius: true,
  borderBottomRightRadius: true,
  borderBottomStartRadius: true,
  borderTopEndRadius: true,
  borderTopLeftRadius: true,
  borderTopRightRadius: true,
  borderTopStartRadius: true,
  elevation: true,
  zIndex: true,
  shadowOpacity: true,
  shadowRadius: true,
  scaleX: true,
  scaleY: true,
  translateX: true,
  translateY: true
};
var SUPPORTED_TRANSFORMS = {
  translateX: true,
  translateY: true,
  scale: true,
  scaleX: true,
  scaleY: true,
  rotate: true,
  rotateX: true,
  rotateY: true,
  rotateZ: true,
  perspective: true
};
var SUPPORTED_INTERPOLATION_PARAMS = {
  inputRange: true,
  outputRange: true,
  extrapolate: true,
  extrapolateRight: true,
  extrapolateLeft: true
};
function addWhitelistedStyleProp(prop) {
  SUPPORTED_STYLES[prop] = true;
}
function addWhitelistedTransformProp(prop) {
  SUPPORTED_TRANSFORMS[prop] = true;
}
function addWhitelistedInterpolationParam(param) {
  SUPPORTED_INTERPOLATION_PARAMS[param] = true;
}
function validateTransform(configs) {
  configs.forEach(function (config) {
    if (!SUPPORTED_TRANSFORMS.hasOwnProperty(config.property)) {
      throw new Error("Property '" + config.property + "' is not supported by native animated module");
    }
  });
}
function validateStyles(styles) {
  for (var _key in styles) {
    if (!SUPPORTED_STYLES.hasOwnProperty(_key)) {
      throw new Error("Style property '" + _key + "' is not supported by native animated module");
    }
  }
}
function validateInterpolation(config) {
  for (var _key2 in config) {
    if (!SUPPORTED_INTERPOLATION_PARAMS.hasOwnProperty(_key2)) {
      throw new Error("Interpolation property '" + _key2 + "' is not supported by native animated module");
    }
  }
}
function generateNewNodeTag() {
  return __nativeAnimatedNodeTagCount++;
}
function generateNewAnimationId() {
  return __nativeAnimationIdCount++;
}
function assertNativeAnimatedModule() {
  (0, _invariant.default)(NativeAnimatedModule, 'Native animated module is not available');
}
var _warnedMissingNativeAnimated = false;
function shouldUseNativeDriver(config) {
  if (config.useNativeDriver == null) {
    console.warn('Animated: `useNativeDriver` was not specified. This is a required ' + 'option and must be explicitly set to `true` or `false`');
  }
  if (config.useNativeDriver === true && !NativeAnimatedModule) {
    if (!_warnedMissingNativeAnimated) {
      console.warn('Animated: `useNativeDriver` is not supported because the native ' + 'animated module is missing. Falling back to JS-based animation. To ' + 'resolve this, add `RCTAnimation` module to this app, or remove ' + '`useNativeDriver`. ' + 'Make sure to run `pod install` first. Read more about autolinking: https://github.com/react-native-community/cli/blob/master/docs/autolinking.md');
      _warnedMissingNativeAnimated = true;
    }
    return false;
  }
  return config.useNativeDriver || false;
}
function transformDataType(value) {
  if (typeof value !== 'string') {
    return value;
  }
  if (/deg$/.test(value)) {
    var degrees = parseFloat(value) || 0;
    var radians = degrees * Math.PI / 180.0;
    return radians;
  } else {
    return value;
  }
}
var _default = {
  API: API,
  addWhitelistedStyleProp: addWhitelistedStyleProp,
  addWhitelistedTransformProp: addWhitelistedTransformProp,
  addWhitelistedInterpolationParam: addWhitelistedInterpolationParam,
  validateStyles: validateStyles,
  validateTransform: validateTransform,
  validateInterpolation: validateInterpolation,
  generateNewNodeTag: generateNewNodeTag,
  generateNewAnimationId: generateNewAnimationId,
  assertNativeAnimatedModule: assertNativeAnimatedModule,
  shouldUseNativeDriver: shouldUseNativeDriver,
  transformDataType: transformDataType,
  get nativeEventEmitter() {
    if (!nativeEventEmitter) {
      nativeEventEmitter = new _NativeEventEmitter.default(NativeAnimatedModule);
    }
    return nativeEventEmitter;
  }
};
exports.default = _default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImdlbmVyYXRlTmV3QW5pbWF0aW9uSWQiLCJzaG91bGRVc2VOYXRpdmVEcml2ZXIiLCJkZWZhdWx0IiwiX05hdGl2ZUFuaW1hdGVkTW9kdWxlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfTmF0aXZlQW5pbWF0ZWRUdXJib01vZHVsZSIsIl9OYXRpdmVFdmVudEVtaXR0ZXIiLCJfUGxhdGZvcm0iLCJfaW52YXJpYW50Iiwib2JqIiwiTmF0aXZlQW5pbWF0ZWRNb2R1bGUiLCJPUyIsImdsb2JhbCIsIlJOJEJyaWRnZWxlc3MiLCJfX25hdGl2ZUFuaW1hdGVkTm9kZVRhZ0NvdW50IiwiX19uYXRpdmVBbmltYXRpb25JZENvdW50IiwibmF0aXZlRXZlbnRFbWl0dGVyIiwid2FpdGluZ0ZvclF1ZXVlZE9wZXJhdGlvbnMiLCJTZXQiLCJxdWV1ZU9wZXJhdGlvbnMiLCJxdWV1ZSIsIkFQSSIsImdldFZhbHVlIiwidGFnIiwic2F2ZVZhbHVlQ2FsbGJhY2siLCJzZXRXYWl0aW5nRm9ySWRlbnRpZmllciIsImlkIiwiYWRkIiwidW5zZXRXYWl0aW5nRm9ySWRlbnRpZmllciIsImRlbGV0ZSIsInNpemUiLCJkaXNhYmxlUXVldWUiLCJzdGFydE9wZXJhdGlvbkJhdGNoIiwicSIsImwiLCJsZW5ndGgiLCJmaW5pc2hPcGVyYXRpb25CYXRjaCIsInF1ZXVlT3BlcmF0aW9uIiwiZm4iLCJwdXNoIiwiY3JlYXRlQW5pbWF0ZWROb2RlIiwiY29uZmlnIiwic3RhcnRMaXN0ZW5pbmdUb0FuaW1hdGVkTm9kZVZhbHVlIiwic3RvcExpc3RlbmluZ1RvQW5pbWF0ZWROb2RlVmFsdWUiLCJjb25uZWN0QW5pbWF0ZWROb2RlcyIsInBhcmVudFRhZyIsImNoaWxkVGFnIiwiZGlzY29ubmVjdEFuaW1hdGVkTm9kZXMiLCJzdGFydEFuaW1hdGluZ05vZGUiLCJhbmltYXRpb25JZCIsIm5vZGVUYWciLCJlbmRDYWxsYmFjayIsInN0b3BBbmltYXRpb24iLCJzZXRBbmltYXRlZE5vZGVWYWx1ZSIsInZhbHVlIiwic2V0QW5pbWF0ZWROb2RlT2Zmc2V0Iiwib2Zmc2V0IiwiZmxhdHRlbkFuaW1hdGVkTm9kZU9mZnNldCIsImV4dHJhY3RBbmltYXRlZE5vZGVPZmZzZXQiLCJjb25uZWN0QW5pbWF0ZWROb2RlVG9WaWV3Iiwidmlld1RhZyIsImRpc2Nvbm5lY3RBbmltYXRlZE5vZGVGcm9tVmlldyIsInJlc3RvcmVEZWZhdWx0VmFsdWVzIiwiZHJvcEFuaW1hdGVkTm9kZSIsImFkZEFuaW1hdGVkRXZlbnRUb1ZpZXciLCJldmVudE5hbWUiLCJldmVudE1hcHBpbmciLCJyZW1vdmVBbmltYXRlZEV2ZW50RnJvbVZpZXciLCJhbmltYXRlZE5vZGVUYWciLCJTVVBQT1JURURfU1RZTEVTIiwib3BhY2l0eSIsInRyYW5zZm9ybSIsImJvcmRlclJhZGl1cyIsImJvcmRlckJvdHRvbUVuZFJhZGl1cyIsImJvcmRlckJvdHRvbUxlZnRSYWRpdXMiLCJib3JkZXJCb3R0b21SaWdodFJhZGl1cyIsImJvcmRlckJvdHRvbVN0YXJ0UmFkaXVzIiwiYm9yZGVyVG9wRW5kUmFkaXVzIiwiYm9yZGVyVG9wTGVmdFJhZGl1cyIsImJvcmRlclRvcFJpZ2h0UmFkaXVzIiwiYm9yZGVyVG9wU3RhcnRSYWRpdXMiLCJlbGV2YXRpb24iLCJ6SW5kZXgiLCJzaGFkb3dPcGFjaXR5Iiwic2hhZG93UmFkaXVzIiwic2NhbGVYIiwic2NhbGVZIiwidHJhbnNsYXRlWCIsInRyYW5zbGF0ZVkiLCJTVVBQT1JURURfVFJBTlNGT1JNUyIsInNjYWxlIiwicm90YXRlIiwicm90YXRlWCIsInJvdGF0ZVkiLCJyb3RhdGVaIiwicGVyc3BlY3RpdmUiLCJTVVBQT1JURURfSU5URVJQT0xBVElPTl9QQVJBTVMiLCJpbnB1dFJhbmdlIiwib3V0cHV0UmFuZ2UiLCJleHRyYXBvbGF0ZSIsImV4dHJhcG9sYXRlUmlnaHQiLCJleHRyYXBvbGF0ZUxlZnQiLCJhZGRXaGl0ZWxpc3RlZFN0eWxlUHJvcCIsInByb3AiLCJhZGRXaGl0ZWxpc3RlZFRyYW5zZm9ybVByb3AiLCJhZGRXaGl0ZWxpc3RlZEludGVycG9sYXRpb25QYXJhbSIsInBhcmFtIiwidmFsaWRhdGVUcmFuc2Zvcm0iLCJjb25maWdzIiwiZm9yRWFjaCIsImhhc093blByb3BlcnR5IiwicHJvcGVydHkiLCJFcnJvciIsInZhbGlkYXRlU3R5bGVzIiwic3R5bGVzIiwiX2tleSIsInZhbGlkYXRlSW50ZXJwb2xhdGlvbiIsIl9rZXkyIiwiZ2VuZXJhdGVOZXdOb2RlVGFnIiwiYXNzZXJ0TmF0aXZlQW5pbWF0ZWRNb2R1bGUiLCJfd2FybmVkTWlzc2luZ05hdGl2ZUFuaW1hdGVkIiwidXNlTmF0aXZlRHJpdmVyIiwiY29uc29sZSIsIndhcm4iLCJ0cmFuc2Zvcm1EYXRhVHlwZSIsInRlc3QiLCJkZWdyZWVzIiwicGFyc2VGbG9hdCIsInJhZGlhbnMiLCJNYXRoIiwiUEkiLCJfZGVmYXVsdCJdLCJzb3VyY2VzIjpbIk5hdGl2ZUFuaW1hdGVkSGVscGVyLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5nZW5lcmF0ZU5ld0FuaW1hdGlvbklkID0gZ2VuZXJhdGVOZXdBbmltYXRpb25JZDtcbmV4cG9ydHMuc2hvdWxkVXNlTmF0aXZlRHJpdmVyID0gc2hvdWxkVXNlTmF0aXZlRHJpdmVyO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX05hdGl2ZUFuaW1hdGVkTW9kdWxlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9OYXRpdmVBbmltYXRlZE1vZHVsZVwiKSk7XG5cbnZhciBfTmF0aXZlQW5pbWF0ZWRUdXJib01vZHVsZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4vTmF0aXZlQW5pbWF0ZWRUdXJib01vZHVsZVwiKSk7XG5cbnZhciBfTmF0aXZlRXZlbnRFbWl0dGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vTmF0aXZlRXZlbnRFbWl0dGVyXCIpKTtcblxudmFyIF9QbGF0Zm9ybSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL2V4cG9ydHMvUGxhdGZvcm1cIikpO1xuXG52YXIgX2ludmFyaWFudCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcImZianMvbGliL2ludmFyaWFudFwiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKiBAZm9ybWF0XG4gKi9cbi8vIFRPRE8gVDY5NDM3MTUyIEBwZXRldGhlaGVhdCAtIERlbGV0ZSB0aGlzIGZvcmsgd2hlbiBGYWJyaWMgc2hpcHMgdG8gMTAwJS5cbnZhciBOYXRpdmVBbmltYXRlZE1vZHVsZSA9IF9QbGF0Zm9ybS5kZWZhdWx0Lk9TID09PSAnaW9zJyAmJiBnbG9iYWwuUk4kQnJpZGdlbGVzcyA/IF9OYXRpdmVBbmltYXRlZFR1cmJvTW9kdWxlLmRlZmF1bHQgOiBfTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZGVmYXVsdDtcbnZhciBfX25hdGl2ZUFuaW1hdGVkTm9kZVRhZ0NvdW50ID0gMTtcbi8qIHVzZWQgZm9yIGFuaW1hdGVkIG5vZGVzICovXG5cbnZhciBfX25hdGl2ZUFuaW1hdGlvbklkQ291bnQgPSAxO1xuLyogdXNlZCBmb3Igc3RhcnRlZCBhbmltYXRpb25zICovXG5cbnZhciBuYXRpdmVFdmVudEVtaXR0ZXI7XG52YXIgd2FpdGluZ0ZvclF1ZXVlZE9wZXJhdGlvbnMgPSBuZXcgU2V0KCk7XG52YXIgcXVldWVPcGVyYXRpb25zID0gZmFsc2U7XG52YXIgcXVldWUgPSBbXTtcbi8qKlxuICogU2ltcGxlIHdyYXBwZXJzIGFyb3VuZCBOYXRpdmVBbmltYXRlZE1vZHVsZSB0byBwcm92aWRlIGZsb3cgYW5kIGF1dG9jb21wbGV0ZSBzdXBwb3J0IGZvclxuICogdGhlIG5hdGl2ZSBtb2R1bGUgbWV0aG9kc1xuICovXG5cbnZhciBBUEkgPSB7XG4gIGdldFZhbHVlOiBmdW5jdGlvbiBnZXRWYWx1ZSh0YWcsIHNhdmVWYWx1ZUNhbGxiYWNrKSB7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcblxuICAgIGlmIChOYXRpdmVBbmltYXRlZE1vZHVsZS5nZXRWYWx1ZSkge1xuICAgICAgTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZ2V0VmFsdWUodGFnLCBzYXZlVmFsdWVDYWxsYmFjayk7XG4gICAgfVxuICB9LFxuICBzZXRXYWl0aW5nRm9ySWRlbnRpZmllcjogZnVuY3Rpb24gc2V0V2FpdGluZ0ZvcklkZW50aWZpZXIoaWQpIHtcbiAgICB3YWl0aW5nRm9yUXVldWVkT3BlcmF0aW9ucy5hZGQoaWQpO1xuICAgIHF1ZXVlT3BlcmF0aW9ucyA9IHRydWU7XG4gIH0sXG4gIHVuc2V0V2FpdGluZ0ZvcklkZW50aWZpZXI6IGZ1bmN0aW9uIHVuc2V0V2FpdGluZ0ZvcklkZW50aWZpZXIoaWQpIHtcbiAgICB3YWl0aW5nRm9yUXVldWVkT3BlcmF0aW9ucy5kZWxldGUoaWQpO1xuXG4gICAgaWYgKHdhaXRpbmdGb3JRdWV1ZWRPcGVyYXRpb25zLnNpemUgPT09IDApIHtcbiAgICAgIHF1ZXVlT3BlcmF0aW9ucyA9IGZhbHNlO1xuICAgICAgQVBJLmRpc2FibGVRdWV1ZSgpO1xuICAgIH1cbiAgfSxcbiAgZGlzYWJsZVF1ZXVlOiBmdW5jdGlvbiBkaXNhYmxlUXVldWUoKSB7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcblxuICAgIGlmIChfUGxhdGZvcm0uZGVmYXVsdC5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZE1vZHVsZS5zdGFydE9wZXJhdGlvbkJhdGNoKCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgcSA9IDAsIGwgPSBxdWV1ZS5sZW5ndGg7IHEgPCBsOyBxKyspIHtcbiAgICAgIHF1ZXVlW3FdKCk7XG4gICAgfVxuXG4gICAgcXVldWUubGVuZ3RoID0gMDtcblxuICAgIGlmIChfUGxhdGZvcm0uZGVmYXVsdC5PUyA9PT0gJ2FuZHJvaWQnKSB7XG4gICAgICBOYXRpdmVBbmltYXRlZE1vZHVsZS5maW5pc2hPcGVyYXRpb25CYXRjaCgpO1xuICAgIH1cbiAgfSxcbiAgcXVldWVPcGVyYXRpb246IGZ1bmN0aW9uIHF1ZXVlT3BlcmF0aW9uKGZuKSB7XG4gICAgaWYgKHF1ZXVlT3BlcmF0aW9ucykge1xuICAgICAgcXVldWUucHVzaChmbik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZuKCk7XG4gICAgfVxuICB9LFxuICBjcmVhdGVBbmltYXRlZE5vZGU6IGZ1bmN0aW9uIGNyZWF0ZUFuaW1hdGVkTm9kZSh0YWcsIGNvbmZpZykge1xuICAgICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgQVBJLnF1ZXVlT3BlcmF0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBOYXRpdmVBbmltYXRlZE1vZHVsZS5jcmVhdGVBbmltYXRlZE5vZGUodGFnLCBjb25maWcpO1xuICAgIH0pO1xuICB9LFxuICBzdGFydExpc3RlbmluZ1RvQW5pbWF0ZWROb2RlVmFsdWU6IGZ1bmN0aW9uIHN0YXJ0TGlzdGVuaW5nVG9BbmltYXRlZE5vZGVWYWx1ZSh0YWcpIHtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc3RhcnRMaXN0ZW5pbmdUb0FuaW1hdGVkTm9kZVZhbHVlKHRhZyk7XG4gICAgfSk7XG4gIH0sXG4gIHN0b3BMaXN0ZW5pbmdUb0FuaW1hdGVkTm9kZVZhbHVlOiBmdW5jdGlvbiBzdG9wTGlzdGVuaW5nVG9BbmltYXRlZE5vZGVWYWx1ZSh0YWcpIHtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc3RvcExpc3RlbmluZ1RvQW5pbWF0ZWROb2RlVmFsdWUodGFnKTtcbiAgICB9KTtcbiAgfSxcbiAgY29ubmVjdEFuaW1hdGVkTm9kZXM6IGZ1bmN0aW9uIGNvbm5lY3RBbmltYXRlZE5vZGVzKHBhcmVudFRhZywgY2hpbGRUYWcpIHtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTmF0aXZlQW5pbWF0ZWRNb2R1bGUuY29ubmVjdEFuaW1hdGVkTm9kZXMocGFyZW50VGFnLCBjaGlsZFRhZyk7XG4gICAgfSk7XG4gIH0sXG4gIGRpc2Nvbm5lY3RBbmltYXRlZE5vZGVzOiBmdW5jdGlvbiBkaXNjb25uZWN0QW5pbWF0ZWROb2RlcyhwYXJlbnRUYWcsIGNoaWxkVGFnKSB7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLmRpc2Nvbm5lY3RBbmltYXRlZE5vZGVzKHBhcmVudFRhZywgY2hpbGRUYWcpO1xuICAgIH0pO1xuICB9LFxuICBzdGFydEFuaW1hdGluZ05vZGU6IGZ1bmN0aW9uIHN0YXJ0QW5pbWF0aW5nTm9kZShhbmltYXRpb25JZCwgbm9kZVRhZywgY29uZmlnLCBlbmRDYWxsYmFjaykge1xuICAgICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgQVBJLnF1ZXVlT3BlcmF0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBOYXRpdmVBbmltYXRlZE1vZHVsZS5zdGFydEFuaW1hdGluZ05vZGUoYW5pbWF0aW9uSWQsIG5vZGVUYWcsIGNvbmZpZywgZW5kQ2FsbGJhY2spO1xuICAgIH0pO1xuICB9LFxuICBzdG9wQW5pbWF0aW9uOiBmdW5jdGlvbiBzdG9wQW5pbWF0aW9uKGFuaW1hdGlvbklkKSB7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLnN0b3BBbmltYXRpb24oYW5pbWF0aW9uSWQpO1xuICAgIH0pO1xuICB9LFxuICBzZXRBbmltYXRlZE5vZGVWYWx1ZTogZnVuY3Rpb24gc2V0QW5pbWF0ZWROb2RlVmFsdWUobm9kZVRhZywgdmFsdWUpIHtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc2V0QW5pbWF0ZWROb2RlVmFsdWUobm9kZVRhZywgdmFsdWUpO1xuICAgIH0pO1xuICB9LFxuICBzZXRBbmltYXRlZE5vZGVPZmZzZXQ6IGZ1bmN0aW9uIHNldEFuaW1hdGVkTm9kZU9mZnNldChub2RlVGFnLCBvZmZzZXQpIHtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTmF0aXZlQW5pbWF0ZWRNb2R1bGUuc2V0QW5pbWF0ZWROb2RlT2Zmc2V0KG5vZGVUYWcsIG9mZnNldCk7XG4gICAgfSk7XG4gIH0sXG4gIGZsYXR0ZW5BbmltYXRlZE5vZGVPZmZzZXQ6IGZ1bmN0aW9uIGZsYXR0ZW5BbmltYXRlZE5vZGVPZmZzZXQobm9kZVRhZykge1xuICAgICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgQVBJLnF1ZXVlT3BlcmF0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBOYXRpdmVBbmltYXRlZE1vZHVsZS5mbGF0dGVuQW5pbWF0ZWROb2RlT2Zmc2V0KG5vZGVUYWcpO1xuICAgIH0pO1xuICB9LFxuICBleHRyYWN0QW5pbWF0ZWROb2RlT2Zmc2V0OiBmdW5jdGlvbiBleHRyYWN0QW5pbWF0ZWROb2RlT2Zmc2V0KG5vZGVUYWcpIHtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZXh0cmFjdEFuaW1hdGVkTm9kZU9mZnNldChub2RlVGFnKTtcbiAgICB9KTtcbiAgfSxcbiAgY29ubmVjdEFuaW1hdGVkTm9kZVRvVmlldzogZnVuY3Rpb24gY29ubmVjdEFuaW1hdGVkTm9kZVRvVmlldyhub2RlVGFnLCB2aWV3VGFnKSB7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLmNvbm5lY3RBbmltYXRlZE5vZGVUb1ZpZXcobm9kZVRhZywgdmlld1RhZyk7XG4gICAgfSk7XG4gIH0sXG4gIGRpc2Nvbm5lY3RBbmltYXRlZE5vZGVGcm9tVmlldzogZnVuY3Rpb24gZGlzY29ubmVjdEFuaW1hdGVkTm9kZUZyb21WaWV3KG5vZGVUYWcsIHZpZXdUYWcpIHtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZGlzY29ubmVjdEFuaW1hdGVkTm9kZUZyb21WaWV3KG5vZGVUYWcsIHZpZXdUYWcpO1xuICAgIH0pO1xuICB9LFxuICByZXN0b3JlRGVmYXVsdFZhbHVlczogZnVuY3Rpb24gcmVzdG9yZURlZmF1bHRWYWx1ZXMobm9kZVRhZykge1xuICAgICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7IC8vIEJhY2t3YXJkcyBjb21wYXQgd2l0aCBvbGRlciBuYXRpdmUgcnVudGltZXMsIGNhbiBiZSByZW1vdmVkIGxhdGVyLlxuXG4gICAgaWYgKE5hdGl2ZUFuaW1hdGVkTW9kdWxlLnJlc3RvcmVEZWZhdWx0VmFsdWVzICE9IG51bGwpIHtcbiAgICAgIEFQSS5xdWV1ZU9wZXJhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBOYXRpdmVBbmltYXRlZE1vZHVsZS5yZXN0b3JlRGVmYXVsdFZhbHVlcyhub2RlVGFnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgZHJvcEFuaW1hdGVkTm9kZTogZnVuY3Rpb24gZHJvcEFuaW1hdGVkTm9kZSh0YWcpIHtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShOYXRpdmVBbmltYXRlZE1vZHVsZSwgJ05hdGl2ZSBhbmltYXRlZCBtb2R1bGUgaXMgbm90IGF2YWlsYWJsZScpO1xuICAgIEFQSS5xdWV1ZU9wZXJhdGlvbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gTmF0aXZlQW5pbWF0ZWRNb2R1bGUuZHJvcEFuaW1hdGVkTm9kZSh0YWcpO1xuICAgIH0pO1xuICB9LFxuICBhZGRBbmltYXRlZEV2ZW50VG9WaWV3OiBmdW5jdGlvbiBhZGRBbmltYXRlZEV2ZW50VG9WaWV3KHZpZXdUYWcsIGV2ZW50TmFtZSwgZXZlbnRNYXBwaW5nKSB7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbiAgICBBUEkucXVldWVPcGVyYXRpb24oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIE5hdGl2ZUFuaW1hdGVkTW9kdWxlLmFkZEFuaW1hdGVkRXZlbnRUb1ZpZXcodmlld1RhZywgZXZlbnROYW1lLCBldmVudE1hcHBpbmcpO1xuICAgIH0pO1xuICB9LFxuICByZW1vdmVBbmltYXRlZEV2ZW50RnJvbVZpZXc6IGZ1bmN0aW9uIHJlbW92ZUFuaW1hdGVkRXZlbnRGcm9tVmlldyh2aWV3VGFnLCBldmVudE5hbWUsIGFuaW1hdGVkTm9kZVRhZykge1xuICAgICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKE5hdGl2ZUFuaW1hdGVkTW9kdWxlLCAnTmF0aXZlIGFuaW1hdGVkIG1vZHVsZSBpcyBub3QgYXZhaWxhYmxlJyk7XG4gICAgQVBJLnF1ZXVlT3BlcmF0aW9uKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBOYXRpdmVBbmltYXRlZE1vZHVsZS5yZW1vdmVBbmltYXRlZEV2ZW50RnJvbVZpZXcodmlld1RhZywgZXZlbnROYW1lLCBhbmltYXRlZE5vZGVUYWcpO1xuICAgIH0pO1xuICB9XG59O1xuLyoqXG4gKiBTdHlsZXMgYWxsb3dlZCBieSB0aGUgbmF0aXZlIGFuaW1hdGVkIGltcGxlbWVudGF0aW9uLlxuICpcbiAqIEluIGdlbmVyYWwgbmF0aXZlIGFuaW1hdGVkIGltcGxlbWVudGF0aW9uIHNob3VsZCBzdXBwb3J0IGFueSBudW1lcmljIHByb3BlcnR5IHRoYXQgZG9lc24ndCBuZWVkXG4gKiB0byBiZSB1cGRhdGVkIHRocm91Z2ggdGhlIHNoYWRvdyB2aWV3IGhpZXJhcmNoeSAoYWxsIG5vbi1sYXlvdXQgcHJvcGVydGllcykuXG4gKi9cblxudmFyIFNVUFBPUlRFRF9TVFlMRVMgPSB7XG4gIG9wYWNpdHk6IHRydWUsXG4gIHRyYW5zZm9ybTogdHJ1ZSxcbiAgYm9yZGVyUmFkaXVzOiB0cnVlLFxuICBib3JkZXJCb3R0b21FbmRSYWRpdXM6IHRydWUsXG4gIGJvcmRlckJvdHRvbUxlZnRSYWRpdXM6IHRydWUsXG4gIGJvcmRlckJvdHRvbVJpZ2h0UmFkaXVzOiB0cnVlLFxuICBib3JkZXJCb3R0b21TdGFydFJhZGl1czogdHJ1ZSxcbiAgYm9yZGVyVG9wRW5kUmFkaXVzOiB0cnVlLFxuICBib3JkZXJUb3BMZWZ0UmFkaXVzOiB0cnVlLFxuICBib3JkZXJUb3BSaWdodFJhZGl1czogdHJ1ZSxcbiAgYm9yZGVyVG9wU3RhcnRSYWRpdXM6IHRydWUsXG4gIGVsZXZhdGlvbjogdHJ1ZSxcbiAgekluZGV4OiB0cnVlLFxuXG4gIC8qIGlvcyBzdHlsZXMgKi9cbiAgc2hhZG93T3BhY2l0eTogdHJ1ZSxcbiAgc2hhZG93UmFkaXVzOiB0cnVlLFxuXG4gIC8qIGxlZ2FjeSBhbmRyb2lkIHRyYW5zZm9ybSBwcm9wZXJ0aWVzICovXG4gIHNjYWxlWDogdHJ1ZSxcbiAgc2NhbGVZOiB0cnVlLFxuICB0cmFuc2xhdGVYOiB0cnVlLFxuICB0cmFuc2xhdGVZOiB0cnVlXG59O1xudmFyIFNVUFBPUlRFRF9UUkFOU0ZPUk1TID0ge1xuICB0cmFuc2xhdGVYOiB0cnVlLFxuICB0cmFuc2xhdGVZOiB0cnVlLFxuICBzY2FsZTogdHJ1ZSxcbiAgc2NhbGVYOiB0cnVlLFxuICBzY2FsZVk6IHRydWUsXG4gIHJvdGF0ZTogdHJ1ZSxcbiAgcm90YXRlWDogdHJ1ZSxcbiAgcm90YXRlWTogdHJ1ZSxcbiAgcm90YXRlWjogdHJ1ZSxcbiAgcGVyc3BlY3RpdmU6IHRydWVcbn07XG52YXIgU1VQUE9SVEVEX0lOVEVSUE9MQVRJT05fUEFSQU1TID0ge1xuICBpbnB1dFJhbmdlOiB0cnVlLFxuICBvdXRwdXRSYW5nZTogdHJ1ZSxcbiAgZXh0cmFwb2xhdGU6IHRydWUsXG4gIGV4dHJhcG9sYXRlUmlnaHQ6IHRydWUsXG4gIGV4dHJhcG9sYXRlTGVmdDogdHJ1ZVxufTtcblxuZnVuY3Rpb24gYWRkV2hpdGVsaXN0ZWRTdHlsZVByb3AocHJvcCkge1xuICBTVVBQT1JURURfU1RZTEVTW3Byb3BdID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gYWRkV2hpdGVsaXN0ZWRUcmFuc2Zvcm1Qcm9wKHByb3ApIHtcbiAgU1VQUE9SVEVEX1RSQU5TRk9STVNbcHJvcF0gPSB0cnVlO1xufVxuXG5mdW5jdGlvbiBhZGRXaGl0ZWxpc3RlZEludGVycG9sYXRpb25QYXJhbShwYXJhbSkge1xuICBTVVBQT1JURURfSU5URVJQT0xBVElPTl9QQVJBTVNbcGFyYW1dID0gdHJ1ZTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGVUcmFuc2Zvcm0oY29uZmlncykge1xuICBjb25maWdzLmZvckVhY2goZnVuY3Rpb24gKGNvbmZpZykge1xuICAgIGlmICghU1VQUE9SVEVEX1RSQU5TRk9STVMuaGFzT3duUHJvcGVydHkoY29uZmlnLnByb3BlcnR5KSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUHJvcGVydHkgJ1wiICsgY29uZmlnLnByb3BlcnR5ICsgXCInIGlzIG5vdCBzdXBwb3J0ZWQgYnkgbmF0aXZlIGFuaW1hdGVkIG1vZHVsZVwiKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZVN0eWxlcyhzdHlsZXMpIHtcbiAgZm9yICh2YXIgX2tleSBpbiBzdHlsZXMpIHtcbiAgICBpZiAoIVNVUFBPUlRFRF9TVFlMRVMuaGFzT3duUHJvcGVydHkoX2tleSkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0eWxlIHByb3BlcnR5ICdcIiArIF9rZXkgKyBcIicgaXMgbm90IHN1cHBvcnRlZCBieSBuYXRpdmUgYW5pbWF0ZWQgbW9kdWxlXCIpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZUludGVycG9sYXRpb24oY29uZmlnKSB7XG4gIGZvciAodmFyIF9rZXkyIGluIGNvbmZpZykge1xuICAgIGlmICghU1VQUE9SVEVEX0lOVEVSUE9MQVRJT05fUEFSQU1TLmhhc093blByb3BlcnR5KF9rZXkyKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW50ZXJwb2xhdGlvbiBwcm9wZXJ0eSAnXCIgKyBfa2V5MiArIFwiJyBpcyBub3Qgc3VwcG9ydGVkIGJ5IG5hdGl2ZSBhbmltYXRlZCBtb2R1bGVcIik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlTmV3Tm9kZVRhZygpIHtcbiAgcmV0dXJuIF9fbmF0aXZlQW5pbWF0ZWROb2RlVGFnQ291bnQrKztcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVOZXdBbmltYXRpb25JZCgpIHtcbiAgcmV0dXJuIF9fbmF0aXZlQW5pbWF0aW9uSWRDb3VudCsrO1xufVxuXG5mdW5jdGlvbiBhc3NlcnROYXRpdmVBbmltYXRlZE1vZHVsZSgpIHtcbiAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoTmF0aXZlQW5pbWF0ZWRNb2R1bGUsICdOYXRpdmUgYW5pbWF0ZWQgbW9kdWxlIGlzIG5vdCBhdmFpbGFibGUnKTtcbn1cblxudmFyIF93YXJuZWRNaXNzaW5nTmF0aXZlQW5pbWF0ZWQgPSBmYWxzZTtcblxuZnVuY3Rpb24gc2hvdWxkVXNlTmF0aXZlRHJpdmVyKGNvbmZpZykge1xuICBpZiAoY29uZmlnLnVzZU5hdGl2ZURyaXZlciA9PSBudWxsKSB7XG4gICAgY29uc29sZS53YXJuKCdBbmltYXRlZDogYHVzZU5hdGl2ZURyaXZlcmAgd2FzIG5vdCBzcGVjaWZpZWQuIFRoaXMgaXMgYSByZXF1aXJlZCAnICsgJ29wdGlvbiBhbmQgbXVzdCBiZSBleHBsaWNpdGx5IHNldCB0byBgdHJ1ZWAgb3IgYGZhbHNlYCcpO1xuICB9XG5cbiAgaWYgKGNvbmZpZy51c2VOYXRpdmVEcml2ZXIgPT09IHRydWUgJiYgIU5hdGl2ZUFuaW1hdGVkTW9kdWxlKSB7XG4gICAgaWYgKCFfd2FybmVkTWlzc2luZ05hdGl2ZUFuaW1hdGVkKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0FuaW1hdGVkOiBgdXNlTmF0aXZlRHJpdmVyYCBpcyBub3Qgc3VwcG9ydGVkIGJlY2F1c2UgdGhlIG5hdGl2ZSAnICsgJ2FuaW1hdGVkIG1vZHVsZSBpcyBtaXNzaW5nLiBGYWxsaW5nIGJhY2sgdG8gSlMtYmFzZWQgYW5pbWF0aW9uLiBUbyAnICsgJ3Jlc29sdmUgdGhpcywgYWRkIGBSQ1RBbmltYXRpb25gIG1vZHVsZSB0byB0aGlzIGFwcCwgb3IgcmVtb3ZlICcgKyAnYHVzZU5hdGl2ZURyaXZlcmAuICcgKyAnTWFrZSBzdXJlIHRvIHJ1biBgcG9kIGluc3RhbGxgIGZpcnN0LiBSZWFkIG1vcmUgYWJvdXQgYXV0b2xpbmtpbmc6IGh0dHBzOi8vZ2l0aHViLmNvbS9yZWFjdC1uYXRpdmUtY29tbXVuaXR5L2NsaS9ibG9iL21hc3Rlci9kb2NzL2F1dG9saW5raW5nLm1kJyk7XG4gICAgICBfd2FybmVkTWlzc2luZ05hdGl2ZUFuaW1hdGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gY29uZmlnLnVzZU5hdGl2ZURyaXZlciB8fCBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdHJhbnNmb3JtRGF0YVR5cGUodmFsdWUpIHtcbiAgLy8gQ2hhbmdlIHRoZSBzdHJpbmcgdHlwZSB0byBudW1iZXIgdHlwZSBzbyB3ZSBjYW4gcmV1c2UgdGhlIHNhbWUgbG9naWMgaW5cbiAgLy8gaU9TIGFuZCBBbmRyb2lkIHBsYXRmb3JtXG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG5cbiAgaWYgKC9kZWckLy50ZXN0KHZhbHVlKSkge1xuICAgIHZhciBkZWdyZWVzID0gcGFyc2VGbG9hdCh2YWx1ZSkgfHwgMDtcbiAgICB2YXIgcmFkaWFucyA9IGRlZ3JlZXMgKiBNYXRoLlBJIC8gMTgwLjA7XG4gICAgcmV0dXJuIHJhZGlhbnM7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG59XG5cbnZhciBfZGVmYXVsdCA9IHtcbiAgQVBJOiBBUEksXG4gIGFkZFdoaXRlbGlzdGVkU3R5bGVQcm9wOiBhZGRXaGl0ZWxpc3RlZFN0eWxlUHJvcCxcbiAgYWRkV2hpdGVsaXN0ZWRUcmFuc2Zvcm1Qcm9wOiBhZGRXaGl0ZWxpc3RlZFRyYW5zZm9ybVByb3AsXG4gIGFkZFdoaXRlbGlzdGVkSW50ZXJwb2xhdGlvblBhcmFtOiBhZGRXaGl0ZWxpc3RlZEludGVycG9sYXRpb25QYXJhbSxcbiAgdmFsaWRhdGVTdHlsZXM6IHZhbGlkYXRlU3R5bGVzLFxuICB2YWxpZGF0ZVRyYW5zZm9ybTogdmFsaWRhdGVUcmFuc2Zvcm0sXG4gIHZhbGlkYXRlSW50ZXJwb2xhdGlvbjogdmFsaWRhdGVJbnRlcnBvbGF0aW9uLFxuICBnZW5lcmF0ZU5ld05vZGVUYWc6IGdlbmVyYXRlTmV3Tm9kZVRhZyxcbiAgZ2VuZXJhdGVOZXdBbmltYXRpb25JZDogZ2VuZXJhdGVOZXdBbmltYXRpb25JZCxcbiAgYXNzZXJ0TmF0aXZlQW5pbWF0ZWRNb2R1bGU6IGFzc2VydE5hdGl2ZUFuaW1hdGVkTW9kdWxlLFxuICBzaG91bGRVc2VOYXRpdmVEcml2ZXI6IHNob3VsZFVzZU5hdGl2ZURyaXZlcixcbiAgdHJhbnNmb3JtRGF0YVR5cGU6IHRyYW5zZm9ybURhdGFUeXBlLFxuXG4gIC8vICRGbG93RXhwZWN0ZWRFcnJvciAtIHVuc2FmZSBnZXR0ZXIgbGludCBzdXBwcmVzaW9uXG4gIGdldCBuYXRpdmVFdmVudEVtaXR0ZXIoKSB7XG4gICAgaWYgKCFuYXRpdmVFdmVudEVtaXR0ZXIpIHtcbiAgICAgIG5hdGl2ZUV2ZW50RW1pdHRlciA9IG5ldyBfTmF0aXZlRXZlbnRFbWl0dGVyLmRlZmF1bHQoTmF0aXZlQW5pbWF0ZWRNb2R1bGUpO1xuICAgIH1cblxuICAgIHJldHVybiBuYXRpdmVFdmVudEVtaXR0ZXI7XG4gIH1cblxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0OyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWkEsT0FBTyxDQUFDQyxVQUFVLEdBQUcsSUFBSTtBQUN6QkQsT0FBTyxDQUFDRSxzQkFBc0IsR0FBR0Esc0JB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