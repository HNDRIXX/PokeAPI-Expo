{"version":3,"names":["exports","__esModule","default","createResponderEvent","_getBoundingClientRect","_interopRequireDefault","require","_ResponderTouchHistoryStore","obj","emptyFunction","emptyObject","emptyArray","normalizeIdentifier","identifier","domEvent","rect","propagationWasStopped","changedTouches","touches","domEventChangedTouches","domEventType","type","metaKey","shiftKey","force","clientX","clientY","pageX","pageY","preventDefault","bind","timestamp","timeStamp","normalizeTouches","Array","prototype","slice","call","map","touch","locationX","locationY","target","emulatedTouches","responderEvent","bubbles","cancelable","currentTarget","defaultPrevented","dispatchConfig","eventPhase","isDefaultPrevented","isPropagationStopped","isTrusted","nativeEvent","altKey","ctrlKey","persist","stopPropagation","touchHistory","x","left","y","top","module"],"sources":["createResponderEvent.js"],"sourcesContent":["\"use strict\";\n\nexports.__esModule = true;\nexports.default = createResponderEvent;\n\nvar _getBoundingClientRect = _interopRequireDefault(require(\"../../modules/getBoundingClientRect\"));\n\nvar _ResponderTouchHistoryStore = _interopRequireDefault(require(\"./ResponderTouchHistoryStore\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Copyright (c) Nicolas Gallagher\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\nvar emptyFunction = function emptyFunction() {};\n\nvar emptyObject = {};\nvar emptyArray = [];\n/**\n * Safari produces very large identifiers that would cause the `touchBank` array\n * length to be so large as to crash the browser, if not normalized like this.\n * In the future the `touchBank` should use an object/map instead.\n */\n\nfunction normalizeIdentifier(identifier) {\n  return identifier > 20 ? identifier % 20 : identifier;\n}\n/**\n * Converts a native DOM event to a ResponderEvent.\n * Mouse events are transformed into fake touch events.\n */\n\n\nfunction createResponderEvent(domEvent) {\n  var rect;\n  var propagationWasStopped = false;\n  var changedTouches;\n  var touches;\n  var domEventChangedTouches = domEvent.changedTouches;\n  var domEventType = domEvent.type;\n  var metaKey = domEvent.metaKey === true;\n  var shiftKey = domEvent.shiftKey === true;\n  var force = domEventChangedTouches && domEventChangedTouches[0].force || 0;\n  var identifier = normalizeIdentifier(domEventChangedTouches && domEventChangedTouches[0].identifier || 0);\n  var clientX = domEventChangedTouches && domEventChangedTouches[0].clientX || domEvent.clientX;\n  var clientY = domEventChangedTouches && domEventChangedTouches[0].clientY || domEvent.clientY;\n  var pageX = domEventChangedTouches && domEventChangedTouches[0].pageX || domEvent.pageX;\n  var pageY = domEventChangedTouches && domEventChangedTouches[0].pageY || domEvent.pageY;\n  var preventDefault = typeof domEvent.preventDefault === 'function' ? domEvent.preventDefault.bind(domEvent) : emptyFunction;\n  var timestamp = domEvent.timeStamp;\n\n  function normalizeTouches(touches) {\n    return Array.prototype.slice.call(touches).map(function (touch) {\n      return {\n        force: touch.force,\n        identifier: normalizeIdentifier(touch.identifier),\n\n        get locationX() {\n          return locationX(touch.clientX);\n        },\n\n        get locationY() {\n          return locationY(touch.clientY);\n        },\n\n        pageX: touch.pageX,\n        pageY: touch.pageY,\n        target: touch.target,\n        timestamp: timestamp\n      };\n    });\n  }\n\n  if (domEventChangedTouches != null) {\n    changedTouches = normalizeTouches(domEventChangedTouches);\n    touches = normalizeTouches(domEvent.touches);\n  } else {\n    var emulatedTouches = [{\n      force: force,\n      identifier: identifier,\n\n      get locationX() {\n        return locationX(clientX);\n      },\n\n      get locationY() {\n        return locationY(clientY);\n      },\n\n      pageX: pageX,\n      pageY: pageY,\n      target: domEvent.target,\n      timestamp: timestamp\n    }];\n    changedTouches = emulatedTouches;\n    touches = domEventType === 'mouseup' || domEventType === 'dragstart' ? emptyArray : emulatedTouches;\n  }\n\n  var responderEvent = {\n    bubbles: true,\n    cancelable: true,\n    // `currentTarget` is set before dispatch\n    currentTarget: null,\n    defaultPrevented: domEvent.defaultPrevented,\n    dispatchConfig: emptyObject,\n    eventPhase: domEvent.eventPhase,\n    isDefaultPrevented: function isDefaultPrevented() {\n      return domEvent.defaultPrevented;\n    },\n    isPropagationStopped: function isPropagationStopped() {\n      return propagationWasStopped;\n    },\n    isTrusted: domEvent.isTrusted,\n    nativeEvent: {\n      altKey: false,\n      ctrlKey: false,\n      metaKey: metaKey,\n      shiftKey: shiftKey,\n      changedTouches: changedTouches,\n      force: force,\n      identifier: identifier,\n\n      get locationX() {\n        return locationX(clientX);\n      },\n\n      get locationY() {\n        return locationY(clientY);\n      },\n\n      pageX: pageX,\n      pageY: pageY,\n      target: domEvent.target,\n      timestamp: timestamp,\n      touches: touches,\n      type: domEventType\n    },\n    persist: emptyFunction,\n    preventDefault: preventDefault,\n    stopPropagation: function stopPropagation() {\n      propagationWasStopped = true;\n    },\n    target: domEvent.target,\n    timeStamp: timestamp,\n    touchHistory: _ResponderTouchHistoryStore.default.touchHistory\n  }; // Using getters and functions serves two purposes:\n  // 1) The value of `currentTarget` is not initially available.\n  // 2) Measuring the clientRect may cause layout jank and should only be done on-demand.\n\n  function locationX(x) {\n    rect = rect || (0, _getBoundingClientRect.default)(responderEvent.currentTarget);\n\n    if (rect) {\n      return x - rect.left;\n    }\n  }\n\n  function locationY(y) {\n    rect = rect || (0, _getBoundingClientRect.default)(responderEvent.currentTarget);\n\n    if (rect) {\n      return y - rect.top;\n    }\n  }\n\n  return responderEvent;\n}\n\nmodule.exports = exports.default;"],"mappings":"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","ignoreList":[]}