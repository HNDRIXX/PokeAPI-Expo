be3d0e10c42be69f0248f27340427397
"use strict";

exports.__esModule = true;
exports.default = void 0;
var React = _interopRequireWildcard(require("react"));
var _createElement = _interopRequireDefault(require("../createElement"));
var _css = _interopRequireDefault(require("../StyleSheet/css"));
var _AssetRegistry = require("../../modules/AssetRegistry");
var _resolveShadowValue = _interopRequireDefault(require("../StyleSheet/resolveShadowValue"));
var _ImageLoader = _interopRequireDefault(require("../../modules/ImageLoader"));
var _PixelRatio = _interopRequireDefault(require("../PixelRatio"));
var _StyleSheet = _interopRequireDefault(require("../StyleSheet"));
var _TextAncestorContext = _interopRequireDefault(require("../Text/TextAncestorContext"));
var _View = _interopRequireDefault(require("../View"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();
  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };
  return cache;
}
function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }
  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }
  var cache = _getRequireWildcardCache();
  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }
  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }
  newObj.default = obj;
  if (cache) {
    cache.set(obj, newObj);
  }
  return newObj;
}
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;
  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }
  return target;
}
function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }
  return keys;
}
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }
  return target;
}
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
var ERRORED = 'ERRORED';
var LOADED = 'LOADED';
var LOADING = 'LOADING';
var IDLE = 'IDLE';
var _filterId = 0;
var svgDataUriPattern = /^(data:image\/svg\+xml;utf8,)(.*)/;
function createTintColorSVG(tintColor, id) {
  return tintColor && id != null ? React.createElement("svg", {
    style: {
      position: 'absolute',
      height: 0,
      visibility: 'hidden',
      width: 0
    }
  }, React.createElement("defs", null, React.createElement("filter", {
    id: "tint-" + id,
    suppressHydrationWarning: true
  }, React.createElement("feFlood", {
    floodColor: "" + tintColor,
    key: tintColor
  }), React.createElement("feComposite", {
    in2: "SourceAlpha",
    operator: "atop"
  })))) : null;
}
function getFlatStyle(style, blurRadius, filterId) {
  var flatStyle = _objectSpread({}, _StyleSheet.default.flatten(style));
  var filter = flatStyle.filter,
    resizeMode = flatStyle.resizeMode,
    shadowOffset = flatStyle.shadowOffset,
    tintColor = flatStyle.tintColor;
  var filters = [];
  var _filter = null;
  if (filter) {
    filters.push(filter);
  }
  if (blurRadius) {
    filters.push("blur(" + blurRadius + "px)");
  }
  if (shadowOffset) {
    var shadowString = (0, _resolveShadowValue.default)(flatStyle);
    if (shadowString) {
      filters.push("drop-shadow(" + shadowString + ")");
    }
  }
  if (tintColor && filterId != null) {
    filters.push("url(#tint-" + filterId + ")");
  }
  if (filters.length > 0) {
    _filter = filters.join(' ');
  }
  delete flatStyle.blurRadius;
  delete flatStyle.shadowColor;
  delete flatStyle.shadowOpacity;
  delete flatStyle.shadowOffset;
  delete flatStyle.shadowRadius;
  delete flatStyle.tintColor;
  delete flatStyle.overlayColor;
  delete flatStyle.resizeMode;
  return [flatStyle, resizeMode, _filter, tintColor];
}
function resolveAssetDimensions(source) {
  if (typeof source === 'number') {
    var _getAssetByID = (0, _AssetRegistry.getAssetByID)(source),
      _height = _getAssetByID.height,
      _width = _getAssetByID.width;
    return {
      height: _height,
      width: _width
    };
  } else if (source != null && !Array.isArray(source) && typeof source === 'object') {
    var _height2 = source.height,
      _width2 = source.width;
    return {
      height: _height2,
      width: _width2
    };
  }
}
function resolveAssetUri(source) {
  var uri = null;
  if (typeof source === 'number') {
    var asset = (0, _AssetRegistry.getAssetByID)(source);
    var scale = asset.scales[0];
    if (asset.scales.length > 1) {
      var preferredScale = _PixelRatio.default.get();
      scale = asset.scales.reduce(function (prev, curr) {
        return Math.abs(curr - preferredScale) < Math.abs(prev - preferredScale) ? curr : prev;
      });
    }
    var scaleSuffix = scale !== 1 ? "@" + scale + "x" : '';
    uri = asset ? asset.httpServerLocation + "/" + asset.name + scaleSuffix + "." + asset.type : '';
  } else if (typeof source === 'string') {
    uri = source;
  } else if (source && typeof source.uri === 'string') {
    uri = source.uri;
  }
  if (uri) {
    var match = uri.match(svgDataUriPattern);
    if (match) {
      var prefix = match[1],
        svg = match[2];
      var encodedSvg = encodeURIComponent(svg);
      return "" + prefix + encodedSvg;
    }
  }
  return uri;
}
var Image = React.forwardRef(function (props, ref) {
  var accessibilityLabel = props.accessibilityLabel,
    blurRadius = props.blurRadius,
    defaultSource = props.defaultSource,
    draggable = props.draggable,
    onError = props.onError,
    onLayout = props.onLayout,
    onLoad = props.onLoad,
    onLoadEnd = props.onLoadEnd,
    onLoadStart = props.onLoadStart,
    pointerEvents = props.pointerEvents,
    source = props.source,
    style = props.style,
    rest = _objectWithoutPropertiesLoose(props, ["accessibilityLabel", "blurRadius", "defaultSource", "draggable", "onError", "onLayout", "onLoad", "onLoadEnd", "onLoadStart", "pointerEvents", "source", "style"]);
  if (process.env.NODE_ENV !== 'production') {
    if (props.children) {
      throw new Error('The <Image> component cannot contain children. If you want to render content on top of the image, consider using the <ImageBackground> component or absolute positioning.');
    }
  }
  var _React$useState = React.useState(function () {
      var uri = resolveAssetUri(source);
      if (uri != null) {
        var isLoaded = _ImageLoader.default.has(uri);
        if (isLoaded) {
          return LOADED;
        }
      }
      return IDLE;
    }),
    state = _React$useState[0],
    updateState = _React$useState[1];
  var _React$useState2 = React.useState({}),
    layout = _React$useState2[0],
    updateLayout = _React$useState2[1];
  var hasTextAncestor = React.useContext(_TextAncestorContext.default);
  var hiddenImageRef = React.useRef(null);
  var filterRef = React.useRef(_filterId++);
  var requestRef = React.useRef(null);
  var shouldDisplaySource = state === LOADED || state === LOADING && defaultSource == null;
  var _getFlatStyle = getFlatStyle(style, blurRadius, filterRef.current),
    flatStyle = _getFlatStyle[0],
    _resizeMode = _getFlatStyle[1],
    filter = _getFlatStyle[2],
    tintColor = _getFlatStyle[3];
  var resizeMode = props.resizeMode || _resizeMode || 'cover';
  var selectedSource = shouldDisplaySource ? source : defaultSource;
  var displayImageUri = resolveAssetUri(selectedSource);
  var imageSizeStyle = resolveAssetDimensions(selectedSource);
  var backgroundImage = displayImageUri ? "url(\"" + displayImageUri + "\")" : null;
  var backgroundSize = getBackgroundSize();
  var hiddenImage = displayImageUri ? (0, _createElement.default)('img', {
    alt: accessibilityLabel || '',
    classList: [classes.accessibilityImage],
    draggable: draggable || false,
    ref: hiddenImageRef,
    src: displayImageUri
  }) : null;
  function getBackgroundSize() {
    if (hiddenImageRef.current != null && (resizeMode === 'center' || resizeMode === 'repeat')) {
      var _hiddenImageRef$curre = hiddenImageRef.current,
        naturalHeight = _hiddenImageRef$curre.naturalHeight,
        naturalWidth = _hiddenImageRef$curre.naturalWidth;
      var _height3 = layout.height,
        _width3 = layout.width;
      if (naturalHeight && naturalWidth && _height3 && _width3) {
        var scaleFactor = Math.min(1, _width3 / naturalWidth, _height3 / naturalHeight);
        var x = Math.ceil(scaleFactor * naturalWidth);
        var y = Math.ceil(scaleFactor * naturalHeight);
        return x + "px " + y + "px";
      }
    }
  }
  function handleLayout(e) {
    if (resizeMode === 'center' || resizeMode === 'repeat' || onLayout) {
      var _layout = e.nativeEvent.layout;
      onLayout && onLayout(e);
      updateLayout(_layout);
    }
  }
  var uri = resolveAssetUri(source);
  React.useEffect(function () {
    abortPendingRequest();
    if (uri != null) {
      updateState(LOADING);
      if (onLoadStart) {
        onLoadStart();
      }
      requestRef.current = _ImageLoader.default.load(uri, function load(e) {
        updateState(LOADED);
        if (onLoad) {
          onLoad(e);
        }
        if (onLoadEnd) {
          onLoadEnd();
        }
      }, function error() {
        updateState(ERRORED);
        if (onError) {
          onError({
            nativeEvent: {
              error: "Failed to load resource " + uri + " (404)"
            }
          });
        }
        if (onLoadEnd) {
          onLoadEnd();
        }
      });
    }
    function abortPendingRequest() {
      if (requestRef.current != null) {
        _ImageLoader.default.abort(requestRef.current);
        requestRef.current = null;
      }
    }
    return abortPendingRequest;
  }, [uri, requestRef, updateState, onError, onLoad, onLoadEnd, onLoadStart]);
  return React.createElement(_View.default, _extends({}, rest, {
    accessibilityLabel: accessibilityLabel,
    onLayout: handleLayout,
    pointerEvents: pointerEvents,
    ref: ref,
    style: [styles.root, hasTextAncestor && styles.inline, imageSizeStyle, flatStyle]
  }), React.createElement(_View.default, {
    style: [styles.image, resizeModeStyles[resizeMode], {
      backgroundImage: backgroundImage,
      filter: filter
    }, backgroundSize != null && {
      backgroundSize: backgroundSize
    }],
    suppressHydrationWarning: true
  }), hiddenImage, createTintColorSVG(tintColor, filterRef.current));
});
Image.displayName = 'Image';
var ImageWithStatics = Image;
ImageWithStatics.getSize = function (uri, success, failure) {
  _ImageLoader.default.getSize(uri, success, failure);
};
ImageWithStatics.prefetch = function (uri) {
  return _ImageLoader.default.prefetch(uri);
};
ImageWithStatics.queryCache = function (uris) {
  return _ImageLoader.default.queryCache(uris);
};
var classes = _css.default.create({
  accessibilityImage: _objectSpread(_objectSpread({}, _StyleSheet.default.absoluteFillObject), {}, {
    height: '100%',
    opacity: 0,
    width: '100%',
    zIndex: -1
  })
});
var styles = _StyleSheet.default.create({
  root: {
    flexBasis: 'auto',
    overflow: 'hidden',
    zIndex: 0
  },
  inline: {
    display: 'inline-flex'
  },
  image: _objectSpread(_objectSpread({}, _StyleSheet.default.absoluteFillObject), {}, {
    backgroundColor: 'transparent',
    backgroundPosition: 'center',
    backgroundRepeat: 'no-repeat',
    backgroundSize: 'cover',
    height: '100%',
    width: '100%',
    zIndex: -1
  })
});
var resizeModeStyles = _StyleSheet.default.create({
  center: {
    backgroundSize: 'auto'
  },
  contain: {
    backgroundSize: 'contain'
  },
  cover: {
    backgroundSize: 'cover'
  },
  none: {
    backgroundPosition: '0 0',
    backgroundSize: 'auto'
  },
  repeat: {
    backgroundPosition: '0 0',
    backgroundRepeat: 'repeat',
    backgroundSize: 'auto'
  },
  stretch: {
    backgroundSize: '100% 100%'
  }
});
var _default = ImageWithStatics;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwicmVxdWlyZSIsIl9jcmVhdGVFbGVtZW50IiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsIl9jc3MiLCJfQXNzZXRSZWdpc3RyeSIsIl9yZXNvbHZlU2hhZG93VmFsdWUiLCJfSW1hZ2VMb2FkZXIiLCJfUGl4ZWxSYXRpbyIsIl9TdHlsZVNoZWV0IiwiX1RleHRBbmNlc3RvckNvbnRleHQiLCJfVmlldyIsIm9iaiIsIl9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSIsIldlYWtNYXAiLCJjYWNoZSIsImhhcyIsImdldCIsIm5ld09iaiIsImhhc1Byb3BlcnR5RGVzY3JpcHRvciIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwia2V5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJjYWxsIiwiZGVzYyIsInNldCIsIl9leHRlbmRzIiwiYXNzaWduIiwidGFyZ2V0IiwiaSIsImFyZ3VtZW50cyIsImxlbmd0aCIsInNvdXJjZSIsImFwcGx5IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJleGNsdWRlZCIsInNvdXJjZUtleXMiLCJrZXlzIiwiaW5kZXhPZiIsIm93bktleXMiLCJvYmplY3QiLCJlbnVtZXJhYmxlT25seSIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJlbnVtZXJhYmxlIiwicHVzaCIsIl9vYmplY3RTcHJlYWQiLCJmb3JFYWNoIiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJ2YWx1ZSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiRVJST1JFRCIsIkxPQURFRCIsIkxPQURJTkciLCJJRExFIiwiX2ZpbHRlcklkIiwic3ZnRGF0YVVyaVBhdHRlcm4iLCJjcmVhdGVUaW50Q29sb3JTVkciLCJ0aW50Q29sb3IiLCJpZCIsImNyZWF0ZUVsZW1lbnQiLCJzdHlsZSIsInBvc2l0aW9uIiwiaGVpZ2h0IiwidmlzaWJpbGl0eSIsIndpZHRoIiwic3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nIiwiZmxvb2RDb2xvciIsImluMiIsIm9wZXJhdG9yIiwiZ2V0RmxhdFN0eWxlIiwiYmx1clJhZGl1cyIsImZpbHRlcklkIiwiZmxhdFN0eWxlIiwiZmxhdHRlbiIsInJlc2l6ZU1vZGUiLCJzaGFkb3dPZmZzZXQiLCJmaWx0ZXJzIiwiX2ZpbHRlciIsInNoYWRvd1N0cmluZyIsImpvaW4iLCJzaGFkb3dDb2xvciIsInNoYWRvd09wYWNpdHkiLCJzaGFkb3dSYWRpdXMiLCJvdmVybGF5Q29sb3IiLCJyZXNvbHZlQXNzZXREaW1lbnNpb25zIiwiX2dldEFzc2V0QnlJRCIsImdldEFzc2V0QnlJRCIsIl9oZWlnaHQiLCJfd2lkdGgiLCJBcnJheSIsImlzQXJyYXkiLCJfaGVpZ2h0MiIsIl93aWR0aDIiLCJyZXNvbHZlQXNzZXRVcmkiLCJ1cmkiLCJhc3NldCIsInNjYWxlIiwic2NhbGVzIiwicHJlZmVycmVkU2NhbGUiLCJyZWR1Y2UiLCJwcmV2IiwiY3VyciIsIk1hdGgiLCJhYnMiLCJzY2FsZVN1ZmZpeCIsImh0dHBTZXJ2ZXJMb2NhdGlvbiIsIm5hbWUiLCJ0eXBlIiwibWF0Y2giLCJwcmVmaXgiLCJzdmciLCJlbmNvZGVkU3ZnIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiSW1hZ2UiLCJmb3J3YXJkUmVmIiwicHJvcHMiLCJyZWYiLCJhY2Nlc3NpYmlsaXR5TGFiZWwiLCJkZWZhdWx0U291cmNlIiwiZHJhZ2dhYmxlIiwib25FcnJvciIsIm9uTGF5b3V0Iiwib25Mb2FkIiwib25Mb2FkRW5kIiwib25Mb2FkU3RhcnQiLCJwb2ludGVyRXZlbnRzIiwicmVzdCIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsImNoaWxkcmVuIiwiRXJyb3IiLCJfUmVhY3QkdXNlU3RhdGUiLCJ1c2VTdGF0ZSIsImlzTG9hZGVkIiwic3RhdGUiLCJ1cGRhdGVTdGF0ZSIsIl9SZWFjdCR1c2VTdGF0ZTIiLCJsYXlvdXQiLCJ1cGRhdGVMYXlvdXQiLCJoYXNUZXh0QW5jZXN0b3IiLCJ1c2VDb250ZXh0IiwiaGlkZGVuSW1hZ2VSZWYiLCJ1c2VSZWYiLCJmaWx0ZXJSZWYiLCJyZXF1ZXN0UmVmIiwic2hvdWxkRGlzcGxheVNvdXJjZSIsIl9nZXRGbGF0U3R5bGUiLCJjdXJyZW50IiwiX3Jlc2l6ZU1vZGUiLCJzZWxlY3RlZFNvdXJjZSIsImRpc3BsYXlJbWFnZVVyaSIsImltYWdlU2l6ZVN0eWxlIiwiYmFja2dyb3VuZEltYWdlIiwiYmFja2dyb3VuZFNpemUiLCJnZXRCYWNrZ3JvdW5kU2l6ZSIsImhpZGRlbkltYWdlIiwiYWx0IiwiY2xhc3NMaXN0IiwiY2xhc3NlcyIsImFjY2Vzc2liaWxpdHlJbWFnZSIsInNyYyIsIl9oaWRkZW5JbWFnZVJlZiRjdXJyZSIsIm5hdHVyYWxIZWlnaHQiLCJuYXR1cmFsV2lkdGgiLCJfaGVpZ2h0MyIsIl93aWR0aDMiLCJzY2FsZUZhY3RvciIsIm1pbiIsIngiLCJjZWlsIiwieSIsImhhbmRsZUxheW91dCIsImUiLCJfbGF5b3V0IiwibmF0aXZlRXZlbnQiLCJ1c2VFZmZlY3QiLCJhYm9ydFBlbmRpbmdSZXF1ZXN0IiwibG9hZCIsImVycm9yIiwiYWJvcnQiLCJzdHlsZXMiLCJyb290IiwiaW5saW5lIiwiaW1hZ2UiLCJyZXNpemVNb2RlU3R5bGVzIiwiZGlzcGxheU5hbWUiLCJJbWFnZVdpdGhTdGF0aWNzIiwiZ2V0U2l6ZSIsInN1Y2Nlc3MiLCJmYWlsdXJlIiwicHJlZmV0Y2giLCJxdWVyeUNhY2hlIiwidXJpcyIsImNyZWF0ZSIsImFic29sdXRlRmlsbE9iamVjdCIsIm9wYWNpdHkiLCJ6SW5kZXgiLCJmbGV4QmFzaXMiLCJvdmVyZmxvdyIsImRpc3BsYXkiLCJiYWNrZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kUG9zaXRpb24iLCJiYWNrZ3JvdW5kUmVwZWF0IiwiY2VudGVyIiwiY29udGFpbiIsImNvdmVyIiwibm9uZSIsInJlcGVhdCIsInN0cmV0Y2giLCJfZGVmYXVsdCIsIm1vZHVsZSJdLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgUmVhY3QgPSBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChyZXF1aXJlKFwicmVhY3RcIikpO1xuXG52YXIgX2NyZWF0ZUVsZW1lbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9jcmVhdGVFbGVtZW50XCIpKTtcblxudmFyIF9jc3MgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9TdHlsZVNoZWV0L2Nzc1wiKSk7XG5cbnZhciBfQXNzZXRSZWdpc3RyeSA9IHJlcXVpcmUoXCIuLi8uLi9tb2R1bGVzL0Fzc2V0UmVnaXN0cnlcIik7XG5cbnZhciBfcmVzb2x2ZVNoYWRvd1ZhbHVlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vU3R5bGVTaGVldC9yZXNvbHZlU2hhZG93VmFsdWVcIikpO1xuXG52YXIgX0ltYWdlTG9hZGVyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vbW9kdWxlcy9JbWFnZUxvYWRlclwiKSk7XG5cbnZhciBfUGl4ZWxSYXRpbyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL1BpeGVsUmF0aW9cIikpO1xuXG52YXIgX1N0eWxlU2hlZXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9TdHlsZVNoZWV0XCIpKTtcblxudmFyIF9UZXh0QW5jZXN0b3JDb250ZXh0ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vVGV4dC9UZXh0QW5jZXN0b3JDb250ZXh0XCIpKTtcblxudmFyIF9WaWV3ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vVmlld1wiKSk7XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQob2JqKSB7IHJldHVybiBvYmogJiYgb2JqLl9fZXNNb2R1bGUgPyBvYmogOiB7IGRlZmF1bHQ6IG9iaiB9OyB9XG5cbmZ1bmN0aW9uIF9nZXRSZXF1aXJlV2lsZGNhcmRDYWNoZSgpIHsgaWYgKHR5cGVvZiBXZWFrTWFwICE9PSBcImZ1bmN0aW9uXCIpIHJldHVybiBudWxsOyB2YXIgY2FjaGUgPSBuZXcgV2Vha01hcCgpOyBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUgPSBmdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IHJldHVybiBjYWNoZTsgfTsgcmV0dXJuIGNhY2hlOyB9XG5cbmZ1bmN0aW9uIF9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkKG9iaikgeyBpZiAob2JqICYmIG9iai5fX2VzTW9kdWxlKSB7IHJldHVybiBvYmo7IH0gaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmogIT09IFwiZnVuY3Rpb25cIikgeyByZXR1cm4geyBkZWZhdWx0OiBvYmogfTsgfSB2YXIgY2FjaGUgPSBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKTsgaWYgKGNhY2hlICYmIGNhY2hlLmhhcyhvYmopKSB7IHJldHVybiBjYWNoZS5nZXQob2JqKTsgfSB2YXIgbmV3T2JqID0ge307IHZhciBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPSBPYmplY3QuZGVmaW5lUHJvcGVydHkgJiYgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcjsgZm9yICh2YXIga2V5IGluIG9iaikgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaiwga2V5KSkgeyB2YXIgZGVzYyA9IGhhc1Byb3BlcnR5RGVzY3JpcHRvciA/IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqLCBrZXkpIDogbnVsbDsgaWYgKGRlc2MgJiYgKGRlc2MuZ2V0IHx8IGRlc2Muc2V0KSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkobmV3T2JqLCBrZXksIGRlc2MpOyB9IGVsc2UgeyBuZXdPYmpba2V5XSA9IG9ialtrZXldOyB9IH0gfSBuZXdPYmouZGVmYXVsdCA9IG9iajsgaWYgKGNhY2hlKSB7IGNhY2hlLnNldChvYmosIG5ld09iaik7IH0gcmV0dXJuIG5ld09iajsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIG93bktleXMob2JqZWN0LCBlbnVtZXJhYmxlT25seSkgeyB2YXIga2V5cyA9IE9iamVjdC5rZXlzKG9iamVjdCk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBzeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhvYmplY3QpOyBpZiAoZW51bWVyYWJsZU9ubHkpIHN5bWJvbHMgPSBzeW1ib2xzLmZpbHRlcihmdW5jdGlvbiAoc3ltKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iamVjdCwgc3ltKS5lbnVtZXJhYmxlOyB9KTsga2V5cy5wdXNoLmFwcGx5KGtleXMsIHN5bWJvbHMpOyB9IHJldHVybiBrZXlzOyB9XG5cbmZ1bmN0aW9uIF9vYmplY3RTcHJlYWQodGFyZ2V0KSB7IGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7IHZhciBzb3VyY2UgPSBhcmd1bWVudHNbaV0gIT0gbnVsbCA/IGFyZ3VtZW50c1tpXSA6IHt9OyBpZiAoaSAlIDIpIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSwgdHJ1ZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IF9kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgc291cmNlW2tleV0pOyB9KTsgfSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycykgeyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKHNvdXJjZSkpOyB9IGVsc2UgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHNvdXJjZSwga2V5KSk7IH0pOyB9IH0gcmV0dXJuIHRhcmdldDsgfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuXG52YXIgRVJST1JFRCA9ICdFUlJPUkVEJztcbnZhciBMT0FERUQgPSAnTE9BREVEJztcbnZhciBMT0FESU5HID0gJ0xPQURJTkcnO1xudmFyIElETEUgPSAnSURMRSc7XG52YXIgX2ZpbHRlcklkID0gMDtcbnZhciBzdmdEYXRhVXJpUGF0dGVybiA9IC9eKGRhdGE6aW1hZ2VcXC9zdmdcXCt4bWw7dXRmOCwpKC4qKS87XG5cbmZ1bmN0aW9uIGNyZWF0ZVRpbnRDb2xvclNWRyh0aW50Q29sb3IsIGlkKSB7XG4gIHJldHVybiB0aW50Q29sb3IgJiYgaWQgIT0gbnVsbCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KFwic3ZnXCIsIHtcbiAgICBzdHlsZToge1xuICAgICAgcG9zaXRpb246ICdhYnNvbHV0ZScsXG4gICAgICBoZWlnaHQ6IDAsXG4gICAgICB2aXNpYmlsaXR5OiAnaGlkZGVuJyxcbiAgICAgIHdpZHRoOiAwXG4gICAgfVxuICB9LCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImRlZnNcIiwgbnVsbCwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmaWx0ZXJcIiwge1xuICAgIGlkOiBcInRpbnQtXCIgKyBpZCxcbiAgICBzdXBwcmVzc0h5ZHJhdGlvbldhcm5pbmc6IHRydWVcbiAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoXCJmZUZsb29kXCIsIHtcbiAgICBmbG9vZENvbG9yOiBcIlwiICsgdGludENvbG9yLFxuICAgIGtleTogdGludENvbG9yXG4gIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChcImZlQ29tcG9zaXRlXCIsIHtcbiAgICBpbjI6IFwiU291cmNlQWxwaGFcIixcbiAgICBvcGVyYXRvcjogXCJhdG9wXCJcbiAgfSkpKSkgOiBudWxsO1xufVxuXG5mdW5jdGlvbiBnZXRGbGF0U3R5bGUoc3R5bGUsIGJsdXJSYWRpdXMsIGZpbHRlcklkKSB7XG4gIHZhciBmbGF0U3R5bGUgPSBfb2JqZWN0U3ByZWFkKHt9LCBfU3R5bGVTaGVldC5kZWZhdWx0LmZsYXR0ZW4oc3R5bGUpKTtcblxuICB2YXIgZmlsdGVyID0gZmxhdFN0eWxlLmZpbHRlcixcbiAgICAgIHJlc2l6ZU1vZGUgPSBmbGF0U3R5bGUucmVzaXplTW9kZSxcbiAgICAgIHNoYWRvd09mZnNldCA9IGZsYXRTdHlsZS5zaGFkb3dPZmZzZXQsXG4gICAgICB0aW50Q29sb3IgPSBmbGF0U3R5bGUudGludENvbG9yOyAvLyBBZGQgQ1NTIGZpbHRlcnNcbiAgLy8gUmVhY3QgTmF0aXZlIGV4cG9zZXMgdGhlc2UgZmVhdHVyZXMgYXMgcHJvcHMgYW5kIHByb3ByaWV0YXJ5IHN0eWxlc1xuXG4gIHZhciBmaWx0ZXJzID0gW107XG4gIHZhciBfZmlsdGVyID0gbnVsbDtcblxuICBpZiAoZmlsdGVyKSB7XG4gICAgZmlsdGVycy5wdXNoKGZpbHRlcik7XG4gIH1cblxuICBpZiAoYmx1clJhZGl1cykge1xuICAgIGZpbHRlcnMucHVzaChcImJsdXIoXCIgKyBibHVyUmFkaXVzICsgXCJweClcIik7XG4gIH1cblxuICBpZiAoc2hhZG93T2Zmc2V0KSB7XG4gICAgdmFyIHNoYWRvd1N0cmluZyA9ICgwLCBfcmVzb2x2ZVNoYWRvd1ZhbHVlLmRlZmF1bHQpKGZsYXRTdHlsZSk7XG5cbiAgICBpZiAoc2hhZG93U3RyaW5nKSB7XG4gICAgICBmaWx0ZXJzLnB1c2goXCJkcm9wLXNoYWRvdyhcIiArIHNoYWRvd1N0cmluZyArIFwiKVwiKTtcbiAgICB9XG4gIH1cblxuICBpZiAodGludENvbG9yICYmIGZpbHRlcklkICE9IG51bGwpIHtcbiAgICBmaWx0ZXJzLnB1c2goXCJ1cmwoI3RpbnQtXCIgKyBmaWx0ZXJJZCArIFwiKVwiKTtcbiAgfVxuXG4gIGlmIChmaWx0ZXJzLmxlbmd0aCA+IDApIHtcbiAgICBfZmlsdGVyID0gZmlsdGVycy5qb2luKCcgJyk7XG4gIH0gLy8gVGhlc2Ugc3R5bGVzIGFyZSBjb252ZXJ0ZWQgdG8gQ1NTIGZpbHRlcnMgYXBwbGllZCB0byB0aGVcbiAgLy8gZWxlbWVudCBkaXNwbGF5aW5nIHRoZSBiYWNrZ3JvdW5kIGltYWdlLlxuXG5cbiAgZGVsZXRlIGZsYXRTdHlsZS5ibHVyUmFkaXVzO1xuICBkZWxldGUgZmxhdFN0eWxlLnNoYWRvd0NvbG9yO1xuICBkZWxldGUgZmxhdFN0eWxlLnNoYWRvd09wYWNpdHk7XG4gIGRlbGV0ZSBmbGF0U3R5bGUuc2hhZG93T2Zmc2V0O1xuICBkZWxldGUgZmxhdFN0eWxlLnNoYWRvd1JhZGl1cztcbiAgZGVsZXRlIGZsYXRTdHlsZS50aW50Q29sb3I7IC8vIFRoZXNlIHN0eWxlcyBhcmUgbm90IHN1cHBvcnRlZCBvbiBWaWV3XG5cbiAgZGVsZXRlIGZsYXRTdHlsZS5vdmVybGF5Q29sb3I7XG4gIGRlbGV0ZSBmbGF0U3R5bGUucmVzaXplTW9kZTtcbiAgcmV0dXJuIFtmbGF0U3R5bGUsIHJlc2l6ZU1vZGUsIF9maWx0ZXIsIHRpbnRDb2xvcl07XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVBc3NldERpbWVuc2lvbnMoc291cmNlKSB7XG4gIGlmICh0eXBlb2Ygc291cmNlID09PSAnbnVtYmVyJykge1xuICAgIHZhciBfZ2V0QXNzZXRCeUlEID0gKDAsIF9Bc3NldFJlZ2lzdHJ5LmdldEFzc2V0QnlJRCkoc291cmNlKSxcbiAgICAgICAgX2hlaWdodCA9IF9nZXRBc3NldEJ5SUQuaGVpZ2h0LFxuICAgICAgICBfd2lkdGggPSBfZ2V0QXNzZXRCeUlELndpZHRoO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGhlaWdodDogX2hlaWdodCxcbiAgICAgIHdpZHRoOiBfd2lkdGhcbiAgICB9O1xuICB9IGVsc2UgaWYgKHNvdXJjZSAhPSBudWxsICYmICFBcnJheS5pc0FycmF5KHNvdXJjZSkgJiYgdHlwZW9mIHNvdXJjZSA9PT0gJ29iamVjdCcpIHtcbiAgICB2YXIgX2hlaWdodDIgPSBzb3VyY2UuaGVpZ2h0LFxuICAgICAgICBfd2lkdGgyID0gc291cmNlLndpZHRoO1xuICAgIHJldHVybiB7XG4gICAgICBoZWlnaHQ6IF9oZWlnaHQyLFxuICAgICAgd2lkdGg6IF93aWR0aDJcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlc29sdmVBc3NldFVyaShzb3VyY2UpIHtcbiAgdmFyIHVyaSA9IG51bGw7XG5cbiAgaWYgKHR5cGVvZiBzb3VyY2UgPT09ICdudW1iZXInKSB7XG4gICAgLy8gZ2V0IHRoZSBVUkkgZnJvbSB0aGUgcGFja2FnZXJcbiAgICB2YXIgYXNzZXQgPSAoMCwgX0Fzc2V0UmVnaXN0cnkuZ2V0QXNzZXRCeUlEKShzb3VyY2UpO1xuICAgIHZhciBzY2FsZSA9IGFzc2V0LnNjYWxlc1swXTtcblxuICAgIGlmIChhc3NldC5zY2FsZXMubGVuZ3RoID4gMSkge1xuICAgICAgdmFyIHByZWZlcnJlZFNjYWxlID0gX1BpeGVsUmF0aW8uZGVmYXVsdC5nZXQoKTsgLy8gR2V0IHRoZSBzY2FsZSB3aGljaCBpcyBjbG9zZXN0IHRvIHRoZSBwcmVmZXJyZWQgc2NhbGVcblxuXG4gICAgICBzY2FsZSA9IGFzc2V0LnNjYWxlcy5yZWR1Y2UoZnVuY3Rpb24gKHByZXYsIGN1cnIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguYWJzKGN1cnIgLSBwcmVmZXJyZWRTY2FsZSkgPCBNYXRoLmFicyhwcmV2IC0gcHJlZmVycmVkU2NhbGUpID8gY3VyciA6IHByZXY7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgc2NhbGVTdWZmaXggPSBzY2FsZSAhPT0gMSA/IFwiQFwiICsgc2NhbGUgKyBcInhcIiA6ICcnO1xuICAgIHVyaSA9IGFzc2V0ID8gYXNzZXQuaHR0cFNlcnZlckxvY2F0aW9uICsgXCIvXCIgKyBhc3NldC5uYW1lICsgc2NhbGVTdWZmaXggKyBcIi5cIiArIGFzc2V0LnR5cGUgOiAnJztcbiAgfSBlbHNlIGlmICh0eXBlb2Ygc291cmNlID09PSAnc3RyaW5nJykge1xuICAgIHVyaSA9IHNvdXJjZTtcbiAgfSBlbHNlIGlmIChzb3VyY2UgJiYgdHlwZW9mIHNvdXJjZS51cmkgPT09ICdzdHJpbmcnKSB7XG4gICAgdXJpID0gc291cmNlLnVyaTtcbiAgfVxuXG4gIGlmICh1cmkpIHtcbiAgICB2YXIgbWF0Y2ggPSB1cmkubWF0Y2goc3ZnRGF0YVVyaVBhdHRlcm4pOyAvLyBpbmxpbmUgU1ZHIG1hcmt1cCBtYXkgY29udGFpbiBjaGFyYWN0ZXJzIChlLmcuLCAjLCBcIikgdGhhdCBuZWVkIHRvIGJlIGVzY2FwZWRcblxuICAgIGlmIChtYXRjaCkge1xuICAgICAgdmFyIHByZWZpeCA9IG1hdGNoWzFdLFxuICAgICAgICAgIHN2ZyA9IG1hdGNoWzJdO1xuICAgICAgdmFyIGVuY29kZWRTdmcgPSBlbmNvZGVVUklDb21wb25lbnQoc3ZnKTtcbiAgICAgIHJldHVybiBcIlwiICsgcHJlZml4ICsgZW5jb2RlZFN2ZztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdXJpO1xufVxuXG52YXIgSW1hZ2UgPSAvKiNfX1BVUkVfXyovUmVhY3QuZm9yd2FyZFJlZihmdW5jdGlvbiAocHJvcHMsIHJlZikge1xuICB2YXIgYWNjZXNzaWJpbGl0eUxhYmVsID0gcHJvcHMuYWNjZXNzaWJpbGl0eUxhYmVsLFxuICAgICAgYmx1clJhZGl1cyA9IHByb3BzLmJsdXJSYWRpdXMsXG4gICAgICBkZWZhdWx0U291cmNlID0gcHJvcHMuZGVmYXVsdFNvdXJjZSxcbiAgICAgIGRyYWdnYWJsZSA9IHByb3BzLmRyYWdnYWJsZSxcbiAgICAgIG9uRXJyb3IgPSBwcm9wcy5vbkVycm9yLFxuICAgICAgb25MYXlvdXQgPSBwcm9wcy5vbkxheW91dCxcbiAgICAgIG9uTG9hZCA9IHByb3BzLm9uTG9hZCxcbiAgICAgIG9uTG9hZEVuZCA9IHByb3BzLm9uTG9hZEVuZCxcbiAgICAgIG9uTG9hZFN0YXJ0ID0gcHJvcHMub25Mb2FkU3RhcnQsXG4gICAgICBwb2ludGVyRXZlbnRzID0gcHJvcHMucG9pbnRlckV2ZW50cyxcbiAgICAgIHNvdXJjZSA9IHByb3BzLnNvdXJjZSxcbiAgICAgIHN0eWxlID0gcHJvcHMuc3R5bGUsXG4gICAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UocHJvcHMsIFtcImFjY2Vzc2liaWxpdHlMYWJlbFwiLCBcImJsdXJSYWRpdXNcIiwgXCJkZWZhdWx0U291cmNlXCIsIFwiZHJhZ2dhYmxlXCIsIFwib25FcnJvclwiLCBcIm9uTGF5b3V0XCIsIFwib25Mb2FkXCIsIFwib25Mb2FkRW5kXCIsIFwib25Mb2FkU3RhcnRcIiwgXCJwb2ludGVyRXZlbnRzXCIsIFwic291cmNlXCIsIFwic3R5bGVcIl0pO1xuXG4gIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViAhPT0gJ3Byb2R1Y3Rpb24nKSB7XG4gICAgaWYgKHByb3BzLmNoaWxkcmVuKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZSA8SW1hZ2U+IGNvbXBvbmVudCBjYW5ub3QgY29udGFpbiBjaGlsZHJlbi4gSWYgeW91IHdhbnQgdG8gcmVuZGVyIGNvbnRlbnQgb24gdG9wIG9mIHRoZSBpbWFnZSwgY29uc2lkZXIgdXNpbmcgdGhlIDxJbWFnZUJhY2tncm91bmQ+IGNvbXBvbmVudCBvciBhYnNvbHV0ZSBwb3NpdGlvbmluZy4nKTtcbiAgICB9XG4gIH1cblxuICB2YXIgX1JlYWN0JHVzZVN0YXRlID0gUmVhY3QudXNlU3RhdGUoZnVuY3Rpb24gKCkge1xuICAgIHZhciB1cmkgPSByZXNvbHZlQXNzZXRVcmkoc291cmNlKTtcblxuICAgIGlmICh1cmkgIT0gbnVsbCkge1xuICAgICAgdmFyIGlzTG9hZGVkID0gX0ltYWdlTG9hZGVyLmRlZmF1bHQuaGFzKHVyaSk7XG5cbiAgICAgIGlmIChpc0xvYWRlZCkge1xuICAgICAgICByZXR1cm4gTE9BREVEO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBJRExFO1xuICB9KSxcbiAgICAgIHN0YXRlID0gX1JlYWN0JHVzZVN0YXRlWzBdLFxuICAgICAgdXBkYXRlU3RhdGUgPSBfUmVhY3QkdXNlU3RhdGVbMV07XG5cbiAgdmFyIF9SZWFjdCR1c2VTdGF0ZTIgPSBSZWFjdC51c2VTdGF0ZSh7fSksXG4gICAgICBsYXlvdXQgPSBfUmVhY3QkdXNlU3RhdGUyWzBdLFxuICAgICAgdXBkYXRlTGF5b3V0ID0gX1JlYWN0JHVzZVN0YXRlMlsxXTtcblxuICB2YXIgaGFzVGV4dEFuY2VzdG9yID0gUmVhY3QudXNlQ29udGV4dChfVGV4dEFuY2VzdG9yQ29udGV4dC5kZWZhdWx0KTtcbiAgdmFyIGhpZGRlbkltYWdlUmVmID0gUmVhY3QudXNlUmVmKG51bGwpO1xuICB2YXIgZmlsdGVyUmVmID0gUmVhY3QudXNlUmVmKF9maWx0ZXJJZCsrKTtcbiAgdmFyIHJlcXVlc3RSZWYgPSBSZWFjdC51c2VSZWYobnVsbCk7XG4gIHZhciBzaG91bGREaXNwbGF5U291cmNlID0gc3RhdGUgPT09IExPQURFRCB8fCBzdGF0ZSA9PT0gTE9BRElORyAmJiBkZWZhdWx0U291cmNlID09IG51bGw7XG5cbiAgdmFyIF9nZXRGbGF0U3R5bGUgPSBnZXRGbGF0U3R5bGUoc3R5bGUsIGJsdXJSYWRpdXMsIGZpbHRlclJlZi5jdXJyZW50KSxcbiAgICAgIGZsYXRTdHlsZSA9IF9nZXRGbGF0U3R5bGVbMF0sXG4gICAgICBfcmVzaXplTW9kZSA9IF9nZXRGbGF0U3R5bGVbMV0sXG4gICAgICBmaWx0ZXIgPSBfZ2V0RmxhdFN0eWxlWzJdLFxuICAgICAgdGludENvbG9yID0gX2dldEZsYXRTdHlsZVszXTtcblxuICB2YXIgcmVzaXplTW9kZSA9IHByb3BzLnJlc2l6ZU1vZGUgfHwgX3Jlc2l6ZU1vZGUgfHwgJ2NvdmVyJztcbiAgdmFyIHNlbGVjdGVkU291cmNlID0gc2hvdWxkRGlzcGxheVNvdXJjZSA/IHNvdXJjZSA6IGRlZmF1bHRTb3VyY2U7XG4gIHZhciBkaXNwbGF5SW1hZ2VVcmkgPSByZXNvbHZlQXNzZXRVcmkoc2VsZWN0ZWRTb3VyY2UpO1xuICB2YXIgaW1hZ2VTaXplU3R5bGUgPSByZXNvbHZlQXNzZXREaW1lbnNpb25zKHNlbGVjdGVkU291cmNlKTtcbiAgdmFyIGJhY2tncm91bmRJbWFnZSA9IGRpc3BsYXlJbWFnZVVyaSA/IFwidXJsKFxcXCJcIiArIGRpc3BsYXlJbWFnZVVyaSArIFwiXFxcIilcIiA6IG51bGw7XG4gIHZhciBiYWNrZ3JvdW5kU2l6ZSA9IGdldEJhY2tncm91bmRTaXplKCk7IC8vIEFjY2Vzc2liaWxpdHkgaW1hZ2UgYWxsb3dzIHVzZXJzIHRvIHRyaWdnZXIgdGhlIGJyb3dzZXIncyBpbWFnZSBjb250ZXh0IG1lbnVcblxuICB2YXIgaGlkZGVuSW1hZ2UgPSBkaXNwbGF5SW1hZ2VVcmkgPyAoMCwgX2NyZWF0ZUVsZW1lbnQuZGVmYXVsdCkoJ2ltZycsIHtcbiAgICBhbHQ6IGFjY2Vzc2liaWxpdHlMYWJlbCB8fCAnJyxcbiAgICBjbGFzc0xpc3Q6IFtjbGFzc2VzLmFjY2Vzc2liaWxpdHlJbWFnZV0sXG4gICAgZHJhZ2dhYmxlOiBkcmFnZ2FibGUgfHwgZmFsc2UsXG4gICAgcmVmOiBoaWRkZW5JbWFnZVJlZixcbiAgICBzcmM6IGRpc3BsYXlJbWFnZVVyaVxuICB9KSA6IG51bGw7XG5cbiAgZnVuY3Rpb24gZ2V0QmFja2dyb3VuZFNpemUoKSB7XG4gICAgaWYgKGhpZGRlbkltYWdlUmVmLmN1cnJlbnQgIT0gbnVsbCAmJiAocmVzaXplTW9kZSA9PT0gJ2NlbnRlcicgfHwgcmVzaXplTW9kZSA9PT0gJ3JlcGVhdCcpKSB7XG4gICAgICB2YXIgX2hpZGRlbkltYWdlUmVmJGN1cnJlID0gaGlkZGVuSW1hZ2VSZWYuY3VycmVudCxcbiAgICAgICAgICBuYXR1cmFsSGVpZ2h0ID0gX2hpZGRlbkltYWdlUmVmJGN1cnJlLm5hdHVyYWxIZWlnaHQsXG4gICAgICAgICAgbmF0dXJhbFdpZHRoID0gX2hpZGRlbkltYWdlUmVmJGN1cnJlLm5hdHVyYWxXaWR0aDtcbiAgICAgIHZhciBfaGVpZ2h0MyA9IGxheW91dC5oZWlnaHQsXG4gICAgICAgICAgX3dpZHRoMyA9IGxheW91dC53aWR0aDtcblxuICAgICAgaWYgKG5hdHVyYWxIZWlnaHQgJiYgbmF0dXJhbFdpZHRoICYmIF9oZWlnaHQzICYmIF93aWR0aDMpIHtcbiAgICAgICAgdmFyIHNjYWxlRmFjdG9yID0gTWF0aC5taW4oMSwgX3dpZHRoMyAvIG5hdHVyYWxXaWR0aCwgX2hlaWdodDMgLyBuYXR1cmFsSGVpZ2h0KTtcbiAgICAgICAgdmFyIHggPSBNYXRoLmNlaWwoc2NhbGVGYWN0b3IgKiBuYXR1cmFsV2lkdGgpO1xuICAgICAgICB2YXIgeSA9IE1hdGguY2VpbChzY2FsZUZhY3RvciAqIG5hdHVyYWxIZWlnaHQpO1xuICAgICAgICByZXR1cm4geCArIFwicHggXCIgKyB5ICsgXCJweFwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGhhbmRsZUxheW91dChlKSB7XG4gICAgaWYgKHJlc2l6ZU1vZGUgPT09ICdjZW50ZXInIHx8IHJlc2l6ZU1vZGUgPT09ICdyZXBlYXQnIHx8IG9uTGF5b3V0KSB7XG4gICAgICB2YXIgX2xheW91dCA9IGUubmF0aXZlRXZlbnQubGF5b3V0O1xuICAgICAgb25MYXlvdXQgJiYgb25MYXlvdXQoZSk7XG4gICAgICB1cGRhdGVMYXlvdXQoX2xheW91dCk7XG4gICAgfVxuICB9IC8vIEltYWdlIGxvYWRpbmdcblxuXG4gIHZhciB1cmkgPSByZXNvbHZlQXNzZXRVcmkoc291cmNlKTtcbiAgUmVhY3QudXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcbiAgICBhYm9ydFBlbmRpbmdSZXF1ZXN0KCk7XG5cbiAgICBpZiAodXJpICE9IG51bGwpIHtcbiAgICAgIHVwZGF0ZVN0YXRlKExPQURJTkcpO1xuXG4gICAgICBpZiAob25Mb2FkU3RhcnQpIHtcbiAgICAgICAgb25Mb2FkU3RhcnQoKTtcbiAgICAgIH1cblxuICAgICAgcmVxdWVzdFJlZi5jdXJyZW50ID0gX0ltYWdlTG9hZGVyLmRlZmF1bHQubG9hZCh1cmksIGZ1bmN0aW9uIGxvYWQoZSkge1xuICAgICAgICB1cGRhdGVTdGF0ZShMT0FERUQpO1xuXG4gICAgICAgIGlmIChvbkxvYWQpIHtcbiAgICAgICAgICBvbkxvYWQoZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob25Mb2FkRW5kKSB7XG4gICAgICAgICAgb25Mb2FkRW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH0sIGZ1bmN0aW9uIGVycm9yKCkge1xuICAgICAgICB1cGRhdGVTdGF0ZShFUlJPUkVEKTtcblxuICAgICAgICBpZiAob25FcnJvcikge1xuICAgICAgICAgIG9uRXJyb3Ioe1xuICAgICAgICAgICAgbmF0aXZlRXZlbnQ6IHtcbiAgICAgICAgICAgICAgZXJyb3I6IFwiRmFpbGVkIHRvIGxvYWQgcmVzb3VyY2UgXCIgKyB1cmkgKyBcIiAoNDA0KVwiXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob25Mb2FkRW5kKSB7XG4gICAgICAgICAgb25Mb2FkRW5kKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFib3J0UGVuZGluZ1JlcXVlc3QoKSB7XG4gICAgICBpZiAocmVxdWVzdFJlZi5jdXJyZW50ICE9IG51bGwpIHtcbiAgICAgICAgX0ltYWdlTG9hZGVyLmRlZmF1bHQuYWJvcnQocmVxdWVzdFJlZi5jdXJyZW50KTtcblxuICAgICAgICByZXF1ZXN0UmVmLmN1cnJlbnQgPSBudWxsO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBhYm9ydFBlbmRpbmdSZXF1ZXN0O1xuICB9LCBbdXJpLCByZXF1ZXN0UmVmLCB1cGRhdGVTdGF0ZSwgb25FcnJvciwgb25Mb2FkLCBvbkxvYWRFbmQsIG9uTG9hZFN0YXJ0XSk7XG4gIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCBfZXh0ZW5kcyh7fSwgcmVzdCwge1xuICAgIGFjY2Vzc2liaWxpdHlMYWJlbDogYWNjZXNzaWJpbGl0eUxhYmVsLFxuICAgIG9uTGF5b3V0OiBoYW5kbGVMYXlvdXQsXG4gICAgcG9pbnRlckV2ZW50czogcG9pbnRlckV2ZW50cyxcbiAgICByZWY6IHJlZixcbiAgICBzdHlsZTogW3N0eWxlcy5yb290LCBoYXNUZXh0QW5jZXN0b3IgJiYgc3R5bGVzLmlubGluZSwgaW1hZ2VTaXplU3R5bGUsIGZsYXRTdHlsZV1cbiAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHtcbiAgICBzdHlsZTogW3N0eWxlcy5pbWFnZSwgcmVzaXplTW9kZVN0eWxlc1tyZXNpemVNb2RlXSwge1xuICAgICAgYmFja2dyb3VuZEltYWdlOiBiYWNrZ3JvdW5kSW1hZ2UsXG4gICAgICBmaWx0ZXI6IGZpbHRlclxuICAgIH0sIGJhY2tncm91bmRTaXplICE9IG51bGwgJiYge1xuICAgICAgYmFja2dyb3VuZFNpemU6IGJhY2tncm91bmRTaXplXG4gICAgfV0sXG4gICAgc3VwcHJlc3NIeWRyYXRpb25XYXJuaW5nOiB0cnVlXG4gIH0pLCBoaWRkZW5JbWFnZSwgY3JlYXRlVGludENvbG9yU1ZHKHRpbnRDb2xvciwgZmlsdGVyUmVmLmN1cnJlbnQpKTtcbn0pO1xuSW1hZ2UuZGlzcGxheU5hbWUgPSAnSW1hZ2UnOyAvLyAkRmxvd0lnbm9yZTogVGhpcyBpcyB0aGUgY29ycmVjdCB0eXBlLCBidXQgY2FzdGluZyBtYWtlcyBpdCB1bmhhcHB5IHNpbmNlIHRoZSB2YXJpYWJsZXMgYXJlbid0IGRlZmluZWQgeWV0XG5cbnZhciBJbWFnZVdpdGhTdGF0aWNzID0gSW1hZ2U7XG5cbkltYWdlV2l0aFN0YXRpY3MuZ2V0U2l6ZSA9IGZ1bmN0aW9uICh1cmksIHN1Y2Nlc3MsIGZhaWx1cmUpIHtcbiAgX0ltYWdlTG9hZGVyLmRlZmF1bHQuZ2V0U2l6ZSh1cmksIHN1Y2Nlc3MsIGZhaWx1cmUpO1xufTtcblxuSW1hZ2VXaXRoU3RhdGljcy5wcmVmZXRjaCA9IGZ1bmN0aW9uICh1cmkpIHtcbiAgcmV0dXJuIF9JbWFnZUxvYWRlci5kZWZhdWx0LnByZWZldGNoKHVyaSk7XG59O1xuXG5JbWFnZVdpdGhTdGF0aWNzLnF1ZXJ5Q2FjaGUgPSBmdW5jdGlvbiAodXJpcykge1xuICByZXR1cm4gX0ltYWdlTG9hZGVyLmRlZmF1bHQucXVlcnlDYWNoZSh1cmlzKTtcbn07XG5cbnZhciBjbGFzc2VzID0gX2Nzcy5kZWZhdWx0LmNyZWF0ZSh7XG4gIGFjY2Vzc2liaWxpdHlJbWFnZTogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBfU3R5bGVTaGVldC5kZWZhdWx0LmFic29sdXRlRmlsbE9iamVjdCksIHt9LCB7XG4gICAgaGVpZ2h0OiAnMTAwJScsXG4gICAgb3BhY2l0eTogMCxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIHpJbmRleDogLTFcbiAgfSlcbn0pO1xuXG52YXIgc3R5bGVzID0gX1N0eWxlU2hlZXQuZGVmYXVsdC5jcmVhdGUoe1xuICByb290OiB7XG4gICAgZmxleEJhc2lzOiAnYXV0bycsXG4gICAgb3ZlcmZsb3c6ICdoaWRkZW4nLFxuICAgIHpJbmRleDogMFxuICB9LFxuICBpbmxpbmU6IHtcbiAgICBkaXNwbGF5OiAnaW5saW5lLWZsZXgnXG4gIH0sXG4gIGltYWdlOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIF9TdHlsZVNoZWV0LmRlZmF1bHQuYWJzb2x1dGVGaWxsT2JqZWN0KSwge30sIHtcbiAgICBiYWNrZ3JvdW5kQ29sb3I6ICd0cmFuc3BhcmVudCcsXG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnY2VudGVyJyxcbiAgICBiYWNrZ3JvdW5kUmVwZWF0OiAnbm8tcmVwZWF0JyxcbiAgICBiYWNrZ3JvdW5kU2l6ZTogJ2NvdmVyJyxcbiAgICBoZWlnaHQ6ICcxMDAlJyxcbiAgICB3aWR0aDogJzEwMCUnLFxuICAgIHpJbmRleDogLTFcbiAgfSlcbn0pO1xuXG52YXIgcmVzaXplTW9kZVN0eWxlcyA9IF9TdHlsZVNoZWV0LmRlZmF1bHQuY3JlYXRlKHtcbiAgY2VudGVyOiB7XG4gICAgYmFja2dyb3VuZFNpemU6ICdhdXRvJ1xuICB9LFxuICBjb250YWluOiB7XG4gICAgYmFja2dyb3VuZFNpemU6ICdjb250YWluJ1xuICB9LFxuICBjb3Zlcjoge1xuICAgIGJhY2tncm91bmRTaXplOiAnY292ZXInXG4gIH0sXG4gIG5vbmU6IHtcbiAgICBiYWNrZ3JvdW5kUG9zaXRpb246ICcwIDAnLFxuICAgIGJhY2tncm91bmRTaXplOiAnYXV0bydcbiAgfSxcbiAgcmVwZWF0OiB7XG4gICAgYmFja2dyb3VuZFBvc2l0aW9uOiAnMCAwJyxcbiAgICBiYWNrZ3JvdW5kUmVwZWF0OiAncmVwZWF0JyxcbiAgICBiYWNrZ3JvdW5kU2l6ZTogJ2F1dG8nXG4gIH0sXG4gIHN0cmV0Y2g6IHtcbiAgICBiYWNrZ3JvdW5kU2l6ZTogJzEwMCUgMTAwJSdcbiAgfVxufSk7XG5cbnZhciBfZGVmYXVsdCA9IEltYWdlV2l0aFN0YXRpY3M7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWkEsT0FBTyxDQUFDQyxVQUFVLEdBQUcsSUFBSTtBQUN6QkQsT0FBTyxDQUFDRSxPQUFPLEdBQUcsS0FBSyxDQUFDO0FBRXhCLElBQUlDLEtBQUssR0FBR0MsdUJBQXVCLENBQUNDLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUVyRCxJQUFJQyxjQUFjLEdBQUdDLHNCQUFzQixDQUFDRixPQUFPLG1CQUFtQixDQUFDLENBQUM7QUFFeEUsSUFBSUcsSUFBSSxHQUFHRCxzQkFBc0IsQ0FBQ0YsT0FBTyxvQkFBb0IsQ0FBQyxDQUFDO0FBRS9ELElBQUlJLGNBQWMsR0FBR0osT0FBTyw4QkFBOEIsQ0FBQztBQUUzRCxJQUFJSyxt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