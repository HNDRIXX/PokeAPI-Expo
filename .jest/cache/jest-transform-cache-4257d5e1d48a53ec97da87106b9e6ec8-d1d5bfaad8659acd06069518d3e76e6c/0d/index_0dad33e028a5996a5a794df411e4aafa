e4b92c25b535b010669c8c609781a826
"use strict";

exports.__esModule = true;
exports.default = void 0;
var _Batchinator = _interopRequireDefault(require("../Batchinator"));
var _FillRateHelper = _interopRequireDefault(require("../FillRateHelper"));
var _propTypes = _interopRequireDefault(require("prop-types"));
var React = _interopRequireWildcard(require("react"));
var _RefreshControl = _interopRequireDefault(require("../../../exports/RefreshControl"));
var _ScrollView = _interopRequireDefault(require("../../../exports/ScrollView"));
var _StyleSheet = _interopRequireDefault(require("../../../exports/StyleSheet"));
var _UIManager = _interopRequireDefault(require("../../../exports/UIManager"));
var _View = _interopRequireDefault(require("../../../exports/View"));
var _ViewabilityHelper = _interopRequireDefault(require("../ViewabilityHelper"));
var _findNodeHandle = _interopRequireDefault(require("../../../exports/findNodeHandle"));
var _infoLog = _interopRequireDefault(require("../infoLog"));
var _invariant = _interopRequireDefault(require("fbjs/lib/invariant"));
var _warning = _interopRequireDefault(require("fbjs/lib/warning"));
var _VirtualizeUtils = require("../VirtualizeUtils");
var _VirtualizedListContext = require("./VirtualizedListContext.js");
function _getRequireWildcardCache() {
  if (typeof WeakMap !== "function") return null;
  var cache = new WeakMap();
  _getRequireWildcardCache = function _getRequireWildcardCache() {
    return cache;
  };
  return cache;
}
function _interopRequireWildcard(obj) {
  if (obj && obj.__esModule) {
    return obj;
  }
  if (obj === null || typeof obj !== "object" && typeof obj !== "function") {
    return {
      default: obj
    };
  }
  var cache = _getRequireWildcardCache();
  if (cache && cache.has(obj)) {
    return cache.get(obj);
  }
  var newObj = {};
  var hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor;
  for (var key in obj) {
    if (Object.prototype.hasOwnProperty.call(obj, key)) {
      var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
      if (desc && (desc.get || desc.set)) {
        Object.defineProperty(newObj, key, desc);
      } else {
        newObj[key] = obj[key];
      }
    }
  }
  newObj.default = obj;
  if (cache) {
    cache.set(obj, newObj);
  }
  return newObj;
}
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _createForOfIteratorHelperLoose(o, allowArrayLike) {
  var it;
  if (typeof Symbol === "undefined" || o[Symbol.iterator] == null) {
    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === "number") {
      if (it) o = it;
      var i = 0;
      return function () {
        if (i >= o.length) return {
          done: true
        };
        return {
          done: false,
          value: o[i++]
        };
      };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  it = o[Symbol.iterator]();
  return it.next.bind(it);
}
function _unsupportedIterableToArray(o, minLen) {
  if (!o) return;
  if (typeof o === "string") return _arrayLikeToArray(o, minLen);
  var n = Object.prototype.toString.call(o).slice(8, -1);
  if (n === "Object" && o.constructor) n = o.constructor.name;
  if (n === "Map" || n === "Set") return Array.from(o);
  if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);
}
function _arrayLikeToArray(arr, len) {
  if (len == null || len > arr.length) len = arr.length;
  for (var i = 0, arr2 = new Array(len); i < len; i++) {
    arr2[i] = arr[i];
  }
  return arr2;
}
function _extends() {
  _extends = Object.assign || function (target) {
    for (var i = 1; i < arguments.length; i++) {
      var source = arguments[i];
      for (var key in source) {
        if (Object.prototype.hasOwnProperty.call(source, key)) {
          target[key] = source[key];
        }
      }
    }
    return target;
  };
  return _extends.apply(this, arguments);
}
function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }
  return keys;
}
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }
  return target;
}
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
function _assertThisInitialized(self) {
  if (self === void 0) {
    throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
  }
  return self;
}
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  _setPrototypeOf(subClass, superClass);
}
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };
  return _setPrototypeOf(o, p);
}
var flattenStyle = _StyleSheet.default.flatten;
var __DEV__ = process.env.NODE_ENV !== 'production';
var _usedIndexForKey = false;
var _keylessItemComponentName = '';
var VirtualizedList = function (_React$PureComponent) {
  _inheritsLoose(VirtualizedList, _React$PureComponent);
  var _proto = VirtualizedList.prototype;
  _proto.scrollToEnd = function scrollToEnd(params) {
    var animated = params ? params.animated : true;
    var veryLast = this.props.getItemCount(this.props.data) - 1;
    var frame = this._getFrameMetricsApprox(veryLast);
    var offset = Math.max(0, frame.offset + frame.length + this._footerLength - this._scrollMetrics.visibleLength);
    if (this._scrollRef == null) {
      return;
    }
    if (this._scrollRef.scrollTo == null) {
      console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
      return;
    }
    this._scrollRef.scrollTo(this.props.horizontal ? {
      x: offset,
      animated: animated
    } : {
      y: offset,
      animated: animated
    });
  };
  _proto.scrollToIndex = function scrollToIndex(params) {
    var _this$props = this.props,
      data = _this$props.data,
      horizontal = _this$props.horizontal,
      getItemCount = _this$props.getItemCount,
      getItemLayout = _this$props.getItemLayout,
      onScrollToIndexFailed = _this$props.onScrollToIndexFailed;
    var animated = params.animated,
      index = params.index,
      viewOffset = params.viewOffset,
      viewPosition = params.viewPosition;
    (0, _invariant.default)(index >= 0, "scrollToIndex out of range: requested index " + index + " but minimum is 0");
    (0, _invariant.default)(getItemCount(data) >= 1, "scrollToIndex out of range: item length " + getItemCount(data) + " but minimum is 1");
    (0, _invariant.default)(index < getItemCount(data), "scrollToIndex out of range: requested index " + index + " is out of 0 to " + (getItemCount(data) - 1));
    if (!getItemLayout && index > this._highestMeasuredFrameIndex) {
      (0, _invariant.default)(!!onScrollToIndexFailed, 'scrollToIndex should be used in conjunction with getItemLayout or onScrollToIndexFailed, ' + 'otherwise there is no way to know the location of offscreen indices or handle failures.');
      onScrollToIndexFailed({
        averageItemLength: this._averageCellLength,
        highestMeasuredFrameIndex: this._highestMeasuredFrameIndex,
        index: index
      });
      return;
    }
    var frame = this._getFrameMetricsApprox(index);
    var offset = Math.max(0, frame.offset - (viewPosition || 0) * (this._scrollMetrics.visibleLength - frame.length)) - (viewOffset || 0);
    if (this._scrollRef == null) {
      return;
    }
    if (this._scrollRef.scrollTo == null) {
      console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
      return;
    }
    this._scrollRef.scrollTo(horizontal ? {
      x: offset,
      animated: animated
    } : {
      y: offset,
      animated: animated
    });
  };
  _proto.scrollToItem = function scrollToItem(params) {
    var item = params.item;
    var _this$props2 = this.props,
      data = _this$props2.data,
      getItem = _this$props2.getItem,
      getItemCount = _this$props2.getItemCount;
    var itemCount = getItemCount(data);
    for (var _index = 0; _index < itemCount; _index++) {
      if (getItem(data, _index) === item) {
        this.scrollToIndex(_objectSpread(_objectSpread({}, params), {}, {
          index: _index
        }));
        break;
      }
    }
  };
  _proto.scrollToOffset = function scrollToOffset(params) {
    var animated = params.animated,
      offset = params.offset;
    if (this._scrollRef == null) {
      return;
    }
    if (this._scrollRef.scrollTo == null) {
      console.warn('No scrollTo method provided. This may be because you have two nested ' + 'VirtualizedLists with the same orientation, or because you are ' + 'using a custom component that does not implement scrollTo.');
      return;
    }
    this._scrollRef.scrollTo(this.props.horizontal ? {
      x: offset,
      animated: animated
    } : {
      y: offset,
      animated: animated
    });
  };
  _proto.recordInteraction = function recordInteraction() {
    this._nestedChildLists.forEach(function (childList) {
      childList.ref && childList.ref.recordInteraction();
    });
    this._viewabilityTuples.forEach(function (t) {
      t.viewabilityHelper.recordInteraction();
    });
    this._updateViewableItems(this.props.data);
  };
  _proto.flashScrollIndicators = function flashScrollIndicators() {
    if (this._scrollRef == null) {
      return;
    }
    this._scrollRef.flashScrollIndicators();
  };
  _proto.getScrollResponder = function getScrollResponder() {
    if (this._scrollRef && this._scrollRef.getScrollResponder) {
      return this._scrollRef.getScrollResponder();
    }
  };
  _proto.getScrollableNode = function getScrollableNode() {
    if (this._scrollRef && this._scrollRef.getScrollableNode) {
      return this._scrollRef.getScrollableNode();
    } else {
      return (0, _findNodeHandle.default)(this._scrollRef);
    }
  };
  _proto.getScrollRef = function getScrollRef() {
    if (this._scrollRef && this._scrollRef.getScrollRef) {
      return this._scrollRef.getScrollRef();
    } else {
      return this._scrollRef;
    }
  };
  _proto.setNativeProps = function setNativeProps(props) {
    if (this._scrollRef) {
      this._scrollRef.setNativeProps(props);
    }
  };
  _proto._getCellKey = function _getCellKey() {
    var _this$context;
    return ((_this$context = this.context) == null ? void 0 : _this$context.cellKey) || 'rootList';
  };
  _proto._getListKey = function _getListKey() {
    return this.props.listKey || this._getCellKey();
  };
  _proto._getDebugInfo = function _getDebugInfo() {
    var _this$context2;
    return {
      listKey: this._getListKey(),
      cellKey: this._getCellKey(),
      horizontal: !!this.props.horizontal,
      parent: (_this$context2 = this.context) == null ? void 0 : _this$context2.debugInfo
    };
  };
  _proto.hasMore = function hasMore() {
    return this._hasMore;
  };
  function VirtualizedList(_props) {
    var _this;
    _this = _React$PureComponent.call(this, _props) || this;
    _this._getScrollMetrics = function () {
      return _this._scrollMetrics;
    };
    _this._getOutermostParentListRef = function () {
      if (_this._isNestedWithSameOrientation()) {
        return _this.context.getOutermostParentListRef();
      } else {
        return _assertThisInitialized(_this);
      }
    };
    _this._getNestedChildState = function (key) {
      var existingChildData = _this._nestedChildLists.get(key);
      return existingChildData && existingChildData.state;
    };
    _this._registerAsNestedChild = function (childList) {
      var childListsInCell = _this._cellKeysToChildListKeys.get(childList.cellKey) || new Set();
      childListsInCell.add(childList.key);
      _this._cellKeysToChildListKeys.set(childList.cellKey, childListsInCell);
      var existingChildData = _this._nestedChildLists.get(childList.key);
      if (existingChildData && existingChildData.ref !== null) {
        console.error('A VirtualizedList contains a cell which itself contains ' + 'more than one VirtualizedList of the same orientation as the parent ' + 'list. You must pass a unique listKey prop to each sibling list.\n\n' + describeNestedLists(_objectSpread(_objectSpread({}, childList), {}, {
          horizontal: !!childList.ref.props.horizontal
        })));
      }
      _this._nestedChildLists.set(childList.key, {
        ref: childList.ref,
        state: null
      });
      if (_this._hasInteracted) {
        childList.ref.recordInteraction();
      }
    };
    _this._unregisterAsNestedChild = function (childList) {
      _this._nestedChildLists.set(childList.key, {
        ref: null,
        state: childList.state
      });
    };
    _this._onUpdateSeparators = function (keys, newProps) {
      keys.forEach(function (key) {
        var ref = key != null && _this._cellRefs[key];
        ref && ref.updateSeparatorProps(newProps);
      });
    };
    _this._averageCellLength = 0;
    _this._cellKeysToChildListKeys = new Map();
    _this._cellRefs = {};
    _this._frames = {};
    _this._footerLength = 0;
    _this._hasDoneInitialScroll = false;
    _this._hasInteracted = false;
    _this._hasMore = false;
    _this._hasWarned = {};
    _this._headerLength = 0;
    _this._hiPriInProgress = false;
    _this._highestMeasuredFrameIndex = 0;
    _this._indicesToKeys = new Map();
    _this._nestedChildLists = new Map();
    _this._offsetFromParentVirtualizedList = 0;
    _this._prevParentOffset = 0;
    _this._scrollMetrics = {
      contentLength: 0,
      dOffset: 0,
      dt: 10,
      offset: 0,
      timestamp: 0,
      velocity: 0,
      visibleLength: 0
    };
    _this._scrollRef = null;
    _this._sentEndForContentLength = 0;
    _this._totalCellLength = 0;
    _this._totalCellsMeasured = 0;
    _this._viewabilityTuples = [];
    _this._captureScrollRef = function (ref) {
      _this._scrollRef = ref;
    };
    _this._defaultRenderScrollComponent = function (props) {
      var onRefresh = props.onRefresh;
      if (_this._isNestedWithSameOrientation()) {
        return React.createElement(_View.default, props);
      } else if (onRefresh) {
        (0, _invariant.default)(typeof props.refreshing === 'boolean', '`refreshing` prop must be set as a boolean in order to use `onRefresh`, but got `' + JSON.stringify(props.refreshing) + '`');
        return React.createElement(_ScrollView.default, _extends({}, props, {
          refreshControl: props.refreshControl == null ? React.createElement(_RefreshControl.default, {
            refreshing: props.refreshing,
            onRefresh: onRefresh,
            progressViewOffset: props.progressViewOffset
          }) : props.refreshControl
        }));
      } else {
        return React.createElement(_ScrollView.default, props);
      }
    };
    _this._onCellUnmount = function (cellKey) {
      var curr = _this._frames[cellKey];
      if (curr) {
        _this._frames[cellKey] = _objectSpread(_objectSpread({}, curr), {}, {
          inLayout: false
        });
      }
    };
    _this._onLayout = function (e) {
      if (_this._isNestedWithSameOrientation()) {
        _this.measureLayoutRelativeToContainingList();
      } else {
        _this._scrollMetrics.visibleLength = _this._selectLength(e.nativeEvent.layout);
      }
      _this.props.onLayout && _this.props.onLayout(e);
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEndReached();
    };
    _this._onLayoutEmpty = function (e) {
      _this.props.onLayout && _this.props.onLayout(e);
    };
    _this._onLayoutFooter = function (e) {
      _this._triggerRemeasureForChildListsInCell(_this._getFooterCellKey());
      _this._footerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onLayoutHeader = function (e) {
      _this._headerLength = _this._selectLength(e.nativeEvent.layout);
    };
    _this._onContentSizeChange = function (width, height) {
      if (width > 0 && height > 0 && _this.props.initialScrollIndex != null && _this.props.initialScrollIndex > 0 && !_this._hasDoneInitialScroll) {
        _this._hasDoneInitialScroll = true;
      }
      if (_this.props.onContentSizeChange) {
        _this.props.onContentSizeChange(width, height);
      }
      _this._scrollMetrics.contentLength = _this._selectLength({
        height: height,
        width: width
      });
      _this._scheduleCellsToRenderUpdate();
      _this._maybeCallOnEndReached();
    };
    _this._convertParentScrollMetrics = function (metrics) {
      var offset = metrics.offset - _this._offsetFromParentVirtualizedList;
      var visibleLength = metrics.visibleLength;
      var dOffset = offset - _this._scrollMetrics.offset;
      var contentLength = _this._scrollMetrics.contentLength;
      return {
        visibleLength: visibleLength,
        contentLength: contentLength,
        offset: offset,
        dOffset: dOffset
      };
    };
    _this._onScroll = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScroll(e);
      });
      if (_this.props.onScroll) {
        _this.props.onScroll(e);
      }
      var timestamp = e.timeStamp;
      var visibleLength = _this._selectLength(e.nativeEvent.layoutMeasurement);
      var contentLength = _this._selectLength(e.nativeEvent.contentSize);
      var offset = _this._selectOffset(e.nativeEvent.contentOffset);
      var dOffset = offset - _this._scrollMetrics.offset;
      if (_this._isNestedWithSameOrientation()) {
        if (_this._scrollMetrics.contentLength === 0) {
          return;
        }
        var _this$_convertParentS = _this._convertParentScrollMetrics({
          visibleLength: visibleLength,
          offset: offset
        });
        visibleLength = _this$_convertParentS.visibleLength;
        contentLength = _this$_convertParentS.contentLength;
        offset = _this$_convertParentS.offset;
        dOffset = _this$_convertParentS.dOffset;
      }
      var dt = _this._scrollMetrics.timestamp ? Math.max(1, timestamp - _this._scrollMetrics.timestamp) : 1;
      var velocity = dOffset / dt;
      if (dt > 500 && _this._scrollMetrics.dt > 500 && contentLength > 5 * visibleLength && !_this._hasWarned.perf) {
        (0, _infoLog.default)('VirtualizedList: You have a large list that is slow to update - make sure your ' + 'renderItem function renders components that follow React performance best practices ' + 'like PureComponent, shouldComponentUpdate, etc.', {
          dt: dt,
          prevDt: _this._scrollMetrics.dt,
          contentLength: contentLength
        });
        _this._hasWarned.perf = true;
      }
      _this._scrollMetrics = {
        contentLength: contentLength,
        dt: dt,
        dOffset: dOffset,
        offset: offset,
        timestamp: timestamp,
        velocity: velocity,
        visibleLength: visibleLength
      };
      _this._updateViewableItems(_this.props.data);
      if (!_this.props) {
        return;
      }
      _this._maybeCallOnEndReached();
      if (velocity !== 0) {
        _this._fillRateHelper.activate();
      }
      _this._computeBlankness();
      _this._scheduleCellsToRenderUpdate();
    };
    _this._onScrollBeginDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollBeginDrag(e);
      });
      _this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.recordInteraction();
      });
      _this._hasInteracted = true;
      _this.props.onScrollBeginDrag && _this.props.onScrollBeginDrag(e);
    };
    _this._onScrollEndDrag = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onScrollEndDrag(e);
      });
      var velocity = e.nativeEvent.velocity;
      if (velocity) {
        _this._scrollMetrics.velocity = _this._selectOffset(velocity);
      }
      _this._computeBlankness();
      _this.props.onScrollEndDrag && _this.props.onScrollEndDrag(e);
    };
    _this._onMomentumScrollBegin = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onMomentumScrollBegin(e);
      });
      _this.props.onMomentumScrollBegin && _this.props.onMomentumScrollBegin(e);
    };
    _this._onMomentumScrollEnd = function (e) {
      _this._nestedChildLists.forEach(function (childList) {
        childList.ref && childList.ref._onMomentumScrollEnd(e);
      });
      _this._scrollMetrics.velocity = 0;
      _this._computeBlankness();
      _this.props.onMomentumScrollEnd && _this.props.onMomentumScrollEnd(e);
    };
    _this._updateCellsToRender = function () {
      var _this$props3 = _this.props,
        data = _this$props3.data,
        getItemCount = _this$props3.getItemCount,
        onEndReachedThreshold = _this$props3.onEndReachedThreshold;
      var isVirtualizationDisabled = _this._isVirtualizationDisabled();
      _this._updateViewableItems(data);
      if (!data) {
        return;
      }
      _this.setState(function (state) {
        var newState;
        var _this$_scrollMetrics = _this._scrollMetrics,
          contentLength = _this$_scrollMetrics.contentLength,
          offset = _this$_scrollMetrics.offset,
          visibleLength = _this$_scrollMetrics.visibleLength;
        if (!isVirtualizationDisabled) {
          if (visibleLength > 0 && contentLength > 0) {
            if (!_this.props.initialScrollIndex || _this._scrollMetrics.offset) {
              newState = (0, _VirtualizeUtils.computeWindowedRenderLimits)(_this.props, state, _this._getFrameMetricsApprox, _this._scrollMetrics);
            }
          }
        } else {
          var distanceFromEnd = contentLength - visibleLength - offset;
          var renderAhead = distanceFromEnd < onEndReachedThreshold * visibleLength ? _this.props.maxToRenderPerBatch : 0;
          newState = {
            first: 0,
            last: Math.min(state.last + renderAhead, getItemCount(data) - 1)
          };
        }
        if (newState && _this._nestedChildLists.size > 0) {
          var newFirst = newState.first;
          var newLast = newState.last;
          for (var ii = newFirst; ii <= newLast; ii++) {
            var cellKeyForIndex = _this._indicesToKeys.get(ii);
            var childListKeys = cellKeyForIndex && _this._cellKeysToChildListKeys.get(cellKeyForIndex);
            if (!childListKeys) {
              continue;
            }
            var someChildHasMore = false;
            for (var _iterator = _createForOfIteratorHelperLoose(childListKeys), _step; !(_step = _iterator()).done;) {
              var childKey = _step.value;
              var childList = _this._nestedChildLists.get(childKey);
              if (childList && childList.ref && childList.ref.hasMore()) {
                someChildHasMore = true;
                break;
              }
            }
            if (someChildHasMore && newState) {
              newState.last = ii;
              break;
            }
          }
        }
        if (newState != null && newState.first === state.first && newState.last === state.last) {
          newState = null;
        }
        return newState;
      });
    };
    _this._createViewToken = function (index, isViewable) {
      var _this$props4 = _this.props,
        data = _this$props4.data,
        getItem = _this$props4.getItem,
        keyExtractor = _this$props4.keyExtractor;
      var item = getItem(data, index);
      return {
        index: index,
        item: item,
        key: keyExtractor(item, index),
        isViewable: isViewable
      };
    };
    _this._getFrameMetricsApprox = function (index) {
      var frame = _this._getFrameMetrics(index);
      if (frame && frame.index === index) {
        return frame;
      } else {
        var getItemLayout = _this.props.getItemLayout;
        (0, _invariant.default)(!getItemLayout, 'Should not have to estimate frames when a measurement metrics function is provided');
        return {
          length: _this._averageCellLength,
          offset: _this._averageCellLength * index
        };
      }
    };
    _this._getFrameMetrics = function (index) {
      var _this$props5 = _this.props,
        data = _this$props5.data,
        getItem = _this$props5.getItem,
        getItemCount = _this$props5.getItemCount,
        getItemLayout = _this$props5.getItemLayout,
        keyExtractor = _this$props5.keyExtractor;
      (0, _invariant.default)(getItemCount(data) > index, 'Tried to get frame for out of range index ' + index);
      var item = getItem(data, index);
      var frame = item && _this._frames[keyExtractor(item, index)];
      if (!frame || frame.index !== index) {
        if (getItemLayout) {
          frame = getItemLayout(data, index);
        }
      }
      return frame;
    };
    (0, _invariant.default)(!_props.onScroll || !_props.onScroll.__isNative, 'Components based on VirtualizedList must be wrapped with Animated.createAnimatedComponent ' + 'to support native onScroll events with useNativeDriver');
    (0, _invariant.default)(_props.windowSize > 0, 'VirtualizedList: The windowSize prop must be present and set to a value greater than 0.');
    _this._fillRateHelper = new _FillRateHelper.default(_this._getFrameMetrics);
    _this._updateCellsToRenderBatcher = new _Batchinator.default(_this._updateCellsToRender, _this.props.updateCellsBatchingPeriod);
    if (_this.props.viewabilityConfigCallbackPairs) {
      _this._viewabilityTuples = _this.props.viewabilityConfigCallbackPairs.map(function (pair) {
        return {
          viewabilityHelper: new _ViewabilityHelper.default(pair.viewabilityConfig),
          onViewableItemsChanged: pair.onViewableItemsChanged
        };
      });
    } else if (_this.props.onViewableItemsChanged) {
      var onViewableItemsChanged = _this.props.onViewableItemsChanged;
      _this._viewabilityTuples.push({
        viewabilityHelper: new _ViewabilityHelper.default(_this.props.viewabilityConfig),
        onViewableItemsChanged: onViewableItemsChanged
      });
    }
    var initialState = {
      first: _this.props.initialScrollIndex || 0,
      last: Math.min(_this.props.getItemCount(_this.props.data), (_this.props.initialScrollIndex || 0) + _this.props.initialNumToRender) - 1
    };
    if (_this._isNestedWithSameOrientation()) {
      var storedState = _this.context.getNestedChildState(_this._getListKey());
      if (storedState) {
        initialState = storedState;
        _this.state = storedState;
        _this._frames = storedState.frames;
      }
    }
    _this.state = initialState;
    return _this;
  }
  _proto.componentDidMount = function componentDidMount() {
    if (this._isNestedWithSameOrientation()) {
      this.context.registerAsNestedChild({
        cellKey: this._getCellKey(),
        key: this._getListKey(),
        ref: this,
        parentDebugInfo: this.context.debugInfo
      });
    }
  };
  _proto.componentWillUnmount = function componentWillUnmount() {
    if (this._isNestedWithSameOrientation()) {
      this.context.unregisterAsNestedChild({
        key: this._getListKey(),
        state: {
          first: this.state.first,
          last: this.state.last,
          frames: this._frames
        }
      });
    }
    this._updateViewableItems(null);
    this._updateCellsToRenderBatcher.dispose({
      abort: true
    });
    this._viewabilityTuples.forEach(function (tuple) {
      tuple.viewabilityHelper.dispose();
    });
    this._fillRateHelper.deactivateAndFlush();
  };
  VirtualizedList.getDerivedStateFromProps = function getDerivedStateFromProps(newProps, prevState) {
    var data = newProps.data,
      getItemCount = newProps.getItemCount,
      maxToRenderPerBatch = newProps.maxToRenderPerBatch;
    return {
      first: Math.max(0, Math.min(prevState.first, getItemCount(data) - 1 - maxToRenderPerBatch)),
      last: Math.max(0, Math.min(prevState.last, getItemCount(data) - 1))
    };
  };
  _proto._pushCells = function _pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, first, last, inversionStyle) {
    var _this2 = this;
    var _this$props6 = this.props,
      CellRendererComponent = _this$props6.CellRendererComponent,
      ItemSeparatorComponent = _this$props6.ItemSeparatorComponent,
      data = _this$props6.data,
      getItem = _this$props6.getItem,
      getItemCount = _this$props6.getItemCount,
      horizontal = _this$props6.horizontal,
      keyExtractor = _this$props6.keyExtractor;
    var stickyOffset = this.props.ListHeaderComponent ? 1 : 0;
    var end = getItemCount(data) - 1;
    var prevCellKey;
    last = Math.min(end, last);
    var _loop = function _loop(ii) {
      var item = getItem(data, ii);
      var key = keyExtractor(item, ii);
      _this2._indicesToKeys.set(ii, key);
      if (stickyIndicesFromProps.has(ii + stickyOffset)) {
        stickyHeaderIndices.push(cells.length);
      }
      cells.push(React.createElement(CellRenderer, {
        CellRendererComponent: CellRendererComponent,
        ItemSeparatorComponent: ii < end ? ItemSeparatorComponent : undefined,
        cellKey: key,
        fillRateHelper: _this2._fillRateHelper,
        horizontal: horizontal,
        index: ii,
        inversionStyle: inversionStyle,
        item: item,
        key: key,
        prevCellKey: prevCellKey,
        onUpdateSeparators: _this2._onUpdateSeparators,
        onLayout: function onLayout(e) {
          return _this2._onCellLayout(e, key, ii);
        },
        onUnmount: _this2._onCellUnmount,
        parentProps: _this2.props,
        ref: function ref(_ref) {
          _this2._cellRefs[key] = _ref;
        }
      }));
      prevCellKey = key;
    };
    for (var ii = first; ii <= last; ii++) {
      _loop(ii);
    }
  };
  _proto._isVirtualizationDisabled = function _isVirtualizationDisabled() {
    return this.props.disableVirtualization || false;
  };
  _proto._isNestedWithSameOrientation = function _isNestedWithSameOrientation() {
    var nestedContext = this.context;
    return !!(nestedContext && !!nestedContext.horizontal === !!this.props.horizontal);
  };
  _proto.render = function render() {
    var _this3 = this;
    if (__DEV__) {
      var flatStyles = flattenStyle(this.props.contentContainerStyle);
      if (flatStyles != null && flatStyles.flexWrap === 'wrap') {
        console.warn('`flexWrap: `wrap`` is not supported with the `VirtualizedList` components.' + 'Consider using `numColumns` with `FlatList` instead.');
      }
    }
    var _this$props7 = this.props,
      ListEmptyComponent = _this$props7.ListEmptyComponent,
      ListFooterComponent = _this$props7.ListFooterComponent,
      ListHeaderComponent = _this$props7.ListHeaderComponent;
    var _this$props8 = this.props,
      data = _this$props8.data,
      horizontal = _this$props8.horizontal;
    var isVirtualizationDisabled = this._isVirtualizationDisabled();
    var inversionStyle = this.props.inverted ? this.props.horizontal ? styles.horizontallyInverted : styles.verticallyInverted : null;
    var cells = [];
    var stickyIndicesFromProps = new Set(this.props.stickyHeaderIndices);
    var stickyHeaderIndices = [];
    if (ListHeaderComponent) {
      if (stickyIndicesFromProps.has(0)) {
        stickyHeaderIndices.push(0);
      }
      var element = React.isValidElement(ListHeaderComponent) ? ListHeaderComponent : React.createElement(ListHeaderComponent, null);
      cells.push(React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
        cellKey: this._getCellKey() + '-header',
        key: "$header"
      }, React.createElement(_View.default, {
        onLayout: this._onLayoutHeader,
        style: _StyleSheet.default.compose(inversionStyle, this.props.ListHeaderComponentStyle)
      }, element)));
    }
    var itemCount = this.props.getItemCount(data);
    if (itemCount > 0) {
      _usedIndexForKey = false;
      _keylessItemComponentName = '';
      var spacerKey = !horizontal ? 'height' : 'width';
      var lastInitialIndex = this.props.initialScrollIndex ? -1 : this.props.initialNumToRender - 1;
      var _this$state = this.state,
        first = _this$state.first,
        last = _this$state.last;
      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, 0, lastInitialIndex, inversionStyle);
      var firstAfterInitial = Math.max(lastInitialIndex + 1, first);
      if (!isVirtualizationDisabled && first > lastInitialIndex + 1) {
        var insertedStickySpacer = false;
        if (stickyIndicesFromProps.size > 0) {
          var stickyOffset = ListHeaderComponent ? 1 : 0;
          for (var ii = firstAfterInitial - 1; ii > lastInitialIndex; ii--) {
            if (stickyIndicesFromProps.has(ii + stickyOffset)) {
              var _ref2, _ref3;
              var initBlock = this._getFrameMetricsApprox(lastInitialIndex);
              var stickyBlock = this._getFrameMetricsApprox(ii);
              var leadSpace = stickyBlock.offset - initBlock.offset - (this.props.initialScrollIndex ? 0 : initBlock.length);
              cells.push(React.createElement(_View.default, {
                key: "$sticky_lead",
                style: (_ref2 = {}, _ref2[spacerKey] = leadSpace, _ref2)
              }));
              this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, ii, ii, inversionStyle);
              var trailSpace = this._getFrameMetricsApprox(first).offset - (stickyBlock.offset + stickyBlock.length);
              cells.push(React.createElement(_View.default, {
                key: "$sticky_trail",
                style: (_ref3 = {}, _ref3[spacerKey] = trailSpace, _ref3)
              }));
              insertedStickySpacer = true;
              break;
            }
          }
        }
        if (!insertedStickySpacer) {
          var _ref4;
          var _initBlock = this._getFrameMetricsApprox(lastInitialIndex);
          var firstSpace = this._getFrameMetricsApprox(first).offset - (_initBlock.offset + _initBlock.length);
          cells.push(React.createElement(_View.default, {
            key: "$lead_spacer",
            style: (_ref4 = {}, _ref4[spacerKey] = firstSpace, _ref4)
          }));
        }
      }
      this._pushCells(cells, stickyHeaderIndices, stickyIndicesFromProps, firstAfterInitial, last, inversionStyle);
      if (!this._hasWarned.keys && _usedIndexForKey) {
        console.warn('VirtualizedList: missing keys for items, make sure to specify a key or id property on each ' + 'item or provide a custom keyExtractor.', _keylessItemComponentName);
        this._hasWarned.keys = true;
      }
      if (!isVirtualizationDisabled && last < itemCount - 1) {
        var _ref5;
        var lastFrame = this._getFrameMetricsApprox(last);
        var end = this.props.getItemLayout ? itemCount - 1 : Math.min(itemCount - 1, this._highestMeasuredFrameIndex);
        var endFrame = this._getFrameMetricsApprox(end);
        var tailSpacerLength = endFrame.offset + endFrame.length - (lastFrame.offset + lastFrame.length);
        cells.push(React.createElement(_View.default, {
          key: "$tail_spacer",
          style: (_ref5 = {}, _ref5[spacerKey] = tailSpacerLength, _ref5)
        }));
      }
    } else if (ListEmptyComponent) {
      var _element = React.isValidElement(ListEmptyComponent) ? ListEmptyComponent : React.createElement(ListEmptyComponent, null);
      cells.push(React.cloneElement(_element, {
        key: '$empty',
        onLayout: function onLayout(event) {
          _this3._onLayoutEmpty(event);
          if (_element.props.onLayout) {
            _element.props.onLayout(event);
          }
        },
        style: _StyleSheet.default.compose(inversionStyle, _element.props.style)
      }));
    }
    if (ListFooterComponent) {
      var _element2 = React.isValidElement(ListFooterComponent) ? ListFooterComponent : React.createElement(ListFooterComponent, null);
      cells.push(React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
        cellKey: this._getFooterCellKey(),
        key: "$footer"
      }, React.createElement(_View.default, {
        onLayout: this._onLayoutFooter,
        style: _StyleSheet.default.compose(inversionStyle, this.props.ListFooterComponentStyle)
      }, _element2)));
    }
    var scrollProps = _objectSpread(_objectSpread({}, this.props), {}, {
      onContentSizeChange: this._onContentSizeChange,
      onLayout: this._onLayout,
      onScroll: this._onScroll,
      onScrollBeginDrag: this._onScrollBeginDrag,
      onScrollEndDrag: this._onScrollEndDrag,
      onMomentumScrollBegin: this._onMomentumScrollBegin,
      onMomentumScrollEnd: this._onMomentumScrollEnd,
      scrollEventThrottle: this.props.scrollEventThrottle,
      stickyHeaderIndices: stickyHeaderIndices,
      style: inversionStyle ? [inversionStyle, this.props.style] : this.props.style
    });
    this._hasMore = this.state.last < this.props.getItemCount(this.props.data) - 1;
    var innerRet = React.createElement(_VirtualizedListContext.VirtualizedListContextProvider, {
      value: {
        cellKey: null,
        getScrollMetrics: this._getScrollMetrics,
        horizontal: this.props.horizontal,
        getOutermostParentListRef: this._getOutermostParentListRef,
        getNestedChildState: this._getNestedChildState,
        registerAsNestedChild: this._registerAsNestedChild,
        unregisterAsNestedChild: this._unregisterAsNestedChild,
        debugInfo: this._getDebugInfo()
      }
    }, React.cloneElement((this.props.renderScrollComponent || this._defaultRenderScrollComponent)(scrollProps), {
      ref: this._captureScrollRef
    }, cells));
    var ret = innerRet;
    if (this.props.debug) {
      return React.createElement(_View.default, {
        style: styles.debug
      }, ret, this._renderDebugOverlay());
    } else {
      return ret;
    }
  };
  _proto.componentDidUpdate = function componentDidUpdate(prevProps) {
    var _this$props9 = this.props,
      data = _this$props9.data,
      extraData = _this$props9.extraData;
    if (data !== prevProps.data || extraData !== prevProps.extraData) {
      this._viewabilityTuples.forEach(function (tuple) {
        tuple.viewabilityHelper.resetViewableIndices();
      });
    }
    var hiPriInProgress = this._hiPriInProgress;
    this._scheduleCellsToRenderUpdate();
    if (hiPriInProgress) {
      this._hiPriInProgress = false;
    }
  };
  _proto._computeBlankness = function _computeBlankness() {
    this._fillRateHelper.computeBlankness(this.props, this.state, this._scrollMetrics);
  };
  _proto._onCellLayout = function _onCellLayout(e, cellKey, index) {
    var layout = e.nativeEvent.layout;
    var next = {
      offset: this._selectOffset(layout),
      length: this._selectLength(layout),
      index: index,
      inLayout: true
    };
    var curr = this._frames[cellKey];
    if (!curr || next.offset !== curr.offset || next.length !== curr.length || index !== curr.index) {
      this._totalCellLength += next.length - (curr ? curr.length : 0);
      this._totalCellsMeasured += curr ? 0 : 1;
      this._averageCellLength = this._totalCellLength / this._totalCellsMeasured;
      this._frames[cellKey] = next;
      this._highestMeasuredFrameIndex = Math.max(this._highestMeasuredFrameIndex, index);
      this._scheduleCellsToRenderUpdate();
    } else {
      this._frames[cellKey].inLayout = true;
    }
    this._triggerRemeasureForChildListsInCell(cellKey);
    this._computeBlankness();
    this._updateViewableItems(this.props.data);
  };
  _proto._triggerRemeasureForChildListsInCell = function _triggerRemeasureForChildListsInCell(cellKey) {
    var childListKeys = this._cellKeysToChildListKeys.get(cellKey);
    if (childListKeys) {
      for (var _iterator2 = _createForOfIteratorHelperLoose(childListKeys), _step2; !(_step2 = _iterator2()).done;) {
        var childKey = _step2.value;
        var childList = this._nestedChildLists.get(childKey);
        childList && childList.ref && childList.ref.measureLayoutRelativeToContainingList();
      }
    }
  };
  _proto.measureLayoutRelativeToContainingList = function measureLayoutRelativeToContainingList() {
    var _this4 = this;
    try {
      if (!this._scrollRef) {
        return;
      }
      this._scrollRef.measureLayout(this.context.getOutermostParentListRef().getScrollRef(), function (x, y, width, height) {
        _this4._offsetFromParentVirtualizedList = _this4._selectOffset({
          x: x,
          y: y
        });
        _this4._scrollMetrics.contentLength = _this4._selectLength({
          width: width,
          height: height
        });
        var scrollMetrics = _this4._convertParentScrollMetrics(_this4.context.getScrollMetrics());
        _this4._scrollMetrics.visibleLength = scrollMetrics.visibleLength;
        _this4._scrollMetrics.offset = scrollMetrics.offset;
      }, function (error) {
        console.warn("VirtualizedList: Encountered an error while measuring a list's" + ' offset from its containing VirtualizedList.');
      });
    } catch (error) {
      console.warn('measureLayoutRelativeToContainingList threw an error', error.stack);
    }
  };
  _proto._getFooterCellKey = function _getFooterCellKey() {
    return this._getCellKey() + '-footer';
  };
  _proto._renderDebugOverlay = function _renderDebugOverlay() {
    var normalize = this._scrollMetrics.visibleLength / (this._scrollMetrics.contentLength || 1);
    var framesInLayout = [];
    var itemCount = this.props.getItemCount(this.props.data);
    for (var ii = 0; ii < itemCount; ii++) {
      var frame = this._getFrameMetricsApprox(ii);
      if (frame.inLayout) {
        framesInLayout.push(frame);
      }
    }
    var windowTop = this._getFrameMetricsApprox(this.state.first).offset;
    var frameLast = this._getFrameMetricsApprox(this.state.last);
    var windowLen = frameLast.offset + frameLast.length - windowTop;
    var visTop = this._scrollMetrics.offset;
    var visLen = this._scrollMetrics.visibleLength;
    return React.createElement(_View.default, {
      style: [styles.debugOverlayBase, styles.debugOverlay]
    }, framesInLayout.map(function (f, ii) {
      return React.createElement(_View.default, {
        key: 'f' + ii,
        style: [styles.debugOverlayBase, styles.debugOverlayFrame, {
          top: f.offset * normalize,
          height: f.length * normalize
        }]
      });
    }), React.createElement(_View.default, {
      style: [styles.debugOverlayBase, styles.debugOverlayFrameLast, {
        top: windowTop * normalize,
        height: windowLen * normalize
      }]
    }), React.createElement(_View.default, {
      style: [styles.debugOverlayBase, styles.debugOverlayFrameVis, {
        top: visTop * normalize,
        height: visLen * normalize
      }]
    }));
  };
  _proto._selectLength = function _selectLength(metrics) {
    return !this.props.horizontal ? metrics.height : metrics.width;
  };
  _proto._selectOffset = function _selectOffset(metrics) {
    return !this.props.horizontal ? metrics.y : metrics.x;
  };
  _proto._maybeCallOnEndReached = function _maybeCallOnEndReached() {
    var _this$props10 = this.props,
      data = _this$props10.data,
      getItemCount = _this$props10.getItemCount,
      onEndReached = _this$props10.onEndReached,
      onEndReachedThreshold = _this$props10.onEndReachedThreshold;
    var _this$_scrollMetrics2 = this._scrollMetrics,
      contentLength = _this$_scrollMetrics2.contentLength,
      visibleLength = _this$_scrollMetrics2.visibleLength,
      offset = _this$_scrollMetrics2.offset;
    var distanceFromEnd = contentLength - visibleLength - offset;
    var threshold = onEndReachedThreshold ? onEndReachedThreshold * visibleLength : 2;
    if (onEndReached && this.state.last === getItemCount(data) - 1 && distanceFromEnd < threshold && this._scrollMetrics.contentLength !== this._sentEndForContentLength) {
      this._sentEndForContentLength = this._scrollMetrics.contentLength;
      onEndReached({
        distanceFromEnd: distanceFromEnd
      });
    } else if (distanceFromEnd > threshold) {
      this._sentEndForContentLength = 0;
    }
  };
  _proto._scheduleCellsToRenderUpdate = function _scheduleCellsToRenderUpdate() {
    var _this$state2 = this.state,
      first = _this$state2.first,
      last = _this$state2.last;
    var _this$_scrollMetrics3 = this._scrollMetrics,
      offset = _this$_scrollMetrics3.offset,
      visibleLength = _this$_scrollMetrics3.visibleLength,
      velocity = _this$_scrollMetrics3.velocity;
    var itemCount = this.props.getItemCount(this.props.data);
    var hiPri = false;
    var scrollingThreshold = this.props.onEndReachedThreshold * visibleLength / 2;
    if (first > 0) {
      var distTop = offset - this._getFrameMetricsApprox(first).offset;
      hiPri = hiPri || distTop < 0 || velocity < -2 && distTop < scrollingThreshold;
    }
    if (last < itemCount - 1) {
      var distBottom = this._getFrameMetricsApprox(last).offset - (offset + visibleLength);
      hiPri = hiPri || distBottom < 0 || velocity > 2 && distBottom < scrollingThreshold;
    }
    if (hiPri && (this._averageCellLength || this.props.getItemLayout) && !this._hiPriInProgress) {
      this._hiPriInProgress = true;
      this._updateCellsToRenderBatcher.dispose({
        abort: true
      });
      this._updateCellsToRender();
      return;
    } else {
      this._updateCellsToRenderBatcher.schedule();
    }
  };
  _proto._updateViewableItems = function _updateViewableItems(data) {
    var _this5 = this;
    var getItemCount = this.props.getItemCount;
    this._viewabilityTuples.forEach(function (tuple) {
      tuple.viewabilityHelper.onUpdate(getItemCount(data), _this5._scrollMetrics.offset, _this5._scrollMetrics.visibleLength, _this5._getFrameMetrics, _this5._createViewToken, tuple.onViewableItemsChanged, _this5.state);
    });
  };
  return VirtualizedList;
}(React.PureComponent);
VirtualizedList.contextType = _VirtualizedListContext.VirtualizedListContext;
VirtualizedList.defaultProps = {
  disableVirtualization: false,
  horizontal: false,
  initialNumToRender: 10,
  keyExtractor: function keyExtractor(item, index) {
    if (item.key != null) {
      return item.key;
    }
    if (item.id != null) {
      return item.id;
    }
    _usedIndexForKey = true;
    if (item.type && item.type.displayName) {
      _keylessItemComponentName = item.type.displayName;
    }
    return String(index);
  },
  maxToRenderPerBatch: 10,
  onEndReachedThreshold: 2,
  scrollEventThrottle: 50,
  updateCellsBatchingPeriod: 50,
  windowSize: 21
};
var CellRenderer = function (_React$Component) {
  _inheritsLoose(CellRenderer, _React$Component);
  function CellRenderer() {
    var _this6;
    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {
      args[_key] = arguments[_key];
    }
    _this6 = _React$Component.call.apply(_React$Component, [this].concat(args)) || this;
    _this6.state = {
      separatorProps: {
        highlighted: false,
        leadingItem: _this6.props.item
      }
    };
    _this6._separators = {
      highlight: function highlight() {
        var _this6$props = _this6.props,
          cellKey = _this6$props.cellKey,
          prevCellKey = _this6$props.prevCellKey;
        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: true
        });
      },
      unhighlight: function unhighlight() {
        var _this6$props2 = _this6.props,
          cellKey = _this6$props2.cellKey,
          prevCellKey = _this6$props2.prevCellKey;
        _this6.props.onUpdateSeparators([cellKey, prevCellKey], {
          highlighted: false
        });
      },
      updateProps: function updateProps(select, newProps) {
        var _this6$props3 = _this6.props,
          cellKey = _this6$props3.cellKey,
          prevCellKey = _this6$props3.prevCellKey;
        _this6.props.onUpdateSeparators([select === 'leading' ? prevCellKey : cellKey], newProps);
      }
    };
    return _this6;
  }
  CellRenderer.getDerivedStateFromProps = function getDerivedStateFromProps(props, prevState) {
    return {
      separatorProps: _objectSpread(_objectSpread({}, prevState.separatorProps), {}, {
        leadingItem: props.item
      })
    };
  };
  var _proto2 = CellRenderer.prototype;
  _proto2.updateSeparatorProps = function updateSeparatorProps(newProps) {
    this.setState(function (state) {
      return {
        separatorProps: _objectSpread(_objectSpread({}, state.separatorProps), newProps)
      };
    });
  };
  _proto2.componentWillUnmount = function componentWillUnmount() {
    this.props.onUnmount(this.props.cellKey);
  };
  _proto2._renderElement = function _renderElement(renderItem, ListItemComponent, item, index) {
    if (renderItem && ListItemComponent) {
      console.warn('VirtualizedList: Both ListItemComponent and renderItem props are present. ListItemComponent will take' + ' precedence over renderItem.');
    }
    if (ListItemComponent) {
      return React.createElement(ListItemComponent, {
        item: item,
        index: index,
        separators: this._separators
      });
    }
    if (renderItem) {
      return renderItem({
        item: item,
        index: index,
        separators: this._separators
      });
    }
    (0, _invariant.default)(false, 'VirtualizedList: Either ListItemComponent or renderItem props are required but none were found.');
  };
  _proto2.render = function render() {
    var _this$props11 = this.props,
      CellRendererComponent = _this$props11.CellRendererComponent,
      ItemSeparatorComponent = _this$props11.ItemSeparatorComponent,
      fillRateHelper = _this$props11.fillRateHelper,
      horizontal = _this$props11.horizontal,
      item = _this$props11.item,
      index = _this$props11.index,
      inversionStyle = _this$props11.inversionStyle,
      parentProps = _this$props11.parentProps;
    var renderItem = parentProps.renderItem,
      getItemLayout = parentProps.getItemLayout,
      ListItemComponent = parentProps.ListItemComponent;
    var element = this._renderElement(renderItem, ListItemComponent, item, index);
    var onLayout = getItemLayout && !parentProps.debug && !fillRateHelper.enabled() ? undefined : this.props.onLayout;
    var itemSeparator = ItemSeparatorComponent && React.createElement(ItemSeparatorComponent, this.state.separatorProps);
    var cellStyle = inversionStyle ? horizontal ? [styles.rowReverse, inversionStyle] : [styles.columnReverse, inversionStyle] : horizontal ? [styles.row, inversionStyle] : inversionStyle;
    var result = !CellRendererComponent ? React.createElement(_View.default, {
      style: cellStyle,
      onLayout: onLayout
    }, element, itemSeparator) : React.createElement(CellRendererComponent, _extends({}, this.props, {
      style: cellStyle,
      onLayout: onLayout
    }), element, itemSeparator);
    return React.createElement(_VirtualizedListContext.VirtualizedListCellContextProvider, {
      cellKey: this.props.cellKey
    }, result);
  };
  return CellRenderer;
}(React.Component);
function describeNestedLists(childList) {
  var trace = 'VirtualizedList trace:\n' + ("  Child (" + (childList.horizontal ? 'horizontal' : 'vertical') + "):\n") + ("    listKey: " + childList.key + "\n") + ("    cellKey: " + childList.cellKey);
  var debugInfo = childList.parentDebugInfo;
  while (debugInfo) {
    trace += "\n  Parent (" + (debugInfo.horizontal ? 'horizontal' : 'vertical') + "):\n" + ("    listKey: " + debugInfo.listKey + "\n") + ("    cellKey: " + debugInfo.cellKey);
    debugInfo = debugInfo.parent;
  }
  return trace;
}
var styles = _StyleSheet.default.create({
  verticallyInverted: {
    transform: [{
      scaleY: -1
    }]
  },
  horizontallyInverted: {
    transform: [{
      scaleX: -1
    }]
  },
  row: {
    flexDirection: 'row'
  },
  rowReverse: {
    flexDirection: 'row-reverse'
  },
  columnReverse: {
    flexDirection: 'column-reverse'
  },
  debug: {
    flex: 1
  },
  debugOverlayBase: {
    position: 'absolute',
    top: 0,
    right: 0
  },
  debugOverlay: {
    bottom: 0,
    width: 20,
    borderColor: 'blue',
    borderWidth: 1
  },
  debugOverlayFrame: {
    left: 0,
    backgroundColor: 'orange'
  },
  debugOverlayFrameLast: {
    left: 0,
    borderColor: 'green',
    borderWidth: 2
  },
  debugOverlayFrameVis: {
    left: 0,
    borderColor: 'red',
    borderWidth: 2
  }
});
var _default = VirtualizedList;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfQmF0Y2hpbmF0b3IiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9GaWxsUmF0ZUhlbHBlciIsIl9wcm9wVHlwZXMiLCJSZWFjdCIsIl9pbnRlcm9wUmVxdWlyZVdpbGRjYXJkIiwiX1JlZnJlc2hDb250cm9sIiwiX1Njcm9sbFZpZXciLCJfU3R5bGVTaGVldCIsIl9VSU1hbmFnZXIiLCJfVmlldyIsIl9WaWV3YWJpbGl0eUhlbHBlciIsIl9maW5kTm9kZUhhbmRsZSIsIl9pbmZvTG9nIiwiX2ludmFyaWFudCIsIl93YXJuaW5nIiwiX1ZpcnR1YWxpemVVdGlscyIsIl9WaXJ0dWFsaXplZExpc3RDb250ZXh0IiwiX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlIiwiV2Vha01hcCIsImNhY2hlIiwib2JqIiwiaGFzIiwiZ2V0IiwibmV3T2JqIiwiaGFzUHJvcGVydHlEZXNjcmlwdG9yIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJrZXkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJkZXNjIiwic2V0IiwiX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZSIsIm8iLCJhbGxvd0FycmF5TGlrZSIsIml0IiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJBcnJheSIsImlzQXJyYXkiLCJfdW5zdXBwb3J0ZWRJdGVyYWJsZVRvQXJyYXkiLCJsZW5ndGgiLCJpIiwiZG9uZSIsInZhbHVlIiwiVHlwZUVycm9yIiwibmV4dCIsImJpbmQiLCJtaW5MZW4iLCJfYXJyYXlMaWtlVG9BcnJheSIsIm4iLCJ0b1N0cmluZyIsInNsaWNlIiwiY29uc3RydWN0b3IiLCJuYW1lIiwiZnJvbSIsInRlc3QiLCJhcnIiLCJsZW4iLCJhcnIyIiwiX2V4dGVuZHMiLCJhc3NpZ24iLCJ0YXJnZXQiLCJhcmd1bWVudHMiLCJzb3VyY2UiLCJhcHBseSIsIm93bktleXMiLCJvYmplY3QiLCJlbnVtZXJhYmxlT25seSIsImtleXMiLCJnZXRPd25Qcm9wZXJ0eVN5bWJvbHMiLCJzeW1ib2xzIiwiZmlsdGVyIiwic3ltIiwiZW51bWVyYWJsZSIsInB1c2giLCJfb2JqZWN0U3ByZWFkIiwiZm9yRWFjaCIsIl9kZWZpbmVQcm9wZXJ0eSIsImdldE93blByb3BlcnR5RGVzY3JpcHRvcnMiLCJkZWZpbmVQcm9wZXJ0aWVzIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwic2VsZiIsIlJlZmVyZW5jZUVycm9yIiwiX2luaGVyaXRzTG9vc2UiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwic2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJmbGF0dGVuU3R5bGUiLCJmbGF0dGVuIiwiX19ERVZfXyIsInByb2Nlc3MiLCJlbnYiLCJOT0RFX0VOViIsIl91c2VkSW5kZXhGb3JLZXkiLCJfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lIiwiVmlydHVhbGl6ZWRMaXN0IiwiX1JlYWN0JFB1cmVDb21wb25lbnQiLCJfcHJvdG8iLCJzY3JvbGxUb0VuZCIsInBhcmFtcyIsImFuaW1hdGVkIiwidmVyeUxhc3QiLCJwcm9wcyIsImdldEl0ZW1Db3VudCIsImRhdGEiLCJmcmFtZSIsIl9nZXRGcmFtZU1ldHJpY3NBcHByb3giLCJvZmZzZXQiLCJNYXRoIiwibWF4IiwiX2Zvb3Rlckxlbmd0aCIsIl9zY3JvbGxNZXRyaWNzIiwidmlzaWJsZUxlbmd0aCIsIl9zY3JvbGxSZWYiLCJzY3JvbGxUbyIsImNvbnNvbGUiLCJ3YXJuIiwiaG9yaXpvbnRhbCIsIngiLCJ5Iiwic2Nyb2xsVG9JbmRleCIsIl90aGlzJHByb3BzIiwiZ2V0SXRlbUxheW91dCIsIm9uU2Nyb2xsVG9JbmRleEZhaWxlZCIsImluZGV4Iiwidmlld09mZnNldCIsInZpZXdQb3NpdGlvbiIsIl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IiwiYXZlcmFnZUl0ZW1MZW5ndGgiLCJfYXZlcmFnZUNlbGxMZW5ndGgiLCJoaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4Iiwic2Nyb2xsVG9JdGVtIiwiaXRlbSIsIl90aGlzJHByb3BzMiIsImdldEl0ZW0iLCJpdGVtQ291bnQiLCJfaW5kZXgiLCJzY3JvbGxUb09mZnNldCIsInJlY29yZEludGVyYWN0aW9uIiwiX25lc3RlZENoaWxkTGlzdHMiLCJjaGlsZExpc3QiLCJyZWYiLCJfdmlld2FiaWxpdHlUdXBsZXMiLCJ0Iiwidmlld2FiaWxpdHlIZWxwZXIiLCJfdXBkYXRlVmlld2FibGVJdGVtcyIsImZsYXNoU2Nyb2xsSW5kaWNhdG9ycyIsImdldFNjcm9sbFJlc3BvbmRlciIsImdldFNjcm9sbGFibGVOb2RlIiwiZ2V0U2Nyb2xsUmVmIiwic2V0TmF0aXZlUHJvcHMiLCJfZ2V0Q2VsbEtleSIsIl90aGlzJGNvbnRleHQiLCJjb250ZXh0IiwiY2VsbEtleSIsIl9nZXRMaXN0S2V5IiwibGlzdEtleSIsIl9nZXREZWJ1Z0luZm8iLCJfdGhpcyRjb250ZXh0MiIsInBhcmVudCIsImRlYnVnSW5mbyIsImhhc01vcmUiLCJfaGFzTW9yZSIsIl9wcm9wcyIsIl90aGlzIiwiX2dldFNjcm9sbE1ldHJpY3MiLCJfZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiIsIl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24iLCJnZXRPdXRlcm1vc3RQYXJlbnRMaXN0UmVmIiwiX2dldE5lc3RlZENoaWxkU3RhdGUiLCJleGlzdGluZ0NoaWxkRGF0YSIsInN0YXRlIiwiX3JlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsImNoaWxkTGlzdHNJbkNlbGwiLCJfY2VsbEtleXNUb0NoaWxkTGlzdEtleXMiLCJTZXQiLCJhZGQiLCJlcnJvciIsImRlc2NyaWJlTmVzdGVkTGlzdHMiLCJfaGFzSW50ZXJhY3RlZCIsIl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsIl9vblVwZGF0ZVNlcGFyYXRvcnMiLCJuZXdQcm9wcyIsIl9jZWxsUmVmcyIsInVwZGF0ZVNlcGFyYXRvclByb3BzIiwiTWFwIiwiX2ZyYW1lcyIsIl9oYXNEb25lSW5pdGlhbFNjcm9sbCIsIl9oYXNXYXJuZWQiLCJfaGVhZGVyTGVuZ3RoIiwiX2hpUHJpSW5Qcm9ncmVzcyIsIl9pbmRpY2VzVG9LZXlzIiwiX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QiLCJfcHJldlBhcmVudE9mZnNldCIsImNvbnRlbnRMZW5ndGgiLCJkT2Zmc2V0IiwiZHQiLCJ0aW1lc3RhbXAiLCJ2ZWxvY2l0eSIsIl9zZW50RW5kRm9yQ29udGVudExlbmd0aCIsIl90b3RhbENlbGxMZW5ndGgiLCJfdG90YWxDZWxsc01lYXN1cmVkIiwiX2NhcHR1cmVTY3JvbGxSZWYiLCJfZGVmYXVsdFJlbmRlclNjcm9sbENvbXBvbmVudCIsIm9uUmVmcmVzaCIsImNyZWF0ZUVsZW1lbnQiLCJyZWZyZXNoaW5nIiwiSlNPTiIsInN0cmluZ2lmeSIsInJlZnJlc2hDb250cm9sIiwicHJvZ3Jlc3NWaWV3T2Zmc2V0IiwiX29uQ2VsbFVubW91bnQiLCJjdXJyIiwiaW5MYXlvdXQiLCJfb25MYXlvdXQiLCJlIiwibWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCIsIl9zZWxlY3RMZW5ndGgiLCJuYXRpdmVFdmVudCIsImxheW91dCIsIm9uTGF5b3V0IiwiX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSIsIl9tYXliZUNhbGxPbkVuZFJlYWNoZWQiLCJfb25MYXlvdXRFbXB0eSIsIl9vbkxheW91dEZvb3RlciIsIl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbCIsIl9nZXRGb290ZXJDZWxsS2V5IiwiX29uTGF5b3V0SGVhZGVyIiwiX29uQ29udGVudFNpemVDaGFuZ2UiLCJ3aWR0aCIsImhlaWdodCIsImluaXRpYWxTY3JvbGxJbmRleCIsIm9uQ29udGVudFNpemVDaGFuZ2UiLCJfY29udmVydFBhcmVudFNjcm9sbE1ldHJpY3MiLCJtZXRyaWNzIiwiX29uU2Nyb2xsIiwib25TY3JvbGwiLCJ0aW1lU3RhbXAiLCJsYXlvdXRNZWFzdXJlbWVudCIsImNvbnRlbnRTaXplIiwiX3NlbGVjdE9mZnNldCIsImNvbnRlbnRPZmZzZXQiLCJfdGhpcyRfY29udmVydFBhcmVudFMiLCJwZXJmIiwicHJldkR0IiwiX2ZpbGxSYXRlSGVscGVyIiwiYWN0aXZhdGUiLCJfY29tcHV0ZUJsYW5rbmVzcyIsIl9vblNjcm9sbEJlZ2luRHJhZyIsInR1cGxlIiwib25TY3JvbGxCZWdpbkRyYWciLCJfb25TY3JvbGxFbmREcmFnIiwib25TY3JvbGxFbmREcmFnIiwiX29uTW9tZW50dW1TY3JvbGxCZWdpbiIsIm9uTW9tZW50dW1TY3JvbGxCZWdpbiIsIl9vbk1vbWVudHVtU2Nyb2xsRW5kIiwib25Nb21lbnR1bVNjcm9sbEVuZCIsIl91cGRhdGVDZWxsc1RvUmVuZGVyIiwiX3RoaXMkcHJvcHMzIiwib25FbmRSZWFjaGVkVGhyZXNob2xkIiwiaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkIiwiX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCIsInNldFN0YXRlIiwibmV3U3RhdGUiLCJfdGhpcyRfc2Nyb2xsTWV0cmljcyIsImNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cyIsImRpc3RhbmNlRnJvbUVuZCIsInJlbmRlckFoZWFkIiwibWF4VG9SZW5kZXJQZXJCYXRjaCIsImZpcnN0IiwibGFzdCIsIm1pbiIsInNpemUiLCJuZXdGaXJzdCIsIm5ld0xhc3QiLCJpaSIsImNlbGxLZXlGb3JJbmRleCIsImNoaWxkTGlzdEtleXMiLCJzb21lQ2hpbGRIYXNNb3JlIiwiX2l0ZXJhdG9yIiwiX3N0ZXAiLCJjaGlsZEtleSIsIl9jcmVhdGVWaWV3VG9rZW4iLCJpc1ZpZXdhYmxlIiwiX3RoaXMkcHJvcHM0Iiwia2V5RXh0cmFjdG9yIiwiX2dldEZyYW1lTWV0cmljcyIsIl90aGlzJHByb3BzNSIsIl9faXNOYXRpdmUiLCJ3aW5kb3dTaXplIiwiX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyIiwidXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCIsInZpZXdhYmlsaXR5Q29uZmlnQ2FsbGJhY2tQYWlycyIsIm1hcCIsInBhaXIiLCJ2aWV3YWJpbGl0eUNvbmZpZyIsIm9uVmlld2FibGVJdGVtc0NoYW5nZWQiLCJpbml0aWFsU3RhdGUiLCJpbml0aWFsTnVtVG9SZW5kZXIiLCJzdG9yZWRTdGF0ZSIsImdldE5lc3RlZENoaWxkU3RhdGUiLCJmcmFtZXMiLCJjb21wb25lbnREaWRNb3VudCIsInJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCIsInBhcmVudERlYnVnSW5mbyIsImNvbXBvbmVudFdpbGxVbm1vdW50IiwidW5yZWdpc3RlckFzTmVzdGVkQ2hpbGQiLCJkaXNwb3NlIiwiYWJvcnQiLCJkZWFjdGl2YXRlQW5kRmx1c2giLCJnZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMiLCJwcmV2U3RhdGUiLCJfcHVzaENlbGxzIiwiY2VsbHMiLCJzdGlja3lIZWFkZXJJbmRpY2VzIiwic3RpY2t5SW5kaWNlc0Zyb21Qcm9wcyIsImludmVyc2lvblN0eWxlIiwiX3RoaXMyIiwiX3RoaXMkcHJvcHM2IiwiQ2VsbFJlbmRlcmVyQ29tcG9uZW50IiwiSXRlbVNlcGFyYXRvckNvbXBvbmVudCIsInN0aWNreU9mZnNldCIsIkxpc3RIZWFkZXJDb21wb25lbnQiLCJlbmQiLCJwcmV2Q2VsbEtleSIsIl9sb29wIiwiQ2VsbFJlbmRlcmVyIiwidW5kZWZpbmVkIiwiZmlsbFJhdGVIZWxwZXIiLCJvblVwZGF0ZVNlcGFyYXRvcnMiLCJfb25DZWxsTGF5b3V0Iiwib25Vbm1vdW50IiwicGFyZW50UHJvcHMiLCJfcmVmIiwiZGlzYWJsZVZpcnR1YWxpemF0aW9uIiwibmVzdGVkQ29udGV4dCIsInJlbmRlciIsIl90aGlzMyIsImZsYXRTdHlsZXMiLCJjb250ZW50Q29udGFpbmVyU3R5bGUiLCJmbGV4V3JhcCIsIl90aGlzJHByb3BzNyIsIkxpc3RFbXB0eUNvbXBvbmVudCIsIkxpc3RGb290ZXJDb21wb25lbnQiLCJfdGhpcyRwcm9wczgiLCJpbnZlcnRlZCIsInN0eWxlcyIsImhvcml6b250YWxseUludmVydGVkIiwidmVydGljYWxseUludmVydGVkIiwiZWxlbWVudCIsImlzVmFsaWRFbGVtZW50IiwiVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlciIsInN0eWxlIiwiY29tcG9zZSIsIkxpc3RIZWFkZXJDb21wb25lbnRTdHlsZSIsInNwYWNlcktleSIsImxhc3RJbml0aWFsSW5kZXgiLCJfdGhpcyRzdGF0ZSIsImZpcnN0QWZ0ZXJJbml0aWFsIiwiaW5zZXJ0ZWRTdGlja3lTcGFjZXIiLCJfcmVmMiIsIl9yZWYzIiwiaW5pdEJsb2NrIiwic3RpY2t5QmxvY2siLCJsZWFkU3BhY2UiLCJ0cmFpbFNwYWNlIiwiX3JlZjQiLCJfaW5pdEJsb2NrIiwiZmlyc3RTcGFjZSIsIl9yZWY1IiwibGFzdEZyYW1lIiwiZW5kRnJhbWUiLCJ0YWlsU3BhY2VyTGVuZ3RoIiwiX2VsZW1lbnQiLCJjbG9uZUVsZW1lbnQiLCJldmVudCIsIl9lbGVtZW50MiIsIkxpc3RGb290ZXJDb21wb25lbnRTdHlsZSIsInNjcm9sbFByb3BzIiwic2Nyb2xsRXZlbnRUaHJvdHRsZSIsImlubmVyUmV0IiwiVmlydHVhbGl6ZWRMaXN0Q29udGV4dFByb3ZpZGVyIiwiZ2V0U2Nyb2xsTWV0cmljcyIsInJlbmRlclNjcm9sbENvbXBvbmVudCIsInJldCIsImRlYnVnIiwiX3JlbmRlckRlYnVnT3ZlcmxheSIsImNvbXBvbmVudERpZFVwZGF0ZSIsInByZXZQcm9wcyIsIl90aGlzJHByb3BzOSIsImV4dHJhRGF0YSIsInJlc2V0Vmlld2FibGVJbmRpY2VzIiwiaGlQcmlJblByb2dyZXNzIiwiY29tcHV0ZUJsYW5rbmVzcyIsIl9pdGVyYXRvcjIiLCJfc3RlcDIiLCJfdGhpczQiLCJtZWFzdXJlTGF5b3V0Iiwic2Nyb2xsTWV0cmljcyIsInN0YWNrIiwibm9ybWFsaXplIiwiZnJhbWVzSW5MYXlvdXQiLCJ3aW5kb3dUb3AiLCJmcmFtZUxhc3QiLCJ3aW5kb3dMZW4iLCJ2aXNUb3AiLCJ2aXNMZW4iLCJkZWJ1Z092ZXJsYXlCYXNlIiwiZGVidWdPdmVybGF5IiwiZiIsImRlYnVnT3ZlcmxheUZyYW1lIiwidG9wIiwiZGVidWdPdmVybGF5RnJhbWVMYXN0IiwiZGVidWdPdmVybGF5RnJhbWVWaXMiLCJfdGhpcyRwcm9wczEwIiwib25FbmRSZWFjaGVkIiwiX3RoaXMkX3Njcm9sbE1ldHJpY3MyIiwidGhyZXNob2xkIiwiX3RoaXMkc3RhdGUyIiwiX3RoaXMkX3Njcm9sbE1ldHJpY3MzIiwiaGlQcmkiLCJzY3JvbGxpbmdUaHJlc2hvbGQiLCJkaXN0VG9wIiwiZGlzdEJvdHRvbSIsInNjaGVkdWxlIiwiX3RoaXM1Iiwib25VcGRhdGUiLCJQdXJlQ29tcG9uZW50IiwiY29udGV4dFR5cGUiLCJWaXJ0dWFsaXplZExpc3RDb250ZXh0IiwiZGVmYXVsdFByb3BzIiwiaWQiLCJ0eXBlIiwiZGlzcGxheU5hbWUiLCJTdHJpbmciLCJfUmVhY3QkQ29tcG9uZW50IiwiX3RoaXM2IiwiX2xlbiIsImFyZ3MiLCJfa2V5IiwiY29uY2F0Iiwic2VwYXJhdG9yUHJvcHMiLCJoaWdobGlnaHRlZCIsImxlYWRpbmdJdGVtIiwiX3NlcGFyYXRvcnMiLCJoaWdobGlnaHQiLCJfdGhpczYkcHJvcHMiLCJ1bmhpZ2hsaWdodCIsIl90aGlzNiRwcm9wczIiLCJ1cGRhdGVQcm9wcyIsInNlbGVjdCIsIl90aGlzNiRwcm9wczMiLCJfcHJvdG8yIiwiX3JlbmRlckVsZW1lbnQiLCJyZW5kZXJJdGVtIiwiTGlzdEl0ZW1Db21wb25lbnQiLCJzZXBhcmF0b3JzIiwiX3RoaXMkcHJvcHMxMSIsImVuYWJsZWQiLCJpdGVtU2VwYXJhdG9yIiwiY2VsbFN0eWxlIiwicm93UmV2ZXJzZSIsImNvbHVtblJldmVyc2UiLCJyb3ciLCJyZXN1bHQiLCJDb21wb25lbnQiLCJ0cmFjZSIsInRyYW5zZm9ybSIsInNjYWxlWSIsInNjYWxlWCIsImZsZXhEaXJlY3Rpb24iLCJmbGV4IiwicG9zaXRpb24iLCJyaWdodCIsImJvdHRvbSIsImJvcmRlckNvbG9yIiwiYm9yZGVyV2lkdGgiLCJsZWZ0IiwiYmFja2dyb3VuZENvbG9yIiwiX2RlZmF1bHQiLCJtb2R1bGUiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9CYXRjaGluYXRvciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL0JhdGNoaW5hdG9yXCIpKTtcblxudmFyIF9GaWxsUmF0ZUhlbHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL0ZpbGxSYXRlSGVscGVyXCIpKTtcblxudmFyIF9wcm9wVHlwZXMgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJwcm9wLXR5cGVzXCIpKTtcblxudmFyIFJlYWN0ID0gX2ludGVyb3BSZXF1aXJlV2lsZGNhcmQocmVxdWlyZShcInJlYWN0XCIpKTtcblxudmFyIF9SZWZyZXNoQ29udHJvbCA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL2V4cG9ydHMvUmVmcmVzaENvbnRyb2xcIikpO1xuXG52YXIgX1Njcm9sbFZpZXcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi8uLi9leHBvcnRzL1Njcm9sbFZpZXdcIikpO1xuXG52YXIgX1N0eWxlU2hlZXQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi8uLi8uLi9leHBvcnRzL1N0eWxlU2hlZXRcIikpO1xuXG52YXIgX1VJTWFuYWdlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL2V4cG9ydHMvVUlNYW5hZ2VyXCIpKTtcblxudmFyIF9WaWV3ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vLi4vLi4vZXhwb3J0cy9WaWV3XCIpKTtcblxudmFyIF9WaWV3YWJpbGl0eUhlbHBlciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uL1ZpZXdhYmlsaXR5SGVscGVyXCIpKTtcblxudmFyIF9maW5kTm9kZUhhbmRsZSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIi4uLy4uLy4uL2V4cG9ydHMvZmluZE5vZGVIYW5kbGVcIikpO1xuXG52YXIgX2luZm9Mb2cgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9pbmZvTG9nXCIpKTtcblxudmFyIF9pbnZhcmlhbnQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJmYmpzL2xpYi9pbnZhcmlhbnRcIikpO1xuXG52YXIgX3dhcm5pbmcgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCJmYmpzL2xpYi93YXJuaW5nXCIpKTtcblxudmFyIF9WaXJ0dWFsaXplVXRpbHMgPSByZXF1aXJlKFwiLi4vVmlydHVhbGl6ZVV0aWxzXCIpO1xuXG52YXIgX1ZpcnR1YWxpemVkTGlzdENvbnRleHQgPSByZXF1aXJlKFwiLi9WaXJ0dWFsaXplZExpc3RDb250ZXh0LmpzXCIpO1xuXG5mdW5jdGlvbiBfZ2V0UmVxdWlyZVdpbGRjYXJkQ2FjaGUoKSB7IGlmICh0eXBlb2YgV2Vha01hcCAhPT0gXCJmdW5jdGlvblwiKSByZXR1cm4gbnVsbDsgdmFyIGNhY2hlID0gbmV3IFdlYWtNYXAoKTsgX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlID0gZnVuY3Rpb24gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCkgeyByZXR1cm4gY2FjaGU7IH07IHJldHVybiBjYWNoZTsgfVxuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVXaWxkY2FyZChvYmopIHsgaWYgKG9iaiAmJiBvYmouX19lc01vZHVsZSkgeyByZXR1cm4gb2JqOyB9IGlmIChvYmogPT09IG51bGwgfHwgdHlwZW9mIG9iaiAhPT0gXCJvYmplY3RcIiAmJiB0eXBlb2Ygb2JqICE9PSBcImZ1bmN0aW9uXCIpIHsgcmV0dXJuIHsgZGVmYXVsdDogb2JqIH07IH0gdmFyIGNhY2hlID0gX2dldFJlcXVpcmVXaWxkY2FyZENhY2hlKCk7IGlmIChjYWNoZSAmJiBjYWNoZS5oYXMob2JqKSkgeyByZXR1cm4gY2FjaGUuZ2V0KG9iaik7IH0gdmFyIG5ld09iaiA9IHt9OyB2YXIgaGFzUHJvcGVydHlEZXNjcmlwdG9yID0gT2JqZWN0LmRlZmluZVByb3BlcnR5ICYmIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3I7IGZvciAodmFyIGtleSBpbiBvYmopIHsgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSkpIHsgdmFyIGRlc2MgPSBoYXNQcm9wZXJ0eURlc2NyaXB0b3IgPyBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKG9iaiwga2V5KSA6IG51bGw7IGlmIChkZXNjICYmIChkZXNjLmdldCB8fCBkZXNjLnNldCkpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG5ld09iaiwga2V5LCBkZXNjKTsgfSBlbHNlIHsgbmV3T2JqW2tleV0gPSBvYmpba2V5XTsgfSB9IH0gbmV3T2JqLmRlZmF1bHQgPSBvYmo7IGlmIChjYWNoZSkgeyBjYWNoZS5zZXQob2JqLCBuZXdPYmopOyB9IHJldHVybiBuZXdPYmo7IH1cblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXJMb29zZShvLCBhbGxvd0FycmF5TGlrZSkgeyB2YXIgaXQ7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcInVuZGVmaW5lZFwiIHx8IG9bU3ltYm9sLml0ZXJhdG9yXSA9PSBudWxsKSB7IGlmIChBcnJheS5pc0FycmF5KG8pIHx8IChpdCA9IF91bnN1cHBvcnRlZEl0ZXJhYmxlVG9BcnJheShvKSkgfHwgYWxsb3dBcnJheUxpa2UgJiYgbyAmJiB0eXBlb2Ygby5sZW5ndGggPT09IFwibnVtYmVyXCIpIHsgaWYgKGl0KSBvID0gaXQ7IHZhciBpID0gMDsgcmV0dXJuIGZ1bmN0aW9uICgpIHsgaWYgKGkgPj0gby5sZW5ndGgpIHJldHVybiB7IGRvbmU6IHRydWUgfTsgcmV0dXJuIHsgZG9uZTogZmFsc2UsIHZhbHVlOiBvW2krK10gfTsgfTsgfSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBhdHRlbXB0IHRvIGl0ZXJhdGUgbm9uLWl0ZXJhYmxlIGluc3RhbmNlLlxcbkluIG9yZGVyIHRvIGJlIGl0ZXJhYmxlLCBub24tYXJyYXkgb2JqZWN0cyBtdXN0IGhhdmUgYSBbU3ltYm9sLml0ZXJhdG9yXSgpIG1ldGhvZC5cIik7IH0gaXQgPSBvW1N5bWJvbC5pdGVyYXRvcl0oKTsgcmV0dXJuIGl0Lm5leHQuYmluZChpdCk7IH1cblxuZnVuY3Rpb24gX3Vuc3VwcG9ydGVkSXRlcmFibGVUb0FycmF5KG8sIG1pbkxlbikgeyBpZiAoIW8pIHJldHVybjsgaWYgKHR5cGVvZiBvID09PSBcInN0cmluZ1wiKSByZXR1cm4gX2FycmF5TGlrZVRvQXJyYXkobywgbWluTGVuKTsgdmFyIG4gPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwobykuc2xpY2UoOCwgLTEpOyBpZiAobiA9PT0gXCJPYmplY3RcIiAmJiBvLmNvbnN0cnVjdG9yKSBuID0gby5jb25zdHJ1Y3Rvci5uYW1lOyBpZiAobiA9PT0gXCJNYXBcIiB8fCBuID09PSBcIlNldFwiKSByZXR1cm4gQXJyYXkuZnJvbShvKTsgaWYgKG4gPT09IFwiQXJndW1lbnRzXCIgfHwgL14oPzpVaXxJKW50KD86OHwxNnwzMikoPzpDbGFtcGVkKT9BcnJheSQvLnRlc3QobikpIHJldHVybiBfYXJyYXlMaWtlVG9BcnJheShvLCBtaW5MZW4pOyB9XG5cbmZ1bmN0aW9uIF9hcnJheUxpa2VUb0FycmF5KGFyciwgbGVuKSB7IGlmIChsZW4gPT0gbnVsbCB8fCBsZW4gPiBhcnIubGVuZ3RoKSBsZW4gPSBhcnIubGVuZ3RoOyBmb3IgKHZhciBpID0gMCwgYXJyMiA9IG5ldyBBcnJheShsZW4pOyBpIDwgbGVuOyBpKyspIHsgYXJyMltpXSA9IGFycltpXTsgfSByZXR1cm4gYXJyMjsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBvd25LZXlzKG9iamVjdCwgZW51bWVyYWJsZU9ubHkpIHsgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhvYmplY3QpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgc3ltYm9scyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMob2JqZWN0KTsgaWYgKGVudW1lcmFibGVPbmx5KSBzeW1ib2xzID0gc3ltYm9scy5maWx0ZXIoZnVuY3Rpb24gKHN5bSkgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihvYmplY3QsIHN5bSkuZW51bWVyYWJsZTsgfSk7IGtleXMucHVzaC5hcHBseShrZXlzLCBzeW1ib2xzKTsgfSByZXR1cm4ga2V5czsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldICE9IG51bGwgPyBhcmd1bWVudHNbaV0gOiB7fTsgaWYgKGkgJSAyKSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSksIHRydWUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBfZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHNvdXJjZVtrZXldKTsgfSk7IH0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMpIHsgT2JqZWN0LmRlZmluZVByb3BlcnRpZXModGFyZ2V0LCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhzb3VyY2UpKTsgfSBlbHNlIHsgb3duS2V5cyhPYmplY3Qoc291cmNlKSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGtleSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihzb3VyY2UsIGtleSkpOyB9KTsgfSB9IHJldHVybiB0YXJnZXQ7IH1cblxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9pbmhlcml0c0xvb3NlKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcy5wcm90b3R5cGUpOyBzdWJDbGFzcy5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBzdWJDbGFzczsgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG52YXIgZmxhdHRlblN0eWxlID0gX1N0eWxlU2hlZXQuZGVmYXVsdC5mbGF0dGVuO1xuXG52YXIgX19ERVZfXyA9IHByb2Nlc3MuZW52Lk5PREVfRU5WICE9PSAncHJvZHVjdGlvbic7XG5cbnZhciBfdXNlZEluZGV4Rm9yS2V5ID0gZmFsc2U7XG52YXIgX2tleWxlc3NJdGVtQ29tcG9uZW50TmFtZSA9ICcnO1xuXG4vKipcbiAqIEJhc2UgaW1wbGVtZW50YXRpb24gZm9yIHRoZSBtb3JlIGNvbnZlbmllbnQgW2A8RmxhdExpc3Q+YF0oaHR0cHM6Ly9yZWFjdG5hdGl2ZS5kZXYvZG9jcy9mbGF0bGlzdC5odG1sKVxuICogYW5kIFtgPFNlY3Rpb25MaXN0PmBdKGh0dHBzOi8vcmVhY3RuYXRpdmUuZGV2L2RvY3Mvc2VjdGlvbmxpc3QuaHRtbCkgY29tcG9uZW50cywgd2hpY2ggYXJlIGFsc28gYmV0dGVyXG4gKiBkb2N1bWVudGVkLiBJbiBnZW5lcmFsLCB0aGlzIHNob3VsZCBvbmx5IHJlYWxseSBiZSB1c2VkIGlmIHlvdSBuZWVkIG1vcmUgZmxleGliaWxpdHkgdGhhblxuICogYEZsYXRMaXN0YCBwcm92aWRlcywgZS5nLiBmb3IgdXNlIHdpdGggaW1tdXRhYmxlIGRhdGEgaW5zdGVhZCBvZiBwbGFpbiBhcnJheXMuXG4gKlxuICogVmlydHVhbGl6YXRpb24gbWFzc2l2ZWx5IGltcHJvdmVzIG1lbW9yeSBjb25zdW1wdGlvbiBhbmQgcGVyZm9ybWFuY2Ugb2YgbGFyZ2UgbGlzdHMgYnlcbiAqIG1haW50YWluaW5nIGEgZmluaXRlIHJlbmRlciB3aW5kb3cgb2YgYWN0aXZlIGl0ZW1zIGFuZCByZXBsYWNpbmcgYWxsIGl0ZW1zIG91dHNpZGUgb2YgdGhlIHJlbmRlclxuICogd2luZG93IHdpdGggYXBwcm9wcmlhdGVseSBzaXplZCBibGFuayBzcGFjZS4gVGhlIHdpbmRvdyBhZGFwdHMgdG8gc2Nyb2xsaW5nIGJlaGF2aW9yLCBhbmQgaXRlbXNcbiAqIGFyZSByZW5kZXJlZCBpbmNyZW1lbnRhbGx5IHdpdGggbG93LXByaSAoYWZ0ZXIgYW55IHJ1bm5pbmcgaW50ZXJhY3Rpb25zKSBpZiB0aGV5IGFyZSBmYXIgZnJvbSB0aGVcbiAqIHZpc2libGUgYXJlYSwgb3Igd2l0aCBoaS1wcmkgb3RoZXJ3aXNlIHRvIG1pbmltaXplIHRoZSBwb3RlbnRpYWwgb2Ygc2VlaW5nIGJsYW5rIHNwYWNlLlxuICpcbiAqIFNvbWUgY2F2ZWF0czpcbiAqXG4gKiAtIEludGVybmFsIHN0YXRlIGlzIG5vdCBwcmVzZXJ2ZWQgd2hlbiBjb250ZW50IHNjcm9sbHMgb3V0IG9mIHRoZSByZW5kZXIgd2luZG93LiBNYWtlIHN1cmUgYWxsXG4gKiAgIHlvdXIgZGF0YSBpcyBjYXB0dXJlZCBpbiB0aGUgaXRlbSBkYXRhIG9yIGV4dGVybmFsIHN0b3JlcyBsaWtlIEZsdXgsIFJlZHV4LCBvciBSZWxheS5cbiAqIC0gVGhpcyBpcyBhIGBQdXJlQ29tcG9uZW50YCB3aGljaCBtZWFucyB0aGF0IGl0IHdpbGwgbm90IHJlLXJlbmRlciBpZiBgcHJvcHNgIHJlbWFpbiBzaGFsbG93LVxuICogICBlcXVhbC4gTWFrZSBzdXJlIHRoYXQgZXZlcnl0aGluZyB5b3VyIGByZW5kZXJJdGVtYCBmdW5jdGlvbiBkZXBlbmRzIG9uIGlzIHBhc3NlZCBhcyBhIHByb3BcbiAqICAgKGUuZy4gYGV4dHJhRGF0YWApIHRoYXQgaXMgbm90IGA9PT1gIGFmdGVyIHVwZGF0ZXMsIG90aGVyd2lzZSB5b3VyIFVJIG1heSBub3QgdXBkYXRlIG9uXG4gKiAgIGNoYW5nZXMuIFRoaXMgaW5jbHVkZXMgdGhlIGBkYXRhYCBwcm9wIGFuZCBwYXJlbnQgY29tcG9uZW50IHN0YXRlLlxuICogLSBJbiBvcmRlciB0byBjb25zdHJhaW4gbWVtb3J5IGFuZCBlbmFibGUgc21vb3RoIHNjcm9sbGluZywgY29udGVudCBpcyByZW5kZXJlZCBhc3luY2hyb25vdXNseVxuICogICBvZmZzY3JlZW4uIFRoaXMgbWVhbnMgaXQncyBwb3NzaWJsZSB0byBzY3JvbGwgZmFzdGVyIHRoYW4gdGhlIGZpbGwgcmF0ZSBhbmRzIG1vbWVudGFyaWx5IHNlZVxuICogICBibGFuayBjb250ZW50LiBUaGlzIGlzIGEgdHJhZGVvZmYgdGhhdCBjYW4gYmUgYWRqdXN0ZWQgdG8gc3VpdCB0aGUgbmVlZHMgb2YgZWFjaCBhcHBsaWNhdGlvbixcbiAqICAgYW5kIHdlIGFyZSB3b3JraW5nIG9uIGltcHJvdmluZyBpdCBiZWhpbmQgdGhlIHNjZW5lcy5cbiAqIC0gQnkgZGVmYXVsdCwgdGhlIGxpc3QgbG9va3MgZm9yIGEgYGtleWAgb3IgYGlkYCBwcm9wIG9uIGVhY2ggaXRlbSBhbmQgdXNlcyB0aGF0IGZvciB0aGUgUmVhY3Qga2V5LlxuICogICBBbHRlcm5hdGl2ZWx5LCB5b3UgY2FuIHByb3ZpZGUgYSBjdXN0b20gYGtleUV4dHJhY3RvcmAgcHJvcC5cbiAqXG4gKi9cbnZhciBWaXJ0dWFsaXplZExpc3QgPSAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKF9SZWFjdCRQdXJlQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKFZpcnR1YWxpemVkTGlzdCwgX1JlYWN0JFB1cmVDb21wb25lbnQpO1xuXG4gIHZhciBfcHJvdG8gPSBWaXJ0dWFsaXplZExpc3QucHJvdG90eXBlO1xuXG4gIC8vIHNjcm9sbFRvRW5kIG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICBfcHJvdG8uc2Nyb2xsVG9FbmQgPSBmdW5jdGlvbiBzY3JvbGxUb0VuZChwYXJhbXMpIHtcbiAgICB2YXIgYW5pbWF0ZWQgPSBwYXJhbXMgPyBwYXJhbXMuYW5pbWF0ZWQgOiB0cnVlO1xuICAgIHZhciB2ZXJ5TGFzdCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KHRoaXMucHJvcHMuZGF0YSkgLSAxO1xuXG4gICAgdmFyIGZyYW1lID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KHZlcnlMYXN0KTtcblxuICAgIHZhciBvZmZzZXQgPSBNYXRoLm1heCgwLCBmcmFtZS5vZmZzZXQgKyBmcmFtZS5sZW5ndGggKyB0aGlzLl9mb290ZXJMZW5ndGggLSB0aGlzLl9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGgpO1xuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyA9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vIHNjcm9sbFRvIG1ldGhvZCBwcm92aWRlZC4gVGhpcyBtYXkgYmUgYmVjYXVzZSB5b3UgaGF2ZSB0d28gbmVzdGVkICcgKyAnVmlydHVhbGl6ZWRMaXN0cyB3aXRoIHRoZSBzYW1lIG9yaWVudGF0aW9uLCBvciBiZWNhdXNlIHlvdSBhcmUgJyArICd1c2luZyBhIGN1c3RvbSBjb21wb25lbnQgdGhhdCBkb2VzIG5vdCBpbXBsZW1lbnQgc2Nyb2xsVG8uJyk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLnNjcm9sbFRvKHRoaXMucHJvcHMuaG9yaXpvbnRhbCA/IHtcbiAgICAgIHg6IG9mZnNldCxcbiAgICAgIGFuaW1hdGVkOiBhbmltYXRlZFxuICAgIH0gOiB7XG4gICAgICB5OiBvZmZzZXQsXG4gICAgICBhbmltYXRlZDogYW5pbWF0ZWRcbiAgICB9KTtcbiAgfSAvLyBzY3JvbGxUb0luZGV4IG1heSBiZSBqYW5reSB3aXRob3V0IGdldEl0ZW1MYXlvdXQgcHJvcFxuICA7XG5cbiAgX3Byb3RvLnNjcm9sbFRvSW5kZXggPSBmdW5jdGlvbiBzY3JvbGxUb0luZGV4KHBhcmFtcykge1xuICAgIHZhciBfdGhpcyRwcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRhdGEgPSBfdGhpcyRwcm9wcy5kYXRhLFxuICAgICAgICBob3Jpem9udGFsID0gX3RoaXMkcHJvcHMuaG9yaXpvbnRhbCxcbiAgICAgICAgZ2V0SXRlbUNvdW50ID0gX3RoaXMkcHJvcHMuZ2V0SXRlbUNvdW50LFxuICAgICAgICBnZXRJdGVtTGF5b3V0ID0gX3RoaXMkcHJvcHMuZ2V0SXRlbUxheW91dCxcbiAgICAgICAgb25TY3JvbGxUb0luZGV4RmFpbGVkID0gX3RoaXMkcHJvcHMub25TY3JvbGxUb0luZGV4RmFpbGVkO1xuICAgIHZhciBhbmltYXRlZCA9IHBhcmFtcy5hbmltYXRlZCxcbiAgICAgICAgaW5kZXggPSBwYXJhbXMuaW5kZXgsXG4gICAgICAgIHZpZXdPZmZzZXQgPSBwYXJhbXMudmlld09mZnNldCxcbiAgICAgICAgdmlld1Bvc2l0aW9uID0gcGFyYW1zLnZpZXdQb3NpdGlvbjtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShpbmRleCA+PSAwLCBcInNjcm9sbFRvSW5kZXggb3V0IG9mIHJhbmdlOiByZXF1ZXN0ZWQgaW5kZXggXCIgKyBpbmRleCArIFwiIGJ1dCBtaW5pbXVtIGlzIDBcIik7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoZ2V0SXRlbUNvdW50KGRhdGEpID49IDEsIFwic2Nyb2xsVG9JbmRleCBvdXQgb2YgcmFuZ2U6IGl0ZW0gbGVuZ3RoIFwiICsgZ2V0SXRlbUNvdW50KGRhdGEpICsgXCIgYnV0IG1pbmltdW0gaXMgMVwiKTtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShpbmRleCA8IGdldEl0ZW1Db3VudChkYXRhKSwgXCJzY3JvbGxUb0luZGV4IG91dCBvZiByYW5nZTogcmVxdWVzdGVkIGluZGV4IFwiICsgaW5kZXggKyBcIiBpcyBvdXQgb2YgMCB0byBcIiArIChnZXRJdGVtQ291bnQoZGF0YSkgLSAxKSk7XG5cbiAgICBpZiAoIWdldEl0ZW1MYXlvdXQgJiYgaW5kZXggPiB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4KSB7XG4gICAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KSghIW9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJ3Njcm9sbFRvSW5kZXggc2hvdWxkIGJlIHVzZWQgaW4gY29uanVuY3Rpb24gd2l0aCBnZXRJdGVtTGF5b3V0IG9yIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCwgJyArICdvdGhlcndpc2UgdGhlcmUgaXMgbm8gd2F5IHRvIGtub3cgdGhlIGxvY2F0aW9uIG9mIG9mZnNjcmVlbiBpbmRpY2VzIG9yIGhhbmRsZSBmYWlsdXJlcy4nKTtcbiAgICAgIG9uU2Nyb2xsVG9JbmRleEZhaWxlZCh7XG4gICAgICAgIGF2ZXJhZ2VJdGVtTGVuZ3RoOiB0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCxcbiAgICAgICAgaGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleDogdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCxcbiAgICAgICAgaW5kZXg6IGluZGV4XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgZnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goaW5kZXgpO1xuXG4gICAgdmFyIG9mZnNldCA9IE1hdGgubWF4KDAsIGZyYW1lLm9mZnNldCAtICh2aWV3UG9zaXRpb24gfHwgMCkgKiAodGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC0gZnJhbWUubGVuZ3RoKSkgLSAodmlld09mZnNldCB8fCAwKTtcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKCdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICsgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgKyAndXNpbmcgYSBjdXN0b20gY29tcG9uZW50IHRoYXQgZG9lcyBub3QgaW1wbGVtZW50IHNjcm9sbFRvLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyhob3Jpem9udGFsID8ge1xuICAgICAgeDogb2Zmc2V0LFxuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkXG4gICAgfSA6IHtcbiAgICAgIHk6IG9mZnNldCxcbiAgICAgIGFuaW1hdGVkOiBhbmltYXRlZFxuICAgIH0pO1xuICB9IC8vIHNjcm9sbFRvSXRlbSBtYXkgYmUgamFua3kgd2l0aG91dCBnZXRJdGVtTGF5b3V0IHByb3AuIFJlcXVpcmVkIGxpbmVhciBzY2FuIHRocm91Z2ggaXRlbXMgLVxuICAvLyB1c2Ugc2Nyb2xsVG9JbmRleCBpbnN0ZWFkIGlmIHBvc3NpYmxlLlxuICA7XG5cbiAgX3Byb3RvLnNjcm9sbFRvSXRlbSA9IGZ1bmN0aW9uIHNjcm9sbFRvSXRlbShwYXJhbXMpIHtcbiAgICB2YXIgaXRlbSA9IHBhcmFtcy5pdGVtO1xuICAgIHZhciBfdGhpcyRwcm9wczIgPSB0aGlzLnByb3BzLFxuICAgICAgICBkYXRhID0gX3RoaXMkcHJvcHMyLmRhdGEsXG4gICAgICAgIGdldEl0ZW0gPSBfdGhpcyRwcm9wczIuZ2V0SXRlbSxcbiAgICAgICAgZ2V0SXRlbUNvdW50ID0gX3RoaXMkcHJvcHMyLmdldEl0ZW1Db3VudDtcbiAgICB2YXIgaXRlbUNvdW50ID0gZ2V0SXRlbUNvdW50KGRhdGEpO1xuXG4gICAgZm9yICh2YXIgX2luZGV4ID0gMDsgX2luZGV4IDwgaXRlbUNvdW50OyBfaW5kZXgrKykge1xuICAgICAgaWYgKGdldEl0ZW0oZGF0YSwgX2luZGV4KSA9PT0gaXRlbSkge1xuICAgICAgICB0aGlzLnNjcm9sbFRvSW5kZXgoX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBwYXJhbXMpLCB7fSwge1xuICAgICAgICAgIGluZGV4OiBfaW5kZXhcbiAgICAgICAgfSkpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIFNjcm9sbCB0byBhIHNwZWNpZmljIGNvbnRlbnQgcGl4ZWwgb2Zmc2V0IGluIHRoZSBsaXN0LlxuICAgKlxuICAgKiBQYXJhbSBgb2Zmc2V0YCBleHBlY3RzIHRoZSBvZmZzZXQgdG8gc2Nyb2xsIHRvLlxuICAgKiBJbiBjYXNlIG9mIGBob3Jpem9udGFsYCBpcyB0cnVlLCB0aGUgb2Zmc2V0IGlzIHRoZSB4LXZhbHVlLFxuICAgKiBpbiBhbnkgb3RoZXIgY2FzZSB0aGUgb2Zmc2V0IGlzIHRoZSB5LXZhbHVlLlxuICAgKlxuICAgKiBQYXJhbSBgYW5pbWF0ZWRgIChgdHJ1ZWAgYnkgZGVmYXVsdCkgZGVmaW5lcyB3aGV0aGVyIHRoZSBsaXN0XG4gICAqIHNob3VsZCBkbyBhbiBhbmltYXRpb24gd2hpbGUgc2Nyb2xsaW5nLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5zY3JvbGxUb09mZnNldCA9IGZ1bmN0aW9uIHNjcm9sbFRvT2Zmc2V0KHBhcmFtcykge1xuICAgIHZhciBhbmltYXRlZCA9IHBhcmFtcy5hbmltYXRlZCxcbiAgICAgICAgb2Zmc2V0ID0gcGFyYW1zLm9mZnNldDtcblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgPT0gbnVsbCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYuc2Nyb2xsVG8gPT0gbnVsbCkge1xuICAgICAgY29uc29sZS53YXJuKCdObyBzY3JvbGxUbyBtZXRob2QgcHJvdmlkZWQuIFRoaXMgbWF5IGJlIGJlY2F1c2UgeW91IGhhdmUgdHdvIG5lc3RlZCAnICsgJ1ZpcnR1YWxpemVkTGlzdHMgd2l0aCB0aGUgc2FtZSBvcmllbnRhdGlvbiwgb3IgYmVjYXVzZSB5b3UgYXJlICcgKyAndXNpbmcgYSBjdXN0b20gY29tcG9uZW50IHRoYXQgZG9lcyBub3QgaW1wbGVtZW50IHNjcm9sbFRvLicpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHRoaXMuX3Njcm9sbFJlZi5zY3JvbGxUbyh0aGlzLnByb3BzLmhvcml6b250YWwgPyB7XG4gICAgICB4OiBvZmZzZXQsXG4gICAgICBhbmltYXRlZDogYW5pbWF0ZWRcbiAgICB9IDoge1xuICAgICAgeTogb2Zmc2V0LFxuICAgICAgYW5pbWF0ZWQ6IGFuaW1hdGVkXG4gICAgfSk7XG4gIH07XG5cbiAgX3Byb3RvLnJlY29yZEludGVyYWN0aW9uID0gZnVuY3Rpb24gcmVjb3JkSW50ZXJhY3Rpb24oKSB7XG4gICAgdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZExpc3QpIHtcbiAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xuICAgICAgdC52aWV3YWJpbGl0eUhlbHBlci5yZWNvcmRJbnRlcmFjdGlvbigpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyh0aGlzLnByb3BzLmRhdGEpO1xuICB9O1xuXG4gIF9wcm90by5mbGFzaFNjcm9sbEluZGljYXRvcnMgPSBmdW5jdGlvbiBmbGFzaFNjcm9sbEluZGljYXRvcnMoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiA9PSBudWxsKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5fc2Nyb2xsUmVmLmZsYXNoU2Nyb2xsSW5kaWNhdG9ycygpO1xuICB9XG4gIC8qKlxuICAgKiBQcm92aWRlcyBhIGhhbmRsZSB0byB0aGUgdW5kZXJseWluZyBzY3JvbGwgcmVzcG9uZGVyLlxuICAgKiBOb3RlIHRoYXQgYHRoaXMuX3Njcm9sbFJlZmAgbWlnaHQgbm90IGJlIGEgYFNjcm9sbFZpZXdgLCBzbyB3ZVxuICAgKiBuZWVkIHRvIGNoZWNrIHRoYXQgaXQgcmVzcG9uZHMgdG8gYGdldFNjcm9sbFJlc3BvbmRlcmAgYmVmb3JlIGNhbGxpbmcgaXQuXG4gICAqL1xuICA7XG5cbiAgX3Byb3RvLmdldFNjcm9sbFJlc3BvbmRlciA9IGZ1bmN0aW9uIGdldFNjcm9sbFJlc3BvbmRlcigpIHtcbiAgICBpZiAodGhpcy5fc2Nyb2xsUmVmICYmIHRoaXMuX3Njcm9sbFJlZi5nZXRTY3JvbGxSZXNwb25kZXIpIHtcbiAgICAgIHJldHVybiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVzcG9uZGVyKCk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5nZXRTY3JvbGxhYmxlTm9kZSA9IGZ1bmN0aW9uIGdldFNjcm9sbGFibGVOb2RlKCkge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYgJiYgdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbGFibGVOb2RlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoMCwgX2ZpbmROb2RlSGFuZGxlLmRlZmF1bHQpKHRoaXMuX3Njcm9sbFJlZik7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5nZXRTY3JvbGxSZWYgPSBmdW5jdGlvbiBnZXRTY3JvbGxSZWYoKSB7XG4gICAgaWYgKHRoaXMuX3Njcm9sbFJlZiAmJiB0aGlzLl9zY3JvbGxSZWYuZ2V0U2Nyb2xsUmVmKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmLmdldFNjcm9sbFJlZigpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2Nyb2xsUmVmO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uc2V0TmF0aXZlUHJvcHMgPSBmdW5jdGlvbiBzZXROYXRpdmVQcm9wcyhwcm9wcykge1xuICAgIGlmICh0aGlzLl9zY3JvbGxSZWYpIHtcbiAgICAgIHRoaXMuX3Njcm9sbFJlZi5zZXROYXRpdmVQcm9wcyhwcm9wcyk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5fZ2V0Q2VsbEtleSA9IGZ1bmN0aW9uIF9nZXRDZWxsS2V5KCkge1xuICAgIHZhciBfdGhpcyRjb250ZXh0O1xuXG4gICAgcmV0dXJuICgoX3RoaXMkY29udGV4dCA9IHRoaXMuY29udGV4dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF90aGlzJGNvbnRleHQuY2VsbEtleSkgfHwgJ3Jvb3RMaXN0JztcbiAgfTtcblxuICBfcHJvdG8uX2dldExpc3RLZXkgPSBmdW5jdGlvbiBfZ2V0TGlzdEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5saXN0S2V5IHx8IHRoaXMuX2dldENlbGxLZXkoKTtcbiAgfTtcblxuICBfcHJvdG8uX2dldERlYnVnSW5mbyA9IGZ1bmN0aW9uIF9nZXREZWJ1Z0luZm8oKSB7XG4gICAgdmFyIF90aGlzJGNvbnRleHQyO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIGxpc3RLZXk6IHRoaXMuX2dldExpc3RLZXkoKSxcbiAgICAgIGNlbGxLZXk6IHRoaXMuX2dldENlbGxLZXkoKSxcbiAgICAgIGhvcml6b250YWw6ICEhdGhpcy5wcm9wcy5ob3Jpem9udGFsLFxuICAgICAgcGFyZW50OiAoX3RoaXMkY29udGV4dDIgPSB0aGlzLmNvbnRleHQpID09IG51bGwgPyB2b2lkIDAgOiBfdGhpcyRjb250ZXh0Mi5kZWJ1Z0luZm9cbiAgICB9O1xuICB9O1xuXG4gIF9wcm90by5oYXNNb3JlID0gZnVuY3Rpb24gaGFzTW9yZSgpIHtcbiAgICByZXR1cm4gdGhpcy5faGFzTW9yZTtcbiAgfTtcblxuICBmdW5jdGlvbiBWaXJ0dWFsaXplZExpc3QoX3Byb3BzKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfUmVhY3QkUHVyZUNvbXBvbmVudC5jYWxsKHRoaXMsIF9wcm9wcykgfHwgdGhpcztcblxuICAgIF90aGlzLl9nZXRTY3JvbGxNZXRyaWNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIF90aGlzLl9zY3JvbGxNZXRyaWNzO1xuICAgIH07XG5cbiAgICBfdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZiA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChfdGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgICAgcmV0dXJuIF90aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoX3RoaXMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5fZ2V0TmVzdGVkQ2hpbGRTdGF0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBleGlzdGluZ0NoaWxkRGF0YSA9IF90aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmdldChrZXkpO1xuXG4gICAgICByZXR1cm4gZXhpc3RpbmdDaGlsZERhdGEgJiYgZXhpc3RpbmdDaGlsZERhdGEuc3RhdGU7XG4gICAgfTtcblxuICAgIF90aGlzLl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQgPSBmdW5jdGlvbiAoY2hpbGRMaXN0KSB7XG4gICAgICAvLyBSZWdpc3RlciB0aGUgbWFwcGluZyBiZXR3ZWVuIHRoaXMgY2hpbGQga2V5IGFuZCB0aGUgY2VsbEtleSBmb3IgaXRzIGNlbGxcbiAgICAgIHZhciBjaGlsZExpc3RzSW5DZWxsID0gX3RoaXMuX2NlbGxLZXlzVG9DaGlsZExpc3RLZXlzLmdldChjaGlsZExpc3QuY2VsbEtleSkgfHwgbmV3IFNldCgpO1xuICAgICAgY2hpbGRMaXN0c0luQ2VsbC5hZGQoY2hpbGRMaXN0LmtleSk7XG5cbiAgICAgIF90aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5zZXQoY2hpbGRMaXN0LmNlbGxLZXksIGNoaWxkTGlzdHNJbkNlbGwpO1xuXG4gICAgICB2YXIgZXhpc3RpbmdDaGlsZERhdGEgPSBfdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRMaXN0LmtleSk7XG5cbiAgICAgIGlmIChleGlzdGluZ0NoaWxkRGF0YSAmJiBleGlzdGluZ0NoaWxkRGF0YS5yZWYgIT09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignQSBWaXJ0dWFsaXplZExpc3QgY29udGFpbnMgYSBjZWxsIHdoaWNoIGl0c2VsZiBjb250YWlucyAnICsgJ21vcmUgdGhhbiBvbmUgVmlydHVhbGl6ZWRMaXN0IG9mIHRoZSBzYW1lIG9yaWVudGF0aW9uIGFzIHRoZSBwYXJlbnQgJyArICdsaXN0LiBZb3UgbXVzdCBwYXNzIGEgdW5pcXVlIGxpc3RLZXkgcHJvcCB0byBlYWNoIHNpYmxpbmcgbGlzdC5cXG5cXG4nICsgZGVzY3JpYmVOZXN0ZWRMaXN0cyhfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNoaWxkTGlzdCksIHt9LCB7XG4gICAgICAgICAgLy8gV2UncmUgY2FsbGVkIGZyb20gdGhlIGNoaWxkJ3MgY29tcG9uZW50RGlkTW91bnQsIHNvIGl0J3Mgc2FmZSB0b1xuICAgICAgICAgIC8vIHJlYWQgdGhlIGNoaWxkJ3MgcHJvcHMgaGVyZSAoYWxiZWl0IHdlaXJkKS5cbiAgICAgICAgICBob3Jpem9udGFsOiAhIWNoaWxkTGlzdC5yZWYucHJvcHMuaG9yaXpvbnRhbFxuICAgICAgICB9KSkpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5zZXQoY2hpbGRMaXN0LmtleSwge1xuICAgICAgICByZWY6IGNoaWxkTGlzdC5yZWYsXG4gICAgICAgIHN0YXRlOiBudWxsXG4gICAgICB9KTtcblxuICAgICAgaWYgKF90aGlzLl9oYXNJbnRlcmFjdGVkKSB7XG4gICAgICAgIGNoaWxkTGlzdC5yZWYucmVjb3JkSW50ZXJhY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX3VucmVnaXN0ZXJBc05lc3RlZENoaWxkID0gZnVuY3Rpb24gKGNoaWxkTGlzdCkge1xuICAgICAgX3RoaXMuX25lc3RlZENoaWxkTGlzdHMuc2V0KGNoaWxkTGlzdC5rZXksIHtcbiAgICAgICAgcmVmOiBudWxsLFxuICAgICAgICBzdGF0ZTogY2hpbGRMaXN0LnN0YXRlXG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuX29uVXBkYXRlU2VwYXJhdG9ycyA9IGZ1bmN0aW9uIChrZXlzLCBuZXdQcm9wcykge1xuICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHJlZiA9IGtleSAhPSBudWxsICYmIF90aGlzLl9jZWxsUmVmc1trZXldO1xuICAgICAgICByZWYgJiYgcmVmLnVwZGF0ZVNlcGFyYXRvclByb3BzKG5ld1Byb3BzKTtcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICBfdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggPSAwO1xuICAgIF90aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cyA9IG5ldyBNYXAoKTtcbiAgICBfdGhpcy5fY2VsbFJlZnMgPSB7fTtcbiAgICBfdGhpcy5fZnJhbWVzID0ge307XG4gICAgX3RoaXMuX2Zvb3Rlckxlbmd0aCA9IDA7XG4gICAgX3RoaXMuX2hhc0RvbmVJbml0aWFsU2Nyb2xsID0gZmFsc2U7XG4gICAgX3RoaXMuX2hhc0ludGVyYWN0ZWQgPSBmYWxzZTtcbiAgICBfdGhpcy5faGFzTW9yZSA9IGZhbHNlO1xuICAgIF90aGlzLl9oYXNXYXJuZWQgPSB7fTtcbiAgICBfdGhpcy5faGVhZGVyTGVuZ3RoID0gMDtcbiAgICBfdGhpcy5faGlQcmlJblByb2dyZXNzID0gZmFsc2U7XG4gICAgX3RoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXggPSAwO1xuICAgIF90aGlzLl9pbmRpY2VzVG9LZXlzID0gbmV3IE1hcCgpO1xuICAgIF90aGlzLl9uZXN0ZWRDaGlsZExpc3RzID0gbmV3IE1hcCgpO1xuICAgIF90aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0ID0gMDtcbiAgICBfdGhpcy5fcHJldlBhcmVudE9mZnNldCA9IDA7XG4gICAgX3RoaXMuX3Njcm9sbE1ldHJpY3MgPSB7XG4gICAgICBjb250ZW50TGVuZ3RoOiAwLFxuICAgICAgZE9mZnNldDogMCxcbiAgICAgIGR0OiAxMCxcbiAgICAgIG9mZnNldDogMCxcbiAgICAgIHRpbWVzdGFtcDogMCxcbiAgICAgIHZlbG9jaXR5OiAwLFxuICAgICAgdmlzaWJsZUxlbmd0aDogMFxuICAgIH07XG4gICAgX3RoaXMuX3Njcm9sbFJlZiA9IG51bGw7XG4gICAgX3RoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gMDtcbiAgICBfdGhpcy5fdG90YWxDZWxsTGVuZ3RoID0gMDtcbiAgICBfdGhpcy5fdG90YWxDZWxsc01lYXN1cmVkID0gMDtcbiAgICBfdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMgPSBbXTtcblxuICAgIF90aGlzLl9jYXB0dXJlU2Nyb2xsUmVmID0gZnVuY3Rpb24gKHJlZikge1xuICAgICAgX3RoaXMuX3Njcm9sbFJlZiA9IHJlZjtcbiAgICB9O1xuXG4gICAgX3RoaXMuX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQgPSBmdW5jdGlvbiAocHJvcHMpIHtcbiAgICAgIHZhciBvblJlZnJlc2ggPSBwcm9wcy5vblJlZnJlc2g7XG5cbiAgICAgIGlmIChfdGhpcy5faXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkpIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHByb3BzKTtcbiAgICAgIH0gZWxzZSBpZiAob25SZWZyZXNoKSB7XG4gICAgICAgICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKHR5cGVvZiBwcm9wcy5yZWZyZXNoaW5nID09PSAnYm9vbGVhbicsICdgcmVmcmVzaGluZ2AgcHJvcCBtdXN0IGJlIHNldCBhcyBhIGJvb2xlYW4gaW4gb3JkZXIgdG8gdXNlIGBvblJlZnJlc2hgLCBidXQgZ290IGAnICtcbiAgICAgICAgLyogJEZsb3dGaXhNZSg+PTAuMTExLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzXG4gICAgICAgICAqIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLFxuICAgICAgICAgKiBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgSlNPTi5zdHJpbmdpZnkocHJvcHMucmVmcmVzaGluZykgKyAnYCcpO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgICAgICAvLyAkRmxvd0ZpeE1lIEludmFsaWQgcHJvcCB1c2FnZVxuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoX1Njcm9sbFZpZXcuZGVmYXVsdCwgX2V4dGVuZHMoe30sIHByb3BzLCB7XG4gICAgICAgICAgICByZWZyZXNoQ29udHJvbDogcHJvcHMucmVmcmVzaENvbnRyb2wgPT0gbnVsbCA/IC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9SZWZyZXNoQ29udHJvbC5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgIHJlZnJlc2hpbmc6IHByb3BzLnJlZnJlc2hpbmcsXG4gICAgICAgICAgICAgIG9uUmVmcmVzaDogb25SZWZyZXNoLFxuICAgICAgICAgICAgICBwcm9ncmVzc1ZpZXdPZmZzZXQ6IHByb3BzLnByb2dyZXNzVmlld09mZnNldFxuICAgICAgICAgICAgfSkgOiBwcm9wcy5yZWZyZXNoQ29udHJvbFxuICAgICAgICAgIH0pKVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gJEZsb3dGaXhNZSBJbnZhbGlkIHByb3AgdXNhZ2VcbiAgICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9TY3JvbGxWaWV3LmRlZmF1bHQsIHByb3BzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuX29uQ2VsbFVubW91bnQgPSBmdW5jdGlvbiAoY2VsbEtleSkge1xuICAgICAgdmFyIGN1cnIgPSBfdGhpcy5fZnJhbWVzW2NlbGxLZXldO1xuXG4gICAgICBpZiAoY3Vycikge1xuICAgICAgICBfdGhpcy5fZnJhbWVzW2NlbGxLZXldID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBjdXJyKSwge30sIHtcbiAgICAgICAgICBpbkxheW91dDogZmFsc2VcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9vbkxheW91dCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoX3RoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAgIC8vIE5lZWQgdG8gYWRqdXN0IG91ciBzY3JvbGwgbWV0cmljcyB0byBiZSByZWxhdGl2ZSB0byBvdXIgY29udGFpbmluZ1xuICAgICAgICAvLyBWaXJ0dWFsaXplZExpc3QgYmVmb3JlIHdlIGNhbiBtYWtlIGNsYWltcyBhYm91dCBsaXN0IGl0ZW0gdmlld2FiaWxpdHlcbiAgICAgICAgX3RoaXMubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgX3RoaXMuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCA9IF90aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5sYXlvdXQpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5wcm9wcy5vbkxheW91dCAmJiBfdGhpcy5wcm9wcy5vbkxheW91dChlKTtcblxuICAgICAgX3RoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuXG4gICAgICBfdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gICAgfTtcblxuICAgIF90aGlzLl9vbkxheW91dEVtcHR5ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLnByb3BzLm9uTGF5b3V0ICYmIF90aGlzLnByb3BzLm9uTGF5b3V0KGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fb25MYXlvdXRGb290ZXIgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuX3RyaWdnZXJSZW1lYXN1cmVGb3JDaGlsZExpc3RzSW5DZWxsKF90aGlzLl9nZXRGb290ZXJDZWxsS2V5KCkpO1xuXG4gICAgICBfdGhpcy5fZm9vdGVyTGVuZ3RoID0gX3RoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gICAgfTtcblxuICAgIF90aGlzLl9vbkxheW91dEhlYWRlciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5faGVhZGVyTGVuZ3RoID0gX3RoaXMuX3NlbGVjdExlbmd0aChlLm5hdGl2ZUV2ZW50LmxheW91dCk7XG4gICAgfTtcblxuICAgIF90aGlzLl9vbkNvbnRlbnRTaXplQ2hhbmdlID0gZnVuY3Rpb24gKHdpZHRoLCBoZWlnaHQpIHtcbiAgICAgIGlmICh3aWR0aCA+IDAgJiYgaGVpZ2h0ID4gMCAmJiBfdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggIT0gbnVsbCAmJiBfdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPiAwICYmICFfdGhpcy5faGFzRG9uZUluaXRpYWxTY3JvbGwpIHtcbiAgICAgICAgX3RoaXMuX2hhc0RvbmVJbml0aWFsU2Nyb2xsID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgaWYgKF90aGlzLnByb3BzLm9uQ29udGVudFNpemVDaGFuZ2UpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25Db250ZW50U2l6ZUNoYW5nZSh3aWR0aCwgaGVpZ2h0KTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IF90aGlzLl9zZWxlY3RMZW5ndGgoe1xuICAgICAgICBoZWlnaHQ6IGhlaWdodCxcbiAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuXG4gICAgICBfdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG4gICAgfTtcblxuICAgIF90aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyA9IGZ1bmN0aW9uIChtZXRyaWNzKSB7XG4gICAgICAvLyBPZmZzZXQgb2YgdGhlIHRvcCBvZiB0aGUgbmVzdGVkIGxpc3QgcmVsYXRpdmUgdG8gdGhlIHRvcCBvZiBpdHMgcGFyZW50J3Mgdmlld3BvcnRcbiAgICAgIHZhciBvZmZzZXQgPSBtZXRyaWNzLm9mZnNldCAtIF90aGlzLl9vZmZzZXRGcm9tUGFyZW50VmlydHVhbGl6ZWRMaXN0OyAvLyBDaGlsZCdzIHZpc2libGUgbGVuZ3RoIGlzIHRoZSBzYW1lIGFzIGl0cyBwYXJlbnQnc1xuXG4gICAgICB2YXIgdmlzaWJsZUxlbmd0aCA9IG1ldHJpY3MudmlzaWJsZUxlbmd0aDtcbiAgICAgIHZhciBkT2Zmc2V0ID0gb2Zmc2V0IC0gX3RoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuICAgICAgdmFyIGNvbnRlbnRMZW5ndGggPSBfdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdmlzaWJsZUxlbmd0aDogdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgY29udGVudExlbmd0aDogY29udGVudExlbmd0aCxcbiAgICAgICAgb2Zmc2V0OiBvZmZzZXQsXG4gICAgICAgIGRPZmZzZXQ6IGRPZmZzZXRcbiAgICAgIH07XG4gICAgfTtcblxuICAgIF90aGlzLl9vblNjcm9sbCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZExpc3QpIHtcbiAgICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vblNjcm9sbChlKTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAoX3RoaXMucHJvcHMub25TY3JvbGwpIHtcbiAgICAgICAgX3RoaXMucHJvcHMub25TY3JvbGwoZSk7XG4gICAgICB9XG5cbiAgICAgIHZhciB0aW1lc3RhbXAgPSBlLnRpbWVTdGFtcDtcblxuICAgICAgdmFyIHZpc2libGVMZW5ndGggPSBfdGhpcy5fc2VsZWN0TGVuZ3RoKGUubmF0aXZlRXZlbnQubGF5b3V0TWVhc3VyZW1lbnQpO1xuXG4gICAgICB2YXIgY29udGVudExlbmd0aCA9IF90aGlzLl9zZWxlY3RMZW5ndGgoZS5uYXRpdmVFdmVudC5jb250ZW50U2l6ZSk7XG5cbiAgICAgIHZhciBvZmZzZXQgPSBfdGhpcy5fc2VsZWN0T2Zmc2V0KGUubmF0aXZlRXZlbnQuY29udGVudE9mZnNldCk7XG5cbiAgICAgIHZhciBkT2Zmc2V0ID0gb2Zmc2V0IC0gX3RoaXMuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0O1xuXG4gICAgICBpZiAoX3RoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICAgIGlmIChfdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgLy8gSWdub3JlIHNjcm9sbCBldmVudHMgdW50aWwgb25MYXlvdXQgaGFzIGJlZW4gY2FsbGVkIGFuZCB3ZVxuICAgICAgICAgIC8vIGtub3cgb3VyIG9mZnNldCBmcm9tIG91ciBvZmZzZXQgZnJvbSBvdXIgcGFyZW50XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIF90aGlzJF9jb252ZXJ0UGFyZW50UyA9IF90aGlzLl9jb252ZXJ0UGFyZW50U2Nyb2xsTWV0cmljcyh7XG4gICAgICAgICAgdmlzaWJsZUxlbmd0aDogdmlzaWJsZUxlbmd0aCxcbiAgICAgICAgICBvZmZzZXQ6IG9mZnNldFxuICAgICAgICB9KTtcblxuICAgICAgICB2aXNpYmxlTGVuZ3RoID0gX3RoaXMkX2NvbnZlcnRQYXJlbnRTLnZpc2libGVMZW5ndGg7XG4gICAgICAgIGNvbnRlbnRMZW5ndGggPSBfdGhpcyRfY29udmVydFBhcmVudFMuY29udGVudExlbmd0aDtcbiAgICAgICAgb2Zmc2V0ID0gX3RoaXMkX2NvbnZlcnRQYXJlbnRTLm9mZnNldDtcbiAgICAgICAgZE9mZnNldCA9IF90aGlzJF9jb252ZXJ0UGFyZW50Uy5kT2Zmc2V0O1xuICAgICAgfVxuXG4gICAgICB2YXIgZHQgPSBfdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXAgPyBNYXRoLm1heCgxLCB0aW1lc3RhbXAgLSBfdGhpcy5fc2Nyb2xsTWV0cmljcy50aW1lc3RhbXApIDogMTtcbiAgICAgIHZhciB2ZWxvY2l0eSA9IGRPZmZzZXQgLyBkdDtcblxuICAgICAgaWYgKGR0ID4gNTAwICYmIF90aGlzLl9zY3JvbGxNZXRyaWNzLmR0ID4gNTAwICYmIGNvbnRlbnRMZW5ndGggPiA1ICogdmlzaWJsZUxlbmd0aCAmJiAhX3RoaXMuX2hhc1dhcm5lZC5wZXJmKSB7XG4gICAgICAgICgwLCBfaW5mb0xvZy5kZWZhdWx0KSgnVmlydHVhbGl6ZWRMaXN0OiBZb3UgaGF2ZSBhIGxhcmdlIGxpc3QgdGhhdCBpcyBzbG93IHRvIHVwZGF0ZSAtIG1ha2Ugc3VyZSB5b3VyICcgKyAncmVuZGVySXRlbSBmdW5jdGlvbiByZW5kZXJzIGNvbXBvbmVudHMgdGhhdCBmb2xsb3cgUmVhY3QgcGVyZm9ybWFuY2UgYmVzdCBwcmFjdGljZXMgJyArICdsaWtlIFB1cmVDb21wb25lbnQsIHNob3VsZENvbXBvbmVudFVwZGF0ZSwgZXRjLicsIHtcbiAgICAgICAgICBkdDogZHQsXG4gICAgICAgICAgcHJldkR0OiBfdGhpcy5fc2Nyb2xsTWV0cmljcy5kdCxcbiAgICAgICAgICBjb250ZW50TGVuZ3RoOiBjb250ZW50TGVuZ3RoXG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpcy5faGFzV2FybmVkLnBlcmYgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fc2Nyb2xsTWV0cmljcyA9IHtcbiAgICAgICAgY29udGVudExlbmd0aDogY29udGVudExlbmd0aCxcbiAgICAgICAgZHQ6IGR0LFxuICAgICAgICBkT2Zmc2V0OiBkT2Zmc2V0LFxuICAgICAgICBvZmZzZXQ6IG9mZnNldCxcbiAgICAgICAgdGltZXN0YW1wOiB0aW1lc3RhbXAsXG4gICAgICAgIHZlbG9jaXR5OiB2ZWxvY2l0eSxcbiAgICAgICAgdmlzaWJsZUxlbmd0aDogdmlzaWJsZUxlbmd0aFxuICAgICAgfTtcblxuICAgICAgX3RoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXMoX3RoaXMucHJvcHMuZGF0YSk7XG5cbiAgICAgIGlmICghX3RoaXMucHJvcHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fbWF5YmVDYWxsT25FbmRSZWFjaGVkKCk7XG5cbiAgICAgIGlmICh2ZWxvY2l0eSAhPT0gMCkge1xuICAgICAgICBfdGhpcy5fZmlsbFJhdGVIZWxwZXIuYWN0aXZhdGUoKTtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcblxuICAgICAgX3RoaXMuX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fb25TY3JvbGxCZWdpbkRyYWcgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRMaXN0KSB7XG4gICAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5fb25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuX3ZpZXdhYmlsaXR5VHVwbGVzLmZvckVhY2goZnVuY3Rpb24gKHR1cGxlKSB7XG4gICAgICAgIHR1cGxlLnZpZXdhYmlsaXR5SGVscGVyLnJlY29yZEludGVyYWN0aW9uKCk7XG4gICAgICB9KTtcblxuICAgICAgX3RoaXMuX2hhc0ludGVyYWN0ZWQgPSB0cnVlO1xuICAgICAgX3RoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcgJiYgX3RoaXMucHJvcHMub25TY3JvbGxCZWdpbkRyYWcoZSk7XG4gICAgfTtcblxuICAgIF90aGlzLl9vblNjcm9sbEVuZERyYWcgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgX3RoaXMuX25lc3RlZENoaWxkTGlzdHMuZm9yRWFjaChmdW5jdGlvbiAoY2hpbGRMaXN0KSB7XG4gICAgICAgIGNoaWxkTGlzdC5yZWYgJiYgY2hpbGRMaXN0LnJlZi5fb25TY3JvbGxFbmREcmFnKGUpO1xuICAgICAgfSk7XG5cbiAgICAgIHZhciB2ZWxvY2l0eSA9IGUubmF0aXZlRXZlbnQudmVsb2NpdHk7XG5cbiAgICAgIGlmICh2ZWxvY2l0eSkge1xuICAgICAgICBfdGhpcy5fc2Nyb2xsTWV0cmljcy52ZWxvY2l0eSA9IF90aGlzLl9zZWxlY3RPZmZzZXQodmVsb2NpdHkpO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fY29tcHV0ZUJsYW5rbmVzcygpO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vblNjcm9sbEVuZERyYWcgJiYgX3RoaXMucHJvcHMub25TY3JvbGxFbmREcmFnKGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fb25Nb21lbnR1bVNjcm9sbEJlZ2luID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIF90aGlzLl9uZXN0ZWRDaGlsZExpc3RzLmZvckVhY2goZnVuY3Rpb24gKGNoaWxkTGlzdCkge1xuICAgICAgICBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYuX29uTW9tZW50dW1TY3JvbGxCZWdpbihlKTtcbiAgICAgIH0pO1xuXG4gICAgICBfdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsQmVnaW4gJiYgX3RoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEJlZ2luKGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fb25Nb21lbnR1bVNjcm9sbEVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBfdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChjaGlsZExpc3QpIHtcbiAgICAgICAgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLl9vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICAgICAgfSk7XG5cbiAgICAgIF90aGlzLl9zY3JvbGxNZXRyaWNzLnZlbG9jaXR5ID0gMDtcblxuICAgICAgX3RoaXMuX2NvbXB1dGVCbGFua25lc3MoKTtcblxuICAgICAgX3RoaXMucHJvcHMub25Nb21lbnR1bVNjcm9sbEVuZCAmJiBfdGhpcy5wcm9wcy5vbk1vbWVudHVtU2Nyb2xsRW5kKGUpO1xuICAgIH07XG5cbiAgICBfdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczMgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRhID0gX3RoaXMkcHJvcHMzLmRhdGEsXG4gICAgICAgICAgZ2V0SXRlbUNvdW50ID0gX3RoaXMkcHJvcHMzLmdldEl0ZW1Db3VudCxcbiAgICAgICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBfdGhpcyRwcm9wczMub25FbmRSZWFjaGVkVGhyZXNob2xkO1xuXG4gICAgICB2YXIgaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkID0gX3RoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuXG4gICAgICBfdGhpcy5fdXBkYXRlVmlld2FibGVJdGVtcyhkYXRhKTtcblxuICAgICAgaWYgKCFkYXRhKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgX3RoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHZhciBuZXdTdGF0ZTtcbiAgICAgICAgdmFyIF90aGlzJF9zY3JvbGxNZXRyaWNzID0gX3RoaXMuX3Njcm9sbE1ldHJpY3MsXG4gICAgICAgICAgICBjb250ZW50TGVuZ3RoID0gX3RoaXMkX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCxcbiAgICAgICAgICAgIG9mZnNldCA9IF90aGlzJF9zY3JvbGxNZXRyaWNzLm9mZnNldCxcbiAgICAgICAgICAgIHZpc2libGVMZW5ndGggPSBfdGhpcyRfc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuXG4gICAgICAgIGlmICghaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkKSB7XG4gICAgICAgICAgLy8gSWYgd2UgcnVuIHRoaXMgd2l0aCBib2d1cyBkYXRhLCB3ZSdsbCBmb3JjZS1yZW5kZXIgd2luZG93IHtmaXJzdDogMCwgbGFzdDogMH0sXG4gICAgICAgICAgLy8gYW5kIHdpcGUgb3V0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgcmVuZGVyZWQgZWxlbWVudHMuXG4gICAgICAgICAgLy8gU28gbGV0J3Mgd2FpdCB1bnRpbCB0aGUgc2Nyb2xsIHZpZXcgbWV0cmljcyBoYXZlIGJlZW4gc2V0IHVwLiBBbmQgdW50aWwgdGhlbixcbiAgICAgICAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsTnVtVG9SZW5kZXIgc3VnZ2VzdGlvblxuICAgICAgICAgIGlmICh2aXNpYmxlTGVuZ3RoID4gMCAmJiBjb250ZW50TGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhIG5vbi16ZXJvIGluaXRpYWxTY3JvbGxJbmRleCBhbmQgcnVuIHRoaXMgYmVmb3JlIHdlJ3ZlIHNjcm9sbGVkLFxuICAgICAgICAgICAgLy8gd2UnbGwgd2lwZSBvdXQgdGhlIGluaXRpYWxOdW1Ub1JlbmRlciByZW5kZXJlZCBlbGVtZW50cyBzdGFydGluZyBhdCBpbml0aWFsU2Nyb2xsSW5kZXguXG4gICAgICAgICAgICAvLyBTbyBsZXQncyB3YWl0IHVudGlsIHdlJ3ZlIHNjcm9sbGVkIHRoZSB2aWV3IHRvIHRoZSByaWdodCBwbGFjZS4gQW5kIHVudGlsIHRoZW4sXG4gICAgICAgICAgICAvLyB3ZSB3aWxsIHRydXN0IHRoZSBpbml0aWFsU2Nyb2xsSW5kZXggc3VnZ2VzdGlvbi5cbiAgICAgICAgICAgIGlmICghX3RoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IF90aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldCkge1xuICAgICAgICAgICAgICBuZXdTdGF0ZSA9ICgwLCBfVmlydHVhbGl6ZVV0aWxzLmNvbXB1dGVXaW5kb3dlZFJlbmRlckxpbWl0cykoX3RoaXMucHJvcHMsIHN0YXRlLCBfdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94LCBfdGhpcy5fc2Nyb2xsTWV0cmljcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBkaXN0YW5jZUZyb21FbmQgPSBjb250ZW50TGVuZ3RoIC0gdmlzaWJsZUxlbmd0aCAtIG9mZnNldDtcbiAgICAgICAgICB2YXIgcmVuZGVyQWhlYWQgPVxuICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjYzLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzXG4gICAgICAgICAgICogYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjYzIHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvclxuICAgICAgICAgICAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgIGRpc3RhbmNlRnJvbUVuZCA8IG9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGggPyBfdGhpcy5wcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoIDogMDtcbiAgICAgICAgICBuZXdTdGF0ZSA9IHtcbiAgICAgICAgICAgIGZpcnN0OiAwLFxuICAgICAgICAgICAgbGFzdDogTWF0aC5taW4oc3RhdGUubGFzdCArIHJlbmRlckFoZWFkLCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxKVxuICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobmV3U3RhdGUgJiYgX3RoaXMuX25lc3RlZENoaWxkTGlzdHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICB2YXIgbmV3Rmlyc3QgPSBuZXdTdGF0ZS5maXJzdDtcbiAgICAgICAgICB2YXIgbmV3TGFzdCA9IG5ld1N0YXRlLmxhc3Q7IC8vIElmIHNvbWUgY2VsbCBpbiB0aGUgbmV3IHN0YXRlIGhhcyBhIGNoaWxkIGxpc3QgaW4gaXQsIHdlIHNob3VsZCBvbmx5IHJlbmRlclxuICAgICAgICAgIC8vIHVwIHRocm91Z2ggdGhhdCBpdGVtLCBzbyB0aGF0IHdlIGdpdmUgdGhhdCBsaXN0IGEgY2hhbmNlIHRvIHJlbmRlci5cbiAgICAgICAgICAvLyBPdGhlcndpc2UgdGhlcmUncyBjaHVybiBmcm9tIG11bHRpcGxlIGNoaWxkIGxpc3RzIG1vdW50aW5nIGFuZCB1bi1tb3VudGluZ1xuICAgICAgICAgIC8vIHRoZWlyIGl0ZW1zLlxuXG4gICAgICAgICAgZm9yICh2YXIgaWkgPSBuZXdGaXJzdDsgaWkgPD0gbmV3TGFzdDsgaWkrKykge1xuICAgICAgICAgICAgdmFyIGNlbGxLZXlGb3JJbmRleCA9IF90aGlzLl9pbmRpY2VzVG9LZXlzLmdldChpaSk7XG5cbiAgICAgICAgICAgIHZhciBjaGlsZExpc3RLZXlzID0gY2VsbEtleUZvckluZGV4ICYmIF90aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2VsbEtleUZvckluZGV4KTtcblxuICAgICAgICAgICAgaWYgKCFjaGlsZExpc3RLZXlzKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgc29tZUNoaWxkSGFzTW9yZSA9IGZhbHNlOyAvLyBGb3IgZWFjaCBjZWxsLCBuZWVkIHRvIGNoZWNrIHdoZXRoZXIgYW55IGNoaWxkIGxpc3QgaW4gaXQgaGFzIG1vcmUgZWxlbWVudHMgdG8gcmVuZGVyXG5cbiAgICAgICAgICAgIGZvciAodmFyIF9pdGVyYXRvciA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UoY2hpbGRMaXN0S2V5cyksIF9zdGVwOyAhKF9zdGVwID0gX2l0ZXJhdG9yKCkpLmRvbmU7KSB7XG4gICAgICAgICAgICAgIHZhciBjaGlsZEtleSA9IF9zdGVwLnZhbHVlO1xuXG4gICAgICAgICAgICAgIHZhciBjaGlsZExpc3QgPSBfdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRLZXkpO1xuXG4gICAgICAgICAgICAgIGlmIChjaGlsZExpc3QgJiYgY2hpbGRMaXN0LnJlZiAmJiBjaGlsZExpc3QucmVmLmhhc01vcmUoKSkge1xuICAgICAgICAgICAgICAgIHNvbWVDaGlsZEhhc01vcmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChzb21lQ2hpbGRIYXNNb3JlICYmIG5ld1N0YXRlKSB7XG4gICAgICAgICAgICAgIG5ld1N0YXRlLmxhc3QgPSBpaTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG5ld1N0YXRlICE9IG51bGwgJiYgbmV3U3RhdGUuZmlyc3QgPT09IHN0YXRlLmZpcnN0ICYmIG5ld1N0YXRlLmxhc3QgPT09IHN0YXRlLmxhc3QpIHtcbiAgICAgICAgICBuZXdTdGF0ZSA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gbmV3U3RhdGU7XG4gICAgICB9KTtcbiAgICB9O1xuXG4gICAgX3RoaXMuX2NyZWF0ZVZpZXdUb2tlbiA9IGZ1bmN0aW9uIChpbmRleCwgaXNWaWV3YWJsZSkge1xuICAgICAgdmFyIF90aGlzJHByb3BzNCA9IF90aGlzLnByb3BzLFxuICAgICAgICAgIGRhdGEgPSBfdGhpcyRwcm9wczQuZGF0YSxcbiAgICAgICAgICBnZXRJdGVtID0gX3RoaXMkcHJvcHM0LmdldEl0ZW0sXG4gICAgICAgICAga2V5RXh0cmFjdG9yID0gX3RoaXMkcHJvcHM0LmtleUV4dHJhY3RvcjtcbiAgICAgIHZhciBpdGVtID0gZ2V0SXRlbShkYXRhLCBpbmRleCk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgIGtleToga2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KSxcbiAgICAgICAgaXNWaWV3YWJsZTogaXNWaWV3YWJsZVxuICAgICAgfTtcbiAgICB9O1xuXG4gICAgX3RoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCA9IGZ1bmN0aW9uIChpbmRleCkge1xuICAgICAgdmFyIGZyYW1lID0gX3RoaXMuX2dldEZyYW1lTWV0cmljcyhpbmRleCk7XG5cbiAgICAgIGlmIChmcmFtZSAmJiBmcmFtZS5pbmRleCA9PT0gaW5kZXgpIHtcbiAgICAgICAgLy8gY2hlY2sgZm9yIGludmFsaWQgZnJhbWVzIGR1ZSB0byByb3cgcmUtb3JkZXJpbmdcbiAgICAgICAgcmV0dXJuIGZyYW1lO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGdldEl0ZW1MYXlvdXQgPSBfdGhpcy5wcm9wcy5nZXRJdGVtTGF5b3V0O1xuICAgICAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KSghZ2V0SXRlbUxheW91dCwgJ1Nob3VsZCBub3QgaGF2ZSB0byBlc3RpbWF0ZSBmcmFtZXMgd2hlbiBhIG1lYXN1cmVtZW50IG1ldHJpY3MgZnVuY3Rpb24gaXMgcHJvdmlkZWQnKTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBsZW5ndGg6IF90aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCxcbiAgICAgICAgICBvZmZzZXQ6IF90aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCAqIGluZGV4XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfTtcblxuICAgIF90aGlzLl9nZXRGcmFtZU1ldHJpY3MgPSBmdW5jdGlvbiAoaW5kZXgpIHtcbiAgICAgIHZhciBfdGhpcyRwcm9wczUgPSBfdGhpcy5wcm9wcyxcbiAgICAgICAgICBkYXRhID0gX3RoaXMkcHJvcHM1LmRhdGEsXG4gICAgICAgICAgZ2V0SXRlbSA9IF90aGlzJHByb3BzNS5nZXRJdGVtLFxuICAgICAgICAgIGdldEl0ZW1Db3VudCA9IF90aGlzJHByb3BzNS5nZXRJdGVtQ291bnQsXG4gICAgICAgICAgZ2V0SXRlbUxheW91dCA9IF90aGlzJHByb3BzNS5nZXRJdGVtTGF5b3V0LFxuICAgICAgICAgIGtleUV4dHJhY3RvciA9IF90aGlzJHByb3BzNS5rZXlFeHRyYWN0b3I7XG4gICAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShnZXRJdGVtQ291bnQoZGF0YSkgPiBpbmRleCwgJ1RyaWVkIHRvIGdldCBmcmFtZSBmb3Igb3V0IG9mIHJhbmdlIGluZGV4ICcgKyBpbmRleCk7XG4gICAgICB2YXIgaXRlbSA9IGdldEl0ZW0oZGF0YSwgaW5kZXgpO1xuXG4gICAgICB2YXIgZnJhbWUgPSBpdGVtICYmIF90aGlzLl9mcmFtZXNba2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KV07XG5cbiAgICAgIGlmICghZnJhbWUgfHwgZnJhbWUuaW5kZXggIT09IGluZGV4KSB7XG4gICAgICAgIGlmIChnZXRJdGVtTGF5b3V0KSB7XG4gICAgICAgICAgZnJhbWUgPSBnZXRJdGVtTGF5b3V0KGRhdGEsIGluZGV4KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLyogJEZsb3dGaXhNZSg+PTAuNjMuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlIHRoaXNcbiAgICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuXG5cbiAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9O1xuXG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoIC8vICRGbG93Rml4TWVcbiAgICAhX3Byb3BzLm9uU2Nyb2xsIHx8ICFfcHJvcHMub25TY3JvbGwuX19pc05hdGl2ZSwgJ0NvbXBvbmVudHMgYmFzZWQgb24gVmlydHVhbGl6ZWRMaXN0IG11c3QgYmUgd3JhcHBlZCB3aXRoIEFuaW1hdGVkLmNyZWF0ZUFuaW1hdGVkQ29tcG9uZW50ICcgKyAndG8gc3VwcG9ydCBuYXRpdmUgb25TY3JvbGwgZXZlbnRzIHdpdGggdXNlTmF0aXZlRHJpdmVyJyk7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoX3Byb3BzLndpbmRvd1NpemUgPiAwLCAnVmlydHVhbGl6ZWRMaXN0OiBUaGUgd2luZG93U2l6ZSBwcm9wIG11c3QgYmUgcHJlc2VudCBhbmQgc2V0IHRvIGEgdmFsdWUgZ3JlYXRlciB0aGFuIDAuJyk7XG4gICAgX3RoaXMuX2ZpbGxSYXRlSGVscGVyID0gbmV3IF9GaWxsUmF0ZUhlbHBlci5kZWZhdWx0KF90aGlzLl9nZXRGcmFtZU1ldHJpY3MpO1xuICAgIF90aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlciA9IG5ldyBfQmF0Y2hpbmF0b3IuZGVmYXVsdChfdGhpcy5fdXBkYXRlQ2VsbHNUb1JlbmRlciwgX3RoaXMucHJvcHMudXBkYXRlQ2VsbHNCYXRjaGluZ1BlcmlvZCk7XG5cbiAgICBpZiAoX3RoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWdDYWxsYmFja1BhaXJzKSB7XG4gICAgICBfdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMgPSBfdGhpcy5wcm9wcy52aWV3YWJpbGl0eUNvbmZpZ0NhbGxiYWNrUGFpcnMubWFwKGZ1bmN0aW9uIChwYWlyKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdmlld2FiaWxpdHlIZWxwZXI6IG5ldyBfVmlld2FiaWxpdHlIZWxwZXIuZGVmYXVsdChwYWlyLnZpZXdhYmlsaXR5Q29uZmlnKSxcbiAgICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiBwYWlyLm9uVmlld2FibGVJdGVtc0NoYW5nZWRcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoX3RoaXMucHJvcHMub25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCkge1xuICAgICAgdmFyIG9uVmlld2FibGVJdGVtc0NoYW5nZWQgPSBfdGhpcy5wcm9wcy5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkO1xuXG4gICAgICBfdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMucHVzaCh7XG4gICAgICAgIHZpZXdhYmlsaXR5SGVscGVyOiBuZXcgX1ZpZXdhYmlsaXR5SGVscGVyLmRlZmF1bHQoX3RoaXMucHJvcHMudmlld2FiaWxpdHlDb25maWcpLFxuICAgICAgICBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkOiBvblZpZXdhYmxlSXRlbXNDaGFuZ2VkXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICB2YXIgaW5pdGlhbFN0YXRlID0ge1xuICAgICAgZmlyc3Q6IF90aGlzLnByb3BzLmluaXRpYWxTY3JvbGxJbmRleCB8fCAwLFxuICAgICAgbGFzdDogTWF0aC5taW4oX3RoaXMucHJvcHMuZ2V0SXRlbUNvdW50KF90aGlzLnByb3BzLmRhdGEpLCAoX3RoaXMucHJvcHMuaW5pdGlhbFNjcm9sbEluZGV4IHx8IDApICsgX3RoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyKSAtIDFcbiAgICB9O1xuXG4gICAgaWYgKF90aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdmFyIHN0b3JlZFN0YXRlID0gX3RoaXMuY29udGV4dC5nZXROZXN0ZWRDaGlsZFN0YXRlKF90aGlzLl9nZXRMaXN0S2V5KCkpO1xuXG4gICAgICBpZiAoc3RvcmVkU3RhdGUpIHtcbiAgICAgICAgaW5pdGlhbFN0YXRlID0gc3RvcmVkU3RhdGU7XG4gICAgICAgIF90aGlzLnN0YXRlID0gc3RvcmVkU3RhdGU7XG4gICAgICAgIF90aGlzLl9mcmFtZXMgPSBzdG9yZWRTdGF0ZS5mcmFtZXM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgX3RoaXMuc3RhdGUgPSBpbml0aWFsU3RhdGU7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgX3Byb3RvLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgaWYgKHRoaXMuX2lzTmVzdGVkV2l0aFNhbWVPcmllbnRhdGlvbigpKSB7XG4gICAgICB0aGlzLmNvbnRleHQucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtcbiAgICAgICAgY2VsbEtleTogdGhpcy5fZ2V0Q2VsbEtleSgpLFxuICAgICAgICBrZXk6IHRoaXMuX2dldExpc3RLZXkoKSxcbiAgICAgICAgcmVmOiB0aGlzLFxuICAgICAgICAvLyBOT1RFOiBXaGVuIHRoZSBjaGlsZCBtb3VudHMgKGhlcmUpIGl0J3Mgbm90IG5lY2Vzc2FyaWx5IHNhZmUgdG8gcmVhZFxuICAgICAgICAvLyB0aGUgcGFyZW50J3MgcHJvcHMuIFRoaXMgaXMgd2h5IHdlIGV4cGxpY2l0bHkgcHJvcGFnYXRlIGRlYnVnSW5mb1xuICAgICAgICAvLyBcImRvd25cIiB2aWEgY29udGV4dCBhbmQgXCJ1cFwiIGFnYWluIHZpYSB0aGlzIG1ldGhvZCBjYWxsIG9uIHRoZVxuICAgICAgICAvLyBwYXJlbnQuXG4gICAgICAgIHBhcmVudERlYnVnSW5mbzogdGhpcy5jb250ZXh0LmRlYnVnSW5mb1xuICAgICAgfSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24oKSkge1xuICAgICAgdGhpcy5jb250ZXh0LnVucmVnaXN0ZXJBc05lc3RlZENoaWxkKHtcbiAgICAgICAga2V5OiB0aGlzLl9nZXRMaXN0S2V5KCksXG4gICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgZmlyc3Q6IHRoaXMuc3RhdGUuZmlyc3QsXG4gICAgICAgICAgbGFzdDogdGhpcy5zdGF0ZS5sYXN0LFxuICAgICAgICAgIGZyYW1lczogdGhpcy5fZnJhbWVzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHRoaXMuX3VwZGF0ZVZpZXdhYmxlSXRlbXMobnVsbCk7XG5cbiAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5kaXNwb3NlKHtcbiAgICAgIGFib3J0OiB0cnVlXG4gICAgfSk7XG5cbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0dXBsZSkge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIuZGlzcG9zZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuZGVhY3RpdmF0ZUFuZEZsdXNoKCk7XG4gIH07XG5cbiAgVmlydHVhbGl6ZWRMaXN0LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyA9IGZ1bmN0aW9uIGdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyhuZXdQcm9wcywgcHJldlN0YXRlKSB7XG4gICAgdmFyIGRhdGEgPSBuZXdQcm9wcy5kYXRhLFxuICAgICAgICBnZXRJdGVtQ291bnQgPSBuZXdQcm9wcy5nZXRJdGVtQ291bnQsXG4gICAgICAgIG1heFRvUmVuZGVyUGVyQmF0Y2ggPSBuZXdQcm9wcy5tYXhUb1JlbmRlclBlckJhdGNoOyAvLyBmaXJzdCBhbmQgbGFzdCBjb3VsZCBiZSBzdGFsZSAoZS5nLiBpZiBhIG5ldywgc2hvcnRlciBpdGVtcyBwcm9wcyBpcyBwYXNzZWQgaW4pLCBzbyB3ZSBtYWtlXG4gICAgLy8gc3VyZSB3ZSdyZSByZW5kZXJpbmcgYSByZWFzb25hYmxlIHJhbmdlIGhlcmUuXG5cbiAgICByZXR1cm4ge1xuICAgICAgZmlyc3Q6IE1hdGgubWF4KDAsIE1hdGgubWluKHByZXZTdGF0ZS5maXJzdCwgZ2V0SXRlbUNvdW50KGRhdGEpIC0gMSAtIG1heFRvUmVuZGVyUGVyQmF0Y2gpKSxcbiAgICAgIGxhc3Q6IE1hdGgubWF4KDAsIE1hdGgubWluKHByZXZTdGF0ZS5sYXN0LCBnZXRJdGVtQ291bnQoZGF0YSkgLSAxKSlcbiAgICB9O1xuICB9O1xuXG4gIF9wcm90by5fcHVzaENlbGxzID0gZnVuY3Rpb24gX3B1c2hDZWxscyhjZWxscywgc3RpY2t5SGVhZGVySW5kaWNlcywgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcywgZmlyc3QsIGxhc3QsIGludmVyc2lvblN0eWxlKSB7XG4gICAgdmFyIF90aGlzMiA9IHRoaXM7XG5cbiAgICB2YXIgX3RoaXMkcHJvcHM2ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50ID0gX3RoaXMkcHJvcHM2LkNlbGxSZW5kZXJlckNvbXBvbmVudCxcbiAgICAgICAgSXRlbVNlcGFyYXRvckNvbXBvbmVudCA9IF90aGlzJHByb3BzNi5JdGVtU2VwYXJhdG9yQ29tcG9uZW50LFxuICAgICAgICBkYXRhID0gX3RoaXMkcHJvcHM2LmRhdGEsXG4gICAgICAgIGdldEl0ZW0gPSBfdGhpcyRwcm9wczYuZ2V0SXRlbSxcbiAgICAgICAgZ2V0SXRlbUNvdW50ID0gX3RoaXMkcHJvcHM2LmdldEl0ZW1Db3VudCxcbiAgICAgICAgaG9yaXpvbnRhbCA9IF90aGlzJHByb3BzNi5ob3Jpem9udGFsLFxuICAgICAgICBrZXlFeHRyYWN0b3IgPSBfdGhpcyRwcm9wczYua2V5RXh0cmFjdG9yO1xuICAgIHZhciBzdGlja3lPZmZzZXQgPSB0aGlzLnByb3BzLkxpc3RIZWFkZXJDb21wb25lbnQgPyAxIDogMDtcbiAgICB2YXIgZW5kID0gZ2V0SXRlbUNvdW50KGRhdGEpIC0gMTtcbiAgICB2YXIgcHJldkNlbGxLZXk7XG4gICAgbGFzdCA9IE1hdGgubWluKGVuZCwgbGFzdCk7XG5cbiAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpaSkge1xuICAgICAgdmFyIGl0ZW0gPSBnZXRJdGVtKGRhdGEsIGlpKTtcbiAgICAgIHZhciBrZXkgPSBrZXlFeHRyYWN0b3IoaXRlbSwgaWkpO1xuXG4gICAgICBfdGhpczIuX2luZGljZXNUb0tleXMuc2V0KGlpLCBrZXkpO1xuXG4gICAgICBpZiAoc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcy5oYXMoaWkgKyBzdGlja3lPZmZzZXQpKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaChjZWxscy5sZW5ndGgpO1xuICAgICAgfVxuXG4gICAgICBjZWxscy5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChDZWxsUmVuZGVyZXIsIHtcbiAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50OiBDZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQ6IGlpIDwgZW5kID8gSXRlbVNlcGFyYXRvckNvbXBvbmVudCA6IHVuZGVmaW5lZCxcbiAgICAgICAgY2VsbEtleToga2V5LFxuICAgICAgICBmaWxsUmF0ZUhlbHBlcjogX3RoaXMyLl9maWxsUmF0ZUhlbHBlcixcbiAgICAgICAgaG9yaXpvbnRhbDogaG9yaXpvbnRhbCxcbiAgICAgICAgaW5kZXg6IGlpLFxuICAgICAgICBpbnZlcnNpb25TdHlsZTogaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgIGtleToga2V5LFxuICAgICAgICBwcmV2Q2VsbEtleTogcHJldkNlbGxLZXksXG4gICAgICAgIG9uVXBkYXRlU2VwYXJhdG9yczogX3RoaXMyLl9vblVwZGF0ZVNlcGFyYXRvcnMsXG4gICAgICAgIG9uTGF5b3V0OiBmdW5jdGlvbiBvbkxheW91dChlKSB7XG4gICAgICAgICAgcmV0dXJuIF90aGlzMi5fb25DZWxsTGF5b3V0KGUsIGtleSwgaWkpO1xuICAgICAgICB9LFxuICAgICAgICBvblVubW91bnQ6IF90aGlzMi5fb25DZWxsVW5tb3VudCxcbiAgICAgICAgcGFyZW50UHJvcHM6IF90aGlzMi5wcm9wcyxcbiAgICAgICAgcmVmOiBmdW5jdGlvbiByZWYoX3JlZikge1xuICAgICAgICAgIF90aGlzMi5fY2VsbFJlZnNba2V5XSA9IF9yZWY7XG4gICAgICAgIH1cbiAgICAgIH0pKTtcbiAgICAgIHByZXZDZWxsS2V5ID0ga2V5O1xuICAgIH07XG5cbiAgICBmb3IgKHZhciBpaSA9IGZpcnN0OyBpaSA8PSBsYXN0OyBpaSsrKSB7XG4gICAgICBfbG9vcChpaSk7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5faXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkID0gZnVuY3Rpb24gX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpIHtcbiAgICByZXR1cm4gdGhpcy5wcm9wcy5kaXNhYmxlVmlydHVhbGl6YXRpb24gfHwgZmFsc2U7XG4gIH07XG5cbiAgX3Byb3RvLl9pc05lc3RlZFdpdGhTYW1lT3JpZW50YXRpb24gPSBmdW5jdGlvbiBfaXNOZXN0ZWRXaXRoU2FtZU9yaWVudGF0aW9uKCkge1xuICAgIHZhciBuZXN0ZWRDb250ZXh0ID0gdGhpcy5jb250ZXh0O1xuICAgIHJldHVybiAhIShuZXN0ZWRDb250ZXh0ICYmICEhbmVzdGVkQ29udGV4dC5ob3Jpem9udGFsID09PSAhIXRoaXMucHJvcHMuaG9yaXpvbnRhbCk7XG4gIH07XG5cbiAgX3Byb3RvLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX3RoaXMzID0gdGhpcztcblxuICAgIGlmIChfX0RFVl9fKSB7XG4gICAgICB2YXIgZmxhdFN0eWxlcyA9IGZsYXR0ZW5TdHlsZSh0aGlzLnByb3BzLmNvbnRlbnRDb250YWluZXJTdHlsZSk7XG5cbiAgICAgIGlmIChmbGF0U3R5bGVzICE9IG51bGwgJiYgZmxhdFN0eWxlcy5mbGV4V3JhcCA9PT0gJ3dyYXAnKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignYGZsZXhXcmFwOiBgd3JhcGBgIGlzIG5vdCBzdXBwb3J0ZWQgd2l0aCB0aGUgYFZpcnR1YWxpemVkTGlzdGAgY29tcG9uZW50cy4nICsgJ0NvbnNpZGVyIHVzaW5nIGBudW1Db2x1bW5zYCB3aXRoIGBGbGF0TGlzdGAgaW5zdGVhZC4nKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgX3RoaXMkcHJvcHM3ID0gdGhpcy5wcm9wcyxcbiAgICAgICAgTGlzdEVtcHR5Q29tcG9uZW50ID0gX3RoaXMkcHJvcHM3Lkxpc3RFbXB0eUNvbXBvbmVudCxcbiAgICAgICAgTGlzdEZvb3RlckNvbXBvbmVudCA9IF90aGlzJHByb3BzNy5MaXN0Rm9vdGVyQ29tcG9uZW50LFxuICAgICAgICBMaXN0SGVhZGVyQ29tcG9uZW50ID0gX3RoaXMkcHJvcHM3Lkxpc3RIZWFkZXJDb21wb25lbnQ7XG4gICAgdmFyIF90aGlzJHByb3BzOCA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRhdGEgPSBfdGhpcyRwcm9wczguZGF0YSxcbiAgICAgICAgaG9yaXpvbnRhbCA9IF90aGlzJHByb3BzOC5ob3Jpem9udGFsO1xuXG4gICAgdmFyIGlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCA9IHRoaXMuX2lzVmlydHVhbGl6YXRpb25EaXNhYmxlZCgpO1xuXG4gICAgdmFyIGludmVyc2lvblN0eWxlID0gdGhpcy5wcm9wcy5pbnZlcnRlZCA/IHRoaXMucHJvcHMuaG9yaXpvbnRhbCA/IHN0eWxlcy5ob3Jpem9udGFsbHlJbnZlcnRlZCA6IHN0eWxlcy52ZXJ0aWNhbGx5SW52ZXJ0ZWQgOiBudWxsO1xuICAgIHZhciBjZWxscyA9IFtdO1xuICAgIHZhciBzdGlja3lJbmRpY2VzRnJvbVByb3BzID0gbmV3IFNldCh0aGlzLnByb3BzLnN0aWNreUhlYWRlckluZGljZXMpO1xuICAgIHZhciBzdGlja3lIZWFkZXJJbmRpY2VzID0gW107XG5cbiAgICBpZiAoTGlzdEhlYWRlckNvbXBvbmVudCkge1xuICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuaGFzKDApKSB7XG4gICAgICAgIHN0aWNreUhlYWRlckluZGljZXMucHVzaCgwKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGVsZW1lbnQgPSAvKiNfX1BVUkVfXyovUmVhY3QuaXNWYWxpZEVsZW1lbnQoTGlzdEhlYWRlckNvbXBvbmVudCkgPyBMaXN0SGVhZGVyQ29tcG9uZW50IDpcbiAgICAgIC8qI19fUFVSRV9fKi9cbiAgICAgIC8vICRGbG93Rml4TWVcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoTGlzdEhlYWRlckNvbXBvbmVudCwgbnVsbCk7XG4gICAgICBjZWxscy5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlydHVhbGl6ZWRMaXN0Q29udGV4dC5WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyLCB7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMuX2dldENlbGxLZXkoKSArICctaGVhZGVyJyxcbiAgICAgICAga2V5OiBcIiRoZWFkZXJcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpZXcuZGVmYXVsdCwge1xuICAgICAgICBvbkxheW91dDogdGhpcy5fb25MYXlvdXRIZWFkZXIsXG4gICAgICAgIHN0eWxlOiBfU3R5bGVTaGVldC5kZWZhdWx0LmNvbXBvc2UoaW52ZXJzaW9uU3R5bGUsIHRoaXMucHJvcHMuTGlzdEhlYWRlckNvbXBvbmVudFN0eWxlKVxuICAgICAgfSwgLy8gJEZsb3dGaXhNZSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgIGVsZW1lbnQpKSk7XG4gICAgfVxuXG4gICAgdmFyIGl0ZW1Db3VudCA9IHRoaXMucHJvcHMuZ2V0SXRlbUNvdW50KGRhdGEpO1xuXG4gICAgaWYgKGl0ZW1Db3VudCA+IDApIHtcbiAgICAgIF91c2VkSW5kZXhGb3JLZXkgPSBmYWxzZTtcbiAgICAgIF9rZXlsZXNzSXRlbUNvbXBvbmVudE5hbWUgPSAnJztcbiAgICAgIHZhciBzcGFjZXJLZXkgPSAhaG9yaXpvbnRhbCA/ICdoZWlnaHQnIDogJ3dpZHRoJztcbiAgICAgIHZhciBsYXN0SW5pdGlhbEluZGV4ID0gdGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPyAtMSA6IHRoaXMucHJvcHMuaW5pdGlhbE51bVRvUmVuZGVyIC0gMTtcbiAgICAgIHZhciBfdGhpcyRzdGF0ZSA9IHRoaXMuc3RhdGUsXG4gICAgICAgICAgZmlyc3QgPSBfdGhpcyRzdGF0ZS5maXJzdCxcbiAgICAgICAgICBsYXN0ID0gX3RoaXMkc3RhdGUubGFzdDtcblxuICAgICAgdGhpcy5fcHVzaENlbGxzKGNlbGxzLCBzdGlja3lIZWFkZXJJbmRpY2VzLCBzdGlja3lJbmRpY2VzRnJvbVByb3BzLCAwLCBsYXN0SW5pdGlhbEluZGV4LCBpbnZlcnNpb25TdHlsZSk7XG5cbiAgICAgIHZhciBmaXJzdEFmdGVySW5pdGlhbCA9IE1hdGgubWF4KGxhc3RJbml0aWFsSW5kZXggKyAxLCBmaXJzdCk7XG5cbiAgICAgIGlmICghaXNWaXJ0dWFsaXphdGlvbkRpc2FibGVkICYmIGZpcnN0ID4gbGFzdEluaXRpYWxJbmRleCArIDEpIHtcbiAgICAgICAgdmFyIGluc2VydGVkU3RpY2t5U3BhY2VyID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHN0aWNreUluZGljZXNGcm9tUHJvcHMuc2l6ZSA+IDApIHtcbiAgICAgICAgICB2YXIgc3RpY2t5T2Zmc2V0ID0gTGlzdEhlYWRlckNvbXBvbmVudCA/IDEgOiAwOyAvLyBTZWUgaWYgdGhlcmUgYXJlIGFueSBzdGlja3kgaGVhZGVycyBpbiB0aGUgdmlydHVhbGl6ZWQgc3BhY2UgdGhhdCB3ZSBuZWVkIHRvIHJlbmRlci5cblxuICAgICAgICAgIGZvciAodmFyIGlpID0gZmlyc3RBZnRlckluaXRpYWwgLSAxOyBpaSA+IGxhc3RJbml0aWFsSW5kZXg7IGlpLS0pIHtcbiAgICAgICAgICAgIGlmIChzdGlja3lJbmRpY2VzRnJvbVByb3BzLmhhcyhpaSArIHN0aWNreU9mZnNldCkpIHtcbiAgICAgICAgICAgICAgdmFyIF9yZWYyLCBfcmVmMztcblxuICAgICAgICAgICAgICB2YXIgaW5pdEJsb2NrID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGxhc3RJbml0aWFsSW5kZXgpO1xuXG4gICAgICAgICAgICAgIHZhciBzdGlja3lCbG9jayA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChpaSk7XG5cbiAgICAgICAgICAgICAgdmFyIGxlYWRTcGFjZSA9IHN0aWNreUJsb2NrLm9mZnNldCAtIGluaXRCbG9jay5vZmZzZXQgLSAodGhpcy5wcm9wcy5pbml0aWFsU2Nyb2xsSW5kZXggPyAwIDogaW5pdEJsb2NrLmxlbmd0aCk7XG4gICAgICAgICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgICAgICAgIC8qI19fUFVSRV9fKi9cblxuICAgICAgICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC4xMTEuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50XG4gICAgICAgICAgICAgICAqIHN1cHByZXNzZXMgYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjExMSB3YXMgZGVwbG95ZWQuIFRvXG4gICAgICAgICAgICAgICAqIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHtcbiAgICAgICAgICAgICAgICBrZXk6IFwiJHN0aWNreV9sZWFkXCIsXG4gICAgICAgICAgICAgICAgc3R5bGU6IChfcmVmMiA9IHt9LCBfcmVmMltzcGFjZXJLZXldID0gbGVhZFNwYWNlLCBfcmVmMilcbiAgICAgICAgICAgICAgfSkpO1xuXG4gICAgICAgICAgICAgIHRoaXMuX3B1c2hDZWxscyhjZWxscywgc3RpY2t5SGVhZGVySW5kaWNlcywgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcywgaWksIGlpLCBpbnZlcnNpb25TdHlsZSk7XG5cbiAgICAgICAgICAgICAgdmFyIHRyYWlsU3BhY2UgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldCAtIChzdGlja3lCbG9jay5vZmZzZXQgKyBzdGlja3lCbG9jay5sZW5ndGgpO1xuICAgICAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgICAgICAvKiNfX1BVUkVfXyovXG5cbiAgICAgICAgICAgICAgLyogJEZsb3dGaXhNZSg+PTAuMTExLjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudFxuICAgICAgICAgICAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUb1xuICAgICAgICAgICAgICAgKiBzZWUgdGhlIGVycm9yLCBkZWxldGUgdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgICAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCB7XG4gICAgICAgICAgICAgICAga2V5OiBcIiRzdGlja3lfdHJhaWxcIixcbiAgICAgICAgICAgICAgICBzdHlsZTogKF9yZWYzID0ge30sIF9yZWYzW3NwYWNlcktleV0gPSB0cmFpbFNwYWNlLCBfcmVmMylcbiAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICBpbnNlcnRlZFN0aWNreVNwYWNlciA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghaW5zZXJ0ZWRTdGlja3lTcGFjZXIpIHtcbiAgICAgICAgICB2YXIgX3JlZjQ7XG5cbiAgICAgICAgICB2YXIgX2luaXRCbG9jayA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0SW5pdGlhbEluZGV4KTtcblxuICAgICAgICAgIHZhciBmaXJzdFNwYWNlID0gdGhpcy5fZ2V0RnJhbWVNZXRyaWNzQXBwcm94KGZpcnN0KS5vZmZzZXQgLSAoX2luaXRCbG9jay5vZmZzZXQgKyBfaW5pdEJsb2NrLmxlbmd0aCk7XG5cbiAgICAgICAgICBjZWxscy5wdXNoKFxuICAgICAgICAgIC8qI19fUFVSRV9fKi9cblxuICAgICAgICAgIC8qICRGbG93Rml4TWUoPj0wLjExMS4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnRcbiAgICAgICAgICAgKiBzdXBwcmVzc2VzIGFuIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC4xMTEgd2FzIGRlcGxveWVkLiBUbyBzZWVcbiAgICAgICAgICAgKiB0aGUgZXJyb3IsIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpZXcuZGVmYXVsdCwge1xuICAgICAgICAgICAga2V5OiBcIiRsZWFkX3NwYWNlclwiLFxuICAgICAgICAgICAgc3R5bGU6IChfcmVmNCA9IHt9LCBfcmVmNFtzcGFjZXJLZXldID0gZmlyc3RTcGFjZSwgX3JlZjQpXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHRoaXMuX3B1c2hDZWxscyhjZWxscywgc3RpY2t5SGVhZGVySW5kaWNlcywgc3RpY2t5SW5kaWNlc0Zyb21Qcm9wcywgZmlyc3RBZnRlckluaXRpYWwsIGxhc3QsIGludmVyc2lvblN0eWxlKTtcblxuICAgICAgaWYgKCF0aGlzLl9oYXNXYXJuZWQua2V5cyAmJiBfdXNlZEluZGV4Rm9yS2V5KSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVmlydHVhbGl6ZWRMaXN0OiBtaXNzaW5nIGtleXMgZm9yIGl0ZW1zLCBtYWtlIHN1cmUgdG8gc3BlY2lmeSBhIGtleSBvciBpZCBwcm9wZXJ0eSBvbiBlYWNoICcgKyAnaXRlbSBvciBwcm92aWRlIGEgY3VzdG9tIGtleUV4dHJhY3Rvci4nLCBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lKTtcbiAgICAgICAgdGhpcy5faGFzV2FybmVkLmtleXMgPSB0cnVlO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWlzVmlydHVhbGl6YXRpb25EaXNhYmxlZCAmJiBsYXN0IDwgaXRlbUNvdW50IC0gMSkge1xuICAgICAgICB2YXIgX3JlZjU7XG5cbiAgICAgICAgdmFyIGxhc3RGcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0KTsgLy8gV2l0aG91dCBnZXRJdGVtTGF5b3V0LCB3ZSBsaW1pdCBvdXIgdGFpbCBzcGFjZXIgdG8gdGhlIF9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4IHRvXG4gICAgICAgIC8vIHByZXZlbnQgdGhlIHVzZXIgZm9yIGh5cGVyc2Nyb2xsaW5nIGludG8gdW4tbWVhc3VyZWQgYXJlYSBiZWNhdXNlIG90aGVyd2lzZSBjb250ZW50IHdpbGxcbiAgICAgICAgLy8gbGlrZWx5IGp1bXAgYXJvdW5kIGFzIGl0IHJlbmRlcnMgaW4gYWJvdmUgdGhlIHZpZXdwb3J0LlxuXG5cbiAgICAgICAgdmFyIGVuZCA9IHRoaXMucHJvcHMuZ2V0SXRlbUxheW91dCA/IGl0ZW1Db3VudCAtIDEgOiBNYXRoLm1pbihpdGVtQ291bnQgLSAxLCB0aGlzLl9oaWdoZXN0TWVhc3VyZWRGcmFtZUluZGV4KTtcblxuICAgICAgICB2YXIgZW5kRnJhbWUgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZW5kKTtcblxuICAgICAgICB2YXIgdGFpbFNwYWNlckxlbmd0aCA9IGVuZEZyYW1lLm9mZnNldCArIGVuZEZyYW1lLmxlbmd0aCAtIChsYXN0RnJhbWUub2Zmc2V0ICsgbGFzdEZyYW1lLmxlbmd0aCk7XG4gICAgICAgIGNlbGxzLnB1c2goXG4gICAgICAgIC8qI19fUFVSRV9fKi9cblxuICAgICAgICAvKiAkRmxvd0ZpeE1lKD49MC4xMTEuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXNcbiAgICAgICAgICogYW4gZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjExMSB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsXG4gICAgICAgICAqIGRlbGV0ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHtcbiAgICAgICAgICBrZXk6IFwiJHRhaWxfc3BhY2VyXCIsXG4gICAgICAgICAgc3R5bGU6IChfcmVmNSA9IHt9LCBfcmVmNVtzcGFjZXJLZXldID0gdGFpbFNwYWNlckxlbmd0aCwgX3JlZjUpXG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKExpc3RFbXB0eUNvbXBvbmVudCkge1xuICAgICAgdmFyIF9lbGVtZW50ID0gLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KExpc3RFbXB0eUNvbXBvbmVudCkgPyBMaXN0RW1wdHlDb21wb25lbnQgOlxuICAgICAgLyojX19QVVJFX18qL1xuICAgICAgLy8gJEZsb3dGaXhNZVxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0RW1wdHlDb21wb25lbnQsIG51bGwpO1xuXG4gICAgICBjZWxscy5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY2xvbmVFbGVtZW50KF9lbGVtZW50LCB7XG4gICAgICAgIGtleTogJyRlbXB0eScsXG4gICAgICAgIG9uTGF5b3V0OiBmdW5jdGlvbiBvbkxheW91dChldmVudCkge1xuICAgICAgICAgIF90aGlzMy5fb25MYXlvdXRFbXB0eShldmVudCk7XG5cbiAgICAgICAgICBpZiAoX2VsZW1lbnQucHJvcHMub25MYXlvdXQpIHtcbiAgICAgICAgICAgIF9lbGVtZW50LnByb3BzLm9uTGF5b3V0KGV2ZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHN0eWxlOiBfU3R5bGVTaGVldC5kZWZhdWx0LmNvbXBvc2UoaW52ZXJzaW9uU3R5bGUsIF9lbGVtZW50LnByb3BzLnN0eWxlKVxuICAgICAgfSkpO1xuICAgIH1cblxuICAgIGlmIChMaXN0Rm9vdGVyQ29tcG9uZW50KSB7XG4gICAgICB2YXIgX2VsZW1lbnQyID0gLyojX19QVVJFX18qL1JlYWN0LmlzVmFsaWRFbGVtZW50KExpc3RGb290ZXJDb21wb25lbnQpID8gTGlzdEZvb3RlckNvbXBvbmVudCA6XG4gICAgICAvKiNfX1BVUkVfXyovXG4gICAgICAvLyAkRmxvd0ZpeE1lXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KExpc3RGb290ZXJDb21wb25lbnQsIG51bGwpO1xuXG4gICAgICBjZWxscy5wdXNoKCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlydHVhbGl6ZWRMaXN0Q29udGV4dC5WaXJ0dWFsaXplZExpc3RDZWxsQ29udGV4dFByb3ZpZGVyLCB7XG4gICAgICAgIGNlbGxLZXk6IHRoaXMuX2dldEZvb3RlckNlbGxLZXkoKSxcbiAgICAgICAga2V5OiBcIiRmb290ZXJcIlxuICAgICAgfSwgLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpZXcuZGVmYXVsdCwge1xuICAgICAgICBvbkxheW91dDogdGhpcy5fb25MYXlvdXRGb290ZXIsXG4gICAgICAgIHN0eWxlOiBfU3R5bGVTaGVldC5kZWZhdWx0LmNvbXBvc2UoaW52ZXJzaW9uU3R5bGUsIHRoaXMucHJvcHMuTGlzdEZvb3RlckNvbXBvbmVudFN0eWxlKVxuICAgICAgfSwgLy8gJEZsb3dGaXhNZSAtIFR5cGluZyBSZWFjdE5hdGl2ZUNvbXBvbmVudCByZXZlYWxlZCBlcnJvcnNcbiAgICAgIF9lbGVtZW50MikpKTtcbiAgICB9XG5cbiAgICB2YXIgc2Nyb2xsUHJvcHMgPSBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHRoaXMucHJvcHMpLCB7fSwge1xuICAgICAgb25Db250ZW50U2l6ZUNoYW5nZTogdGhpcy5fb25Db250ZW50U2l6ZUNoYW5nZSxcbiAgICAgIG9uTGF5b3V0OiB0aGlzLl9vbkxheW91dCxcbiAgICAgIG9uU2Nyb2xsOiB0aGlzLl9vblNjcm9sbCxcbiAgICAgIG9uU2Nyb2xsQmVnaW5EcmFnOiB0aGlzLl9vblNjcm9sbEJlZ2luRHJhZyxcbiAgICAgIG9uU2Nyb2xsRW5kRHJhZzogdGhpcy5fb25TY3JvbGxFbmREcmFnLFxuICAgICAgb25Nb21lbnR1bVNjcm9sbEJlZ2luOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsQmVnaW4sXG4gICAgICBvbk1vbWVudHVtU2Nyb2xsRW5kOiB0aGlzLl9vbk1vbWVudHVtU2Nyb2xsRW5kLFxuICAgICAgc2Nyb2xsRXZlbnRUaHJvdHRsZTogdGhpcy5wcm9wcy5zY3JvbGxFdmVudFRocm90dGxlLFxuICAgICAgLy8gVE9ETzogQW5kcm9pZCBzdXBwb3J0XG4gICAgICBzdGlja3lIZWFkZXJJbmRpY2VzOiBzdGlja3lIZWFkZXJJbmRpY2VzLFxuICAgICAgc3R5bGU6IGludmVyc2lvblN0eWxlID8gW2ludmVyc2lvblN0eWxlLCB0aGlzLnByb3BzLnN0eWxlXSA6IHRoaXMucHJvcHMuc3R5bGVcbiAgICB9KTtcblxuICAgIHRoaXMuX2hhc01vcmUgPSB0aGlzLnN0YXRlLmxhc3QgPCB0aGlzLnByb3BzLmdldEl0ZW1Db3VudCh0aGlzLnByb3BzLmRhdGEpIC0gMTtcbiAgICB2YXIgaW5uZXJSZXQgPSAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlydHVhbGl6ZWRMaXN0Q29udGV4dC5WaXJ0dWFsaXplZExpc3RDb250ZXh0UHJvdmlkZXIsIHtcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIGNlbGxLZXk6IG51bGwsXG4gICAgICAgIGdldFNjcm9sbE1ldHJpY3M6IHRoaXMuX2dldFNjcm9sbE1ldHJpY3MsXG4gICAgICAgIGhvcml6b250YWw6IHRoaXMucHJvcHMuaG9yaXpvbnRhbCxcbiAgICAgICAgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZjogdGhpcy5fZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZixcbiAgICAgICAgZ2V0TmVzdGVkQ2hpbGRTdGF0ZTogdGhpcy5fZ2V0TmVzdGVkQ2hpbGRTdGF0ZSxcbiAgICAgICAgcmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl9yZWdpc3RlckFzTmVzdGVkQ2hpbGQsXG4gICAgICAgIHVucmVnaXN0ZXJBc05lc3RlZENoaWxkOiB0aGlzLl91bnJlZ2lzdGVyQXNOZXN0ZWRDaGlsZCxcbiAgICAgICAgZGVidWdJbmZvOiB0aGlzLl9nZXREZWJ1Z0luZm8oKVxuICAgICAgfVxuICAgIH0sIC8qI19fUFVSRV9fKi9SZWFjdC5jbG9uZUVsZW1lbnQoKHRoaXMucHJvcHMucmVuZGVyU2Nyb2xsQ29tcG9uZW50IHx8IHRoaXMuX2RlZmF1bHRSZW5kZXJTY3JvbGxDb21wb25lbnQpKHNjcm9sbFByb3BzKSwge1xuICAgICAgcmVmOiB0aGlzLl9jYXB0dXJlU2Nyb2xsUmVmXG4gICAgfSwgY2VsbHMpKTtcbiAgICB2YXIgcmV0ID0gaW5uZXJSZXQ7XG5cbiAgICBpZiAodGhpcy5wcm9wcy5kZWJ1Zykge1xuICAgICAgcmV0dXJuIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHtcbiAgICAgICAgc3R5bGU6IHN0eWxlcy5kZWJ1Z1xuICAgICAgfSwgcmV0LCB0aGlzLl9yZW5kZXJEZWJ1Z092ZXJsYXkoKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXQ7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5jb21wb25lbnREaWRVcGRhdGUgPSBmdW5jdGlvbiBjb21wb25lbnREaWRVcGRhdGUocHJldlByb3BzKSB7XG4gICAgdmFyIF90aGlzJHByb3BzOSA9IHRoaXMucHJvcHMsXG4gICAgICAgIGRhdGEgPSBfdGhpcyRwcm9wczkuZGF0YSxcbiAgICAgICAgZXh0cmFEYXRhID0gX3RoaXMkcHJvcHM5LmV4dHJhRGF0YTtcblxuICAgIGlmIChkYXRhICE9PSBwcmV2UHJvcHMuZGF0YSB8fCBleHRyYURhdGEgIT09IHByZXZQcm9wcy5leHRyYURhdGEpIHtcbiAgICAgIC8vIGNsZWFyIHRoZSB2aWV3YWJsZUluZGljZXMgY2FjaGUgdG8gYWxzbyB0cmlnZ2VyXG4gICAgICAvLyB0aGUgb25WaWV3YWJsZUl0ZW1zQ2hhbmdlZCBjYWxsYmFjayB3aXRoIHRoZSBuZXcgZGF0YVxuICAgICAgdGhpcy5fdmlld2FiaWxpdHlUdXBsZXMuZm9yRWFjaChmdW5jdGlvbiAodHVwbGUpIHtcbiAgICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIucmVzZXRWaWV3YWJsZUluZGljZXMoKTtcbiAgICAgIH0pO1xuICAgIH0gLy8gVGhlIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3NgIGlzIGd1YXJhbnRlZWluZyBhIGhpUHJpIGNlbGwgdXBkYXRlIHdpbGwgb25seSBoYXBwZW5cbiAgICAvLyBvbmNlIHBlciBmaWJlciB1cGRhdGUuIFRoZSBgX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZWAgd2lsbCBzZXQgaXQgdG8gdHJ1ZVxuICAgIC8vIGlmIGEgaGlQcmkgdXBkYXRlIG5lZWRzIHRvIHBlcmZvcm0uIElmIGBjb21wb25lbnREaWRVcGRhdGVgIGlzIHRyaWdnZXJlZCB3aXRoXG4gICAgLy8gYHRoaXMuX2hpUHJpSW5Qcm9ncmVzcz10cnVlYCwgbWVhbnMgaXQncyB0cmlnZ2VyZWQgYnkgdGhlIGhpUHJpIHVwZGF0ZS4gVGhlXG4gICAgLy8gYF9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGVgIHdpbGwgY2hlY2sgdGhpcyBjb25kaXRpb24gYW5kIG5vdCBwZXJmb3JtXG4gICAgLy8gYW5vdGhlciBoaVByaSB1cGRhdGUuXG5cblxuICAgIHZhciBoaVByaUluUHJvZ3Jlc3MgPSB0aGlzLl9oaVByaUluUHJvZ3Jlc3M7XG5cbiAgICB0aGlzLl9zY2hlZHVsZUNlbGxzVG9SZW5kZXJVcGRhdGUoKTsgLy8gTWFrZSBzdXJlIHNldHRpbmcgYHRoaXMuX2hpUHJpSW5Qcm9ncmVzc2AgYmFjayB0byBmYWxzZSBhZnRlciBgY29tcG9uZW50RGlkVXBkYXRlYFxuICAgIC8vIGlzIHRyaWdnZXJlZCB3aXRoIGB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSB0cnVlYFxuXG5cbiAgICBpZiAoaGlQcmlJblByb2dyZXNzKSB7XG4gICAgICB0aGlzLl9oaVByaUluUHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG4gIH07XG5cbiAgX3Byb3RvLl9jb21wdXRlQmxhbmtuZXNzID0gZnVuY3Rpb24gX2NvbXB1dGVCbGFua25lc3MoKSB7XG4gICAgdGhpcy5fZmlsbFJhdGVIZWxwZXIuY29tcHV0ZUJsYW5rbmVzcyh0aGlzLnByb3BzLCB0aGlzLnN0YXRlLCB0aGlzLl9zY3JvbGxNZXRyaWNzKTtcbiAgfTtcblxuICBfcHJvdG8uX29uQ2VsbExheW91dCA9IGZ1bmN0aW9uIF9vbkNlbGxMYXlvdXQoZSwgY2VsbEtleSwgaW5kZXgpIHtcbiAgICB2YXIgbGF5b3V0ID0gZS5uYXRpdmVFdmVudC5sYXlvdXQ7XG4gICAgdmFyIG5leHQgPSB7XG4gICAgICBvZmZzZXQ6IHRoaXMuX3NlbGVjdE9mZnNldChsYXlvdXQpLFxuICAgICAgbGVuZ3RoOiB0aGlzLl9zZWxlY3RMZW5ndGgobGF5b3V0KSxcbiAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgIGluTGF5b3V0OiB0cnVlXG4gICAgfTtcbiAgICB2YXIgY3VyciA9IHRoaXMuX2ZyYW1lc1tjZWxsS2V5XTtcblxuICAgIGlmICghY3VyciB8fCBuZXh0Lm9mZnNldCAhPT0gY3Vyci5vZmZzZXQgfHwgbmV4dC5sZW5ndGggIT09IGN1cnIubGVuZ3RoIHx8IGluZGV4ICE9PSBjdXJyLmluZGV4KSB7XG4gICAgICB0aGlzLl90b3RhbENlbGxMZW5ndGggKz0gbmV4dC5sZW5ndGggLSAoY3VyciA/IGN1cnIubGVuZ3RoIDogMCk7XG4gICAgICB0aGlzLl90b3RhbENlbGxzTWVhc3VyZWQgKz0gY3VyciA/IDAgOiAxO1xuICAgICAgdGhpcy5fYXZlcmFnZUNlbGxMZW5ndGggPSB0aGlzLl90b3RhbENlbGxMZW5ndGggLyB0aGlzLl90b3RhbENlbGxzTWVhc3VyZWQ7XG4gICAgICB0aGlzLl9mcmFtZXNbY2VsbEtleV0gPSBuZXh0O1xuICAgICAgdGhpcy5faGlnaGVzdE1lYXN1cmVkRnJhbWVJbmRleCA9IE1hdGgubWF4KHRoaXMuX2hpZ2hlc3RNZWFzdXJlZEZyYW1lSW5kZXgsIGluZGV4KTtcblxuICAgICAgdGhpcy5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX2ZyYW1lc1tjZWxsS2V5XS5pbkxheW91dCA9IHRydWU7XG4gICAgfVxuXG4gICAgdGhpcy5fdHJpZ2dlclJlbWVhc3VyZUZvckNoaWxkTGlzdHNJbkNlbGwoY2VsbEtleSk7XG5cbiAgICB0aGlzLl9jb21wdXRlQmxhbmtuZXNzKCk7XG5cbiAgICB0aGlzLl91cGRhdGVWaWV3YWJsZUl0ZW1zKHRoaXMucHJvcHMuZGF0YSk7XG4gIH07XG5cbiAgX3Byb3RvLl90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbCA9IGZ1bmN0aW9uIF90cmlnZ2VyUmVtZWFzdXJlRm9yQ2hpbGRMaXN0c0luQ2VsbChjZWxsS2V5KSB7XG4gICAgdmFyIGNoaWxkTGlzdEtleXMgPSB0aGlzLl9jZWxsS2V5c1RvQ2hpbGRMaXN0S2V5cy5nZXQoY2VsbEtleSk7XG5cbiAgICBpZiAoY2hpbGRMaXN0S2V5cykge1xuICAgICAgZm9yICh2YXIgX2l0ZXJhdG9yMiA9IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyTG9vc2UoY2hpbGRMaXN0S2V5cyksIF9zdGVwMjsgIShfc3RlcDIgPSBfaXRlcmF0b3IyKCkpLmRvbmU7KSB7XG4gICAgICAgIHZhciBjaGlsZEtleSA9IF9zdGVwMi52YWx1ZTtcblxuICAgICAgICB2YXIgY2hpbGRMaXN0ID0gdGhpcy5fbmVzdGVkQ2hpbGRMaXN0cy5nZXQoY2hpbGRLZXkpO1xuXG4gICAgICAgIGNoaWxkTGlzdCAmJiBjaGlsZExpc3QucmVmICYmIGNoaWxkTGlzdC5yZWYubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCgpO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICBfcHJvdG8ubWVhc3VyZUxheW91dFJlbGF0aXZlVG9Db250YWluaW5nTGlzdCA9IGZ1bmN0aW9uIG1lYXN1cmVMYXlvdXRSZWxhdGl2ZVRvQ29udGFpbmluZ0xpc3QoKSB7XG4gICAgdmFyIF90aGlzNCA9IHRoaXM7XG5cbiAgICAvLyBUT0RPIChUMzU1NzQ1MzgpOiBmaW5kTm9kZUhhbmRsZSBzb21ldGltZXMgY3Jhc2hlcyB3aXRoIFwiVW5hYmxlIHRvIGZpbmRcbiAgICAvLyBub2RlIG9uIGFuIHVubW91bnRlZCBjb21wb25lbnRcIiBkdXJpbmcgc2Nyb2xsaW5nXG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5fc2Nyb2xsUmVmKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gV2UgYXJlIGFzc3VtaW5nIHRoYXQgZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpXG4gICAgICAvLyBpcyBhIG5vbi1udWxsIHJlZmVyZW5jZSB0byBhIFNjcm9sbFZpZXdcblxuXG4gICAgICB0aGlzLl9zY3JvbGxSZWYubWVhc3VyZUxheW91dCh0aGlzLmNvbnRleHQuZ2V0T3V0ZXJtb3N0UGFyZW50TGlzdFJlZigpLmdldFNjcm9sbFJlZigpLCBmdW5jdGlvbiAoeCwgeSwgd2lkdGgsIGhlaWdodCkge1xuICAgICAgICBfdGhpczQuX29mZnNldEZyb21QYXJlbnRWaXJ0dWFsaXplZExpc3QgPSBfdGhpczQuX3NlbGVjdE9mZnNldCh7XG4gICAgICAgICAgeDogeCxcbiAgICAgICAgICB5OiB5XG4gICAgICAgIH0pO1xuICAgICAgICBfdGhpczQuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCA9IF90aGlzNC5fc2VsZWN0TGVuZ3RoKHtcbiAgICAgICAgICB3aWR0aDogd2lkdGgsXG4gICAgICAgICAgaGVpZ2h0OiBoZWlnaHRcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdmFyIHNjcm9sbE1ldHJpY3MgPSBfdGhpczQuX2NvbnZlcnRQYXJlbnRTY3JvbGxNZXRyaWNzKF90aGlzNC5jb250ZXh0LmdldFNjcm9sbE1ldHJpY3MoKSk7XG5cbiAgICAgICAgX3RoaXM0Ll9zY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGggPSBzY3JvbGxNZXRyaWNzLnZpc2libGVMZW5ndGg7XG4gICAgICAgIF90aGlzNC5fc2Nyb2xsTWV0cmljcy5vZmZzZXQgPSBzY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJWaXJ0dWFsaXplZExpc3Q6IEVuY291bnRlcmVkIGFuIGVycm9yIHdoaWxlIG1lYXN1cmluZyBhIGxpc3Qnc1wiICsgJyBvZmZzZXQgZnJvbSBpdHMgY29udGFpbmluZyBWaXJ0dWFsaXplZExpc3QuJyk7XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS53YXJuKCdtZWFzdXJlTGF5b3V0UmVsYXRpdmVUb0NvbnRhaW5pbmdMaXN0IHRocmV3IGFuIGVycm9yJywgZXJyb3Iuc3RhY2spO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uX2dldEZvb3RlckNlbGxLZXkgPSBmdW5jdGlvbiBfZ2V0Rm9vdGVyQ2VsbEtleSgpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0Q2VsbEtleSgpICsgJy1mb290ZXInO1xuICB9O1xuXG4gIF9wcm90by5fcmVuZGVyRGVidWdPdmVybGF5ID0gZnVuY3Rpb24gX3JlbmRlckRlYnVnT3ZlcmxheSgpIHtcbiAgICB2YXIgbm9ybWFsaXplID0gdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoIC8gKHRoaXMuX3Njcm9sbE1ldHJpY3MuY29udGVudExlbmd0aCB8fCAxKTtcbiAgICB2YXIgZnJhbWVzSW5MYXlvdXQgPSBbXTtcbiAgICB2YXIgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcblxuICAgIGZvciAodmFyIGlpID0gMDsgaWkgPCBpdGVtQ291bnQ7IGlpKyspIHtcbiAgICAgIHZhciBmcmFtZSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChpaSk7XG4gICAgICAvKiAkRmxvd0ZpeE1lKD49MC42OC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjY4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAgICogY29tbWVudCBhbmQgcnVuIEZsb3cuICovXG5cblxuICAgICAgaWYgKGZyYW1lLmluTGF5b3V0KSB7XG4gICAgICAgIGZyYW1lc0luTGF5b3V0LnB1c2goZnJhbWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciB3aW5kb3dUb3AgPSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3godGhpcy5zdGF0ZS5maXJzdCkub2Zmc2V0O1xuXG4gICAgdmFyIGZyYW1lTGFzdCA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveCh0aGlzLnN0YXRlLmxhc3QpO1xuXG4gICAgdmFyIHdpbmRvd0xlbiA9IGZyYW1lTGFzdC5vZmZzZXQgKyBmcmFtZUxhc3QubGVuZ3RoIC0gd2luZG93VG9wO1xuICAgIHZhciB2aXNUb3AgPSB0aGlzLl9zY3JvbGxNZXRyaWNzLm9mZnNldDtcbiAgICB2YXIgdmlzTGVuID0gdGhpcy5fc2Nyb2xsTWV0cmljcy52aXNpYmxlTGVuZ3RoO1xuICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCB7XG4gICAgICBzdHlsZTogW3N0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLCBzdHlsZXMuZGVidWdPdmVybGF5XVxuICAgIH0sIGZyYW1lc0luTGF5b3V0Lm1hcChmdW5jdGlvbiAoZiwgaWkpIHtcbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCB7XG4gICAgICAgIGtleTogJ2YnICsgaWksXG4gICAgICAgIHN0eWxlOiBbc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZSwge1xuICAgICAgICAgIHRvcDogZi5vZmZzZXQgKiBub3JtYWxpemUsXG4gICAgICAgICAgaGVpZ2h0OiBmLmxlbmd0aCAqIG5vcm1hbGl6ZVxuICAgICAgICB9XVxuICAgICAgfSk7XG4gICAgfSksIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KF9WaWV3LmRlZmF1bHQsIHtcbiAgICAgIHN0eWxlOiBbc3R5bGVzLmRlYnVnT3ZlcmxheUJhc2UsIHN0eWxlcy5kZWJ1Z092ZXJsYXlGcmFtZUxhc3QsIHtcbiAgICAgICAgdG9wOiB3aW5kb3dUb3AgKiBub3JtYWxpemUsXG4gICAgICAgIGhlaWdodDogd2luZG93TGVuICogbm9ybWFsaXplXG4gICAgICB9XVxuICAgIH0pLCAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChfVmlldy5kZWZhdWx0LCB7XG4gICAgICBzdHlsZTogW3N0eWxlcy5kZWJ1Z092ZXJsYXlCYXNlLCBzdHlsZXMuZGVidWdPdmVybGF5RnJhbWVWaXMsIHtcbiAgICAgICAgdG9wOiB2aXNUb3AgKiBub3JtYWxpemUsXG4gICAgICAgIGhlaWdodDogdmlzTGVuICogbm9ybWFsaXplXG4gICAgICB9XVxuICAgIH0pKTtcbiAgfTtcblxuICBfcHJvdG8uX3NlbGVjdExlbmd0aCA9IGZ1bmN0aW9uIF9zZWxlY3RMZW5ndGgobWV0cmljcykge1xuICAgIHJldHVybiAhdGhpcy5wcm9wcy5ob3Jpem9udGFsID8gbWV0cmljcy5oZWlnaHQgOiBtZXRyaWNzLndpZHRoO1xuICB9O1xuXG4gIF9wcm90by5fc2VsZWN0T2Zmc2V0ID0gZnVuY3Rpb24gX3NlbGVjdE9mZnNldChtZXRyaWNzKSB7XG4gICAgcmV0dXJuICF0aGlzLnByb3BzLmhvcml6b250YWwgPyBtZXRyaWNzLnkgOiBtZXRyaWNzLng7XG4gIH07XG5cbiAgX3Byb3RvLl9tYXliZUNhbGxPbkVuZFJlYWNoZWQgPSBmdW5jdGlvbiBfbWF5YmVDYWxsT25FbmRSZWFjaGVkKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczEwID0gdGhpcy5wcm9wcyxcbiAgICAgICAgZGF0YSA9IF90aGlzJHByb3BzMTAuZGF0YSxcbiAgICAgICAgZ2V0SXRlbUNvdW50ID0gX3RoaXMkcHJvcHMxMC5nZXRJdGVtQ291bnQsXG4gICAgICAgIG9uRW5kUmVhY2hlZCA9IF90aGlzJHByb3BzMTAub25FbmRSZWFjaGVkLFxuICAgICAgICBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPSBfdGhpcyRwcm9wczEwLm9uRW5kUmVhY2hlZFRocmVzaG9sZDtcbiAgICB2YXIgX3RoaXMkX3Njcm9sbE1ldHJpY3MyID0gdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICAgICAgY29udGVudExlbmd0aCA9IF90aGlzJF9zY3JvbGxNZXRyaWNzMi5jb250ZW50TGVuZ3RoLFxuICAgICAgICB2aXNpYmxlTGVuZ3RoID0gX3RoaXMkX3Njcm9sbE1ldHJpY3MyLnZpc2libGVMZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IF90aGlzJF9zY3JvbGxNZXRyaWNzMi5vZmZzZXQ7XG4gICAgdmFyIGRpc3RhbmNlRnJvbUVuZCA9IGNvbnRlbnRMZW5ndGggLSB2aXNpYmxlTGVuZ3RoIC0gb2Zmc2V0O1xuICAgIHZhciB0aHJlc2hvbGQgPSBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgPyBvbkVuZFJlYWNoZWRUaHJlc2hvbGQgKiB2aXNpYmxlTGVuZ3RoIDogMjtcblxuICAgIGlmIChvbkVuZFJlYWNoZWQgJiYgdGhpcy5zdGF0ZS5sYXN0ID09PSBnZXRJdGVtQ291bnQoZGF0YSkgLSAxICYmIGRpc3RhbmNlRnJvbUVuZCA8IHRocmVzaG9sZCAmJiB0aGlzLl9zY3JvbGxNZXRyaWNzLmNvbnRlbnRMZW5ndGggIT09IHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoKSB7XG4gICAgICAvLyBPbmx5IGNhbGwgb25FbmRSZWFjaGVkIG9uY2UgZm9yIGEgZ2l2ZW4gY29udGVudCBsZW5ndGhcbiAgICAgIHRoaXMuX3NlbnRFbmRGb3JDb250ZW50TGVuZ3RoID0gdGhpcy5fc2Nyb2xsTWV0cmljcy5jb250ZW50TGVuZ3RoO1xuICAgICAgb25FbmRSZWFjaGVkKHtcbiAgICAgICAgZGlzdGFuY2VGcm9tRW5kOiBkaXN0YW5jZUZyb21FbmRcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoZGlzdGFuY2VGcm9tRW5kID4gdGhyZXNob2xkKSB7XG4gICAgICAvLyBJZiB0aGUgdXNlciBzY3JvbGxzIGF3YXkgZnJvbSB0aGUgZW5kIGFuZCBiYWNrIGFnYWluIGNhdXNlXG4gICAgICAvLyBhbiBvbkVuZFJlYWNoZWQgdG8gYmUgdHJpZ2dlcmVkIGFnYWluXG4gICAgICB0aGlzLl9zZW50RW5kRm9yQ29udGVudExlbmd0aCA9IDA7XG4gICAgfVxuICB9O1xuXG4gIF9wcm90by5fc2NoZWR1bGVDZWxsc1RvUmVuZGVyVXBkYXRlID0gZnVuY3Rpb24gX3NjaGVkdWxlQ2VsbHNUb1JlbmRlclVwZGF0ZSgpIHtcbiAgICB2YXIgX3RoaXMkc3RhdGUyID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgZmlyc3QgPSBfdGhpcyRzdGF0ZTIuZmlyc3QsXG4gICAgICAgIGxhc3QgPSBfdGhpcyRzdGF0ZTIubGFzdDtcbiAgICB2YXIgX3RoaXMkX3Njcm9sbE1ldHJpY3MzID0gdGhpcy5fc2Nyb2xsTWV0cmljcyxcbiAgICAgICAgb2Zmc2V0ID0gX3RoaXMkX3Njcm9sbE1ldHJpY3MzLm9mZnNldCxcbiAgICAgICAgdmlzaWJsZUxlbmd0aCA9IF90aGlzJF9zY3JvbGxNZXRyaWNzMy52aXNpYmxlTGVuZ3RoLFxuICAgICAgICB2ZWxvY2l0eSA9IF90aGlzJF9zY3JvbGxNZXRyaWNzMy52ZWxvY2l0eTtcbiAgICB2YXIgaXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQodGhpcy5wcm9wcy5kYXRhKTtcbiAgICB2YXIgaGlQcmkgPSBmYWxzZTtcbiAgICB2YXIgc2Nyb2xsaW5nVGhyZXNob2xkID1cbiAgICAvKiAkRmxvd0ZpeE1lKD49MC42My4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAqIGVycm9yIGZvdW5kIHdoZW4gRmxvdyB2MC42MyB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IgZGVsZXRlXG4gICAgICogdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICB0aGlzLnByb3BzLm9uRW5kUmVhY2hlZFRocmVzaG9sZCAqIHZpc2libGVMZW5ndGggLyAyOyAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIHN0YXJ0IG9mIHRoZSBmaXJzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGJlZm9yZSB0aGUgZmlyc3QgcmVuZGVyZWQgaXRlbVxuXG4gICAgaWYgKGZpcnN0ID4gMCkge1xuICAgICAgdmFyIGRpc3RUb3AgPSBvZmZzZXQgLSB0aGlzLl9nZXRGcmFtZU1ldHJpY3NBcHByb3goZmlyc3QpLm9mZnNldDtcblxuICAgICAgaGlQcmkgPSBoaVByaSB8fCBkaXN0VG9wIDwgMCB8fCB2ZWxvY2l0eSA8IC0yICYmIGRpc3RUb3AgPCBzY3JvbGxpbmdUaHJlc2hvbGQ7XG4gICAgfSAvLyBNYXJrIGFzIGhpZ2ggcHJpb3JpdHkgaWYgd2UncmUgY2xvc2UgdG8gdGhlIGVuZCBvZiB0aGUgbGFzdCBpdGVtXG4gICAgLy8gQnV0IG9ubHkgaWYgdGhlcmUgYXJlIGl0ZW1zIGFmdGVyIHRoZSBsYXN0IHJlbmRlcmVkIGl0ZW1cblxuXG4gICAgaWYgKGxhc3QgPCBpdGVtQ291bnQgLSAxKSB7XG4gICAgICB2YXIgZGlzdEJvdHRvbSA9IHRoaXMuX2dldEZyYW1lTWV0cmljc0FwcHJveChsYXN0KS5vZmZzZXQgLSAob2Zmc2V0ICsgdmlzaWJsZUxlbmd0aCk7XG4gICAgICBoaVByaSA9IGhpUHJpIHx8IGRpc3RCb3R0b20gPCAwIHx8IHZlbG9jaXR5ID4gMiAmJiBkaXN0Qm90dG9tIDwgc2Nyb2xsaW5nVGhyZXNob2xkO1xuICAgIH0gLy8gT25seSB0cmlnZ2VyIGhpZ2gtcHJpb3JpdHkgdXBkYXRlcyBpZiB3ZSd2ZSBhY3R1YWxseSByZW5kZXJlZCBjZWxscyxcbiAgICAvLyBhbmQgd2l0aCB0aGF0IHNpemUgZXN0aW1hdGUsIGFjY3VyYXRlbHkgY29tcHV0ZSBob3cgbWFueSBjZWxscyB3ZSBzaG91bGQgcmVuZGVyLlxuICAgIC8vIE90aGVyd2lzZSwgaXQgd291bGQganVzdCByZW5kZXIgYXMgbWFueSBjZWxscyBhcyBpdCBjYW4gKG9mIHplcm8gZGltZW5zaW9uKSxcbiAgICAvLyBlYWNoIHRpbWUgdGhyb3VnaCBhdHRlbXB0aW5nIHRvIHJlbmRlciBtb3JlIChsaW1pdGVkIGJ5IG1heFRvUmVuZGVyUGVyQmF0Y2gpLFxuICAgIC8vIHN0YXJ2aW5nIHRoZSByZW5kZXJlciBmcm9tIGFjdHVhbGx5IGxheWluZyBvdXQgdGhlIG9iamVjdHMgYW5kIGNvbXB1dGluZyBfYXZlcmFnZUNlbGxMZW5ndGguXG4gICAgLy8gSWYgdGhpcyBpcyB0cmlnZ2VyZWQgaW4gYW4gYGNvbXBvbmVudERpZFVwZGF0ZWAgZm9sbG93ZWQgYnkgYSBoaVByaSBjZWxsVG9SZW5kZXJVcGRhdGVcbiAgICAvLyBXZSBzaG91bGRuJ3QgZG8gYW5vdGhlciBoaXByaSBjZWxsVG9SZW5kZXJVcGRhdGVcblxuXG4gICAgaWYgKGhpUHJpICYmICh0aGlzLl9hdmVyYWdlQ2VsbExlbmd0aCB8fCB0aGlzLnByb3BzLmdldEl0ZW1MYXlvdXQpICYmICF0aGlzLl9oaVByaUluUHJvZ3Jlc3MpIHtcbiAgICAgIHRoaXMuX2hpUHJpSW5Qcm9ncmVzcyA9IHRydWU7IC8vIERvbid0IHdvcnJ5IGFib3V0IGludGVyYWN0aW9ucyB3aGVuIHNjcm9sbGluZyBxdWlja2x5OyBmb2N1cyBvbiBmaWxsaW5nIGNvbnRlbnQgYXMgZmFzdFxuICAgICAgLy8gYXMgcG9zc2libGUuXG5cbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXJCYXRjaGVyLmRpc3Bvc2Uoe1xuICAgICAgICBhYm9ydDogdHJ1ZVxuICAgICAgfSk7XG5cbiAgICAgIHRoaXMuX3VwZGF0ZUNlbGxzVG9SZW5kZXIoKTtcblxuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl91cGRhdGVDZWxsc1RvUmVuZGVyQmF0Y2hlci5zY2hlZHVsZSgpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uX3VwZGF0ZVZpZXdhYmxlSXRlbXMgPSBmdW5jdGlvbiBfdXBkYXRlVmlld2FibGVJdGVtcyhkYXRhKSB7XG4gICAgdmFyIF90aGlzNSA9IHRoaXM7XG5cbiAgICB2YXIgZ2V0SXRlbUNvdW50ID0gdGhpcy5wcm9wcy5nZXRJdGVtQ291bnQ7XG5cbiAgICB0aGlzLl92aWV3YWJpbGl0eVR1cGxlcy5mb3JFYWNoKGZ1bmN0aW9uICh0dXBsZSkge1xuICAgICAgdHVwbGUudmlld2FiaWxpdHlIZWxwZXIub25VcGRhdGUoZ2V0SXRlbUNvdW50KGRhdGEpLCBfdGhpczUuX3Njcm9sbE1ldHJpY3Mub2Zmc2V0LCBfdGhpczUuX3Njcm9sbE1ldHJpY3MudmlzaWJsZUxlbmd0aCwgX3RoaXM1Ll9nZXRGcmFtZU1ldHJpY3MsIF90aGlzNS5fY3JlYXRlVmlld1Rva2VuLCB0dXBsZS5vblZpZXdhYmxlSXRlbXNDaGFuZ2VkLCBfdGhpczUuc3RhdGUpO1xuICAgIH0pO1xuICB9O1xuXG4gIHJldHVybiBWaXJ0dWFsaXplZExpc3Q7XG59KFJlYWN0LlB1cmVDb21wb25lbnQpO1xuXG5WaXJ0dWFsaXplZExpc3QuY29udGV4dFR5cGUgPSBfVmlydHVhbGl6ZWRMaXN0Q29udGV4dC5WaXJ0dWFsaXplZExpc3RDb250ZXh0O1xuVmlydHVhbGl6ZWRMaXN0LmRlZmF1bHRQcm9wcyA9IHtcbiAgZGlzYWJsZVZpcnR1YWxpemF0aW9uOiBmYWxzZSxcbiAgaG9yaXpvbnRhbDogZmFsc2UsXG4gIGluaXRpYWxOdW1Ub1JlbmRlcjogMTAsXG4gIGtleUV4dHJhY3RvcjogZnVuY3Rpb24ga2V5RXh0cmFjdG9yKGl0ZW0sIGluZGV4KSB7XG4gICAgaWYgKGl0ZW0ua2V5ICE9IG51bGwpIHtcbiAgICAgIHJldHVybiBpdGVtLmtleTtcbiAgICB9XG5cbiAgICBpZiAoaXRlbS5pZCAhPSBudWxsKSB7XG4gICAgICByZXR1cm4gaXRlbS5pZDtcbiAgICB9XG5cbiAgICBfdXNlZEluZGV4Rm9yS2V5ID0gdHJ1ZTtcblxuICAgIGlmIChpdGVtLnR5cGUgJiYgaXRlbS50eXBlLmRpc3BsYXlOYW1lKSB7XG4gICAgICBfa2V5bGVzc0l0ZW1Db21wb25lbnROYW1lID0gaXRlbS50eXBlLmRpc3BsYXlOYW1lO1xuICAgIH1cblxuICAgIHJldHVybiBTdHJpbmcoaW5kZXgpO1xuICB9LFxuICBtYXhUb1JlbmRlclBlckJhdGNoOiAxMCxcbiAgb25FbmRSZWFjaGVkVGhyZXNob2xkOiAyLFxuICAvLyBtdWx0aXBsZXMgb2YgbGVuZ3RoXG4gIHNjcm9sbEV2ZW50VGhyb3R0bGU6IDUwLFxuICB1cGRhdGVDZWxsc0JhdGNoaW5nUGVyaW9kOiA1MCxcbiAgd2luZG93U2l6ZTogMjEgLy8gbXVsdGlwbGVzIG9mIGxlbmd0aFxuXG59O1xuXG52YXIgQ2VsbFJlbmRlcmVyID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0c0xvb3NlKENlbGxSZW5kZXJlciwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gQ2VsbFJlbmRlcmVyKCkge1xuICAgIHZhciBfdGhpczY7XG5cbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgYXJncyA9IG5ldyBBcnJheShfbGVuKSwgX2tleSA9IDA7IF9rZXkgPCBfbGVuOyBfa2V5KyspIHtcbiAgICAgIGFyZ3NbX2tleV0gPSBhcmd1bWVudHNbX2tleV07XG4gICAgfVxuXG4gICAgX3RoaXM2ID0gX1JlYWN0JENvbXBvbmVudC5jYWxsLmFwcGx5KF9SZWFjdCRDb21wb25lbnQsIFt0aGlzXS5jb25jYXQoYXJncykpIHx8IHRoaXM7XG4gICAgX3RoaXM2LnN0YXRlID0ge1xuICAgICAgc2VwYXJhdG9yUHJvcHM6IHtcbiAgICAgICAgaGlnaGxpZ2h0ZWQ6IGZhbHNlLFxuICAgICAgICBsZWFkaW5nSXRlbTogX3RoaXM2LnByb3BzLml0ZW1cbiAgICAgIH1cbiAgICB9O1xuICAgIF90aGlzNi5fc2VwYXJhdG9ycyA9IHtcbiAgICAgIGhpZ2hsaWdodDogZnVuY3Rpb24gaGlnaGxpZ2h0KCkge1xuICAgICAgICB2YXIgX3RoaXM2JHByb3BzID0gX3RoaXM2LnByb3BzLFxuICAgICAgICAgICAgY2VsbEtleSA9IF90aGlzNiRwcm9wcy5jZWxsS2V5LFxuICAgICAgICAgICAgcHJldkNlbGxLZXkgPSBfdGhpczYkcHJvcHMucHJldkNlbGxLZXk7XG5cbiAgICAgICAgX3RoaXM2LnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhbY2VsbEtleSwgcHJldkNlbGxLZXldLCB7XG4gICAgICAgICAgaGlnaGxpZ2h0ZWQ6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9LFxuICAgICAgdW5oaWdobGlnaHQ6IGZ1bmN0aW9uIHVuaGlnaGxpZ2h0KCkge1xuICAgICAgICB2YXIgX3RoaXM2JHByb3BzMiA9IF90aGlzNi5wcm9wcyxcbiAgICAgICAgICAgIGNlbGxLZXkgPSBfdGhpczYkcHJvcHMyLmNlbGxLZXksXG4gICAgICAgICAgICBwcmV2Q2VsbEtleSA9IF90aGlzNiRwcm9wczIucHJldkNlbGxLZXk7XG5cbiAgICAgICAgX3RoaXM2LnByb3BzLm9uVXBkYXRlU2VwYXJhdG9ycyhbY2VsbEtleSwgcHJldkNlbGxLZXldLCB7XG4gICAgICAgICAgaGlnaGxpZ2h0ZWQ6IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgfSxcbiAgICAgIHVwZGF0ZVByb3BzOiBmdW5jdGlvbiB1cGRhdGVQcm9wcyhzZWxlY3QsIG5ld1Byb3BzKSB7XG4gICAgICAgIHZhciBfdGhpczYkcHJvcHMzID0gX3RoaXM2LnByb3BzLFxuICAgICAgICAgICAgY2VsbEtleSA9IF90aGlzNiRwcm9wczMuY2VsbEtleSxcbiAgICAgICAgICAgIHByZXZDZWxsS2V5ID0gX3RoaXM2JHByb3BzMy5wcmV2Q2VsbEtleTtcblxuICAgICAgICBfdGhpczYucHJvcHMub25VcGRhdGVTZXBhcmF0b3JzKFtzZWxlY3QgPT09ICdsZWFkaW5nJyA/IHByZXZDZWxsS2V5IDogY2VsbEtleV0sIG5ld1Byb3BzKTtcbiAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBfdGhpczY7XG4gIH1cblxuICBDZWxsUmVuZGVyZXIuZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzID0gZnVuY3Rpb24gZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKHByb3BzLCBwcmV2U3RhdGUpIHtcbiAgICByZXR1cm4ge1xuICAgICAgc2VwYXJhdG9yUHJvcHM6IF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcHJldlN0YXRlLnNlcGFyYXRvclByb3BzKSwge30sIHtcbiAgICAgICAgbGVhZGluZ0l0ZW06IHByb3BzLml0ZW1cbiAgICAgIH0pXG4gICAgfTtcbiAgfSAvLyBUT0RPOiBjb25zaWRlciBmYWN0b3Jpbmcgc2VwYXJhdG9yIHN0dWZmIG91dCBvZiBWaXJ0dWFsaXplZExpc3QgaW50byBGbGF0TGlzdCBzaW5jZSBpdCdzIG5vdFxuICAvLyByZXVzZWQgYnkgU2VjdGlvbkxpc3QgYW5kIHdlIGNhbiBrZWVwIFZpcnR1YWxpemVkTGlzdCBzaW1wbGVyLlxuICA7XG5cbiAgdmFyIF9wcm90bzIgPSBDZWxsUmVuZGVyZXIucHJvdG90eXBlO1xuXG4gIF9wcm90bzIudXBkYXRlU2VwYXJhdG9yUHJvcHMgPSBmdW5jdGlvbiB1cGRhdGVTZXBhcmF0b3JQcm9wcyhuZXdQcm9wcykge1xuICAgIHRoaXMuc2V0U3RhdGUoZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZXBhcmF0b3JQcm9wczogX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBzdGF0ZS5zZXBhcmF0b3JQcm9wcyksIG5ld1Byb3BzKVxuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICBfcHJvdG8yLmNvbXBvbmVudFdpbGxVbm1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50V2lsbFVubW91bnQoKSB7XG4gICAgdGhpcy5wcm9wcy5vblVubW91bnQodGhpcy5wcm9wcy5jZWxsS2V5KTtcbiAgfTtcblxuICBfcHJvdG8yLl9yZW5kZXJFbGVtZW50ID0gZnVuY3Rpb24gX3JlbmRlckVsZW1lbnQocmVuZGVySXRlbSwgTGlzdEl0ZW1Db21wb25lbnQsIGl0ZW0sIGluZGV4KSB7XG4gICAgaWYgKHJlbmRlckl0ZW0gJiYgTGlzdEl0ZW1Db21wb25lbnQpIHtcbiAgICAgIGNvbnNvbGUud2FybignVmlydHVhbGl6ZWRMaXN0OiBCb3RoIExpc3RJdGVtQ29tcG9uZW50IGFuZCByZW5kZXJJdGVtIHByb3BzIGFyZSBwcmVzZW50LiBMaXN0SXRlbUNvbXBvbmVudCB3aWxsIHRha2UnICsgJyBwcmVjZWRlbmNlIG92ZXIgcmVuZGVySXRlbS4nKTtcbiAgICB9XG5cbiAgICBpZiAoTGlzdEl0ZW1Db21wb25lbnQpIHtcbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjEwOC4wIHNpdGU9cmVhY3RfbmF0aXZlX2ZiKSBUaGlzIGNvbW1lbnQgc3VwcHJlc3NlcyBhblxuICAgICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjEwOCB3YXMgZGVwbG95ZWQuIFRvIHNlZSB0aGUgZXJyb3IsIGRlbGV0ZVxuICAgICAgICogdGhpcyBjb21tZW50IGFuZCBydW4gRmxvdy4gKi9cbiAgICAgIHJldHVybiAvKiNfX1BVUkVfXyovUmVhY3QuY3JlYXRlRWxlbWVudChMaXN0SXRlbUNvbXBvbmVudCwge1xuICAgICAgICBpdGVtOiBpdGVtLFxuICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgIHNlcGFyYXRvcnM6IHRoaXMuX3NlcGFyYXRvcnNcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChyZW5kZXJJdGVtKSB7XG4gICAgICByZXR1cm4gcmVuZGVySXRlbSh7XG4gICAgICAgIGl0ZW06IGl0ZW0sXG4gICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgc2VwYXJhdG9yczogdGhpcy5fc2VwYXJhdG9yc1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkoZmFsc2UsICdWaXJ0dWFsaXplZExpc3Q6IEVpdGhlciBMaXN0SXRlbUNvbXBvbmVudCBvciByZW5kZXJJdGVtIHByb3BzIGFyZSByZXF1aXJlZCBidXQgbm9uZSB3ZXJlIGZvdW5kLicpO1xuICB9O1xuXG4gIF9wcm90bzIucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfdGhpcyRwcm9wczExID0gdGhpcy5wcm9wcyxcbiAgICAgICAgQ2VsbFJlbmRlcmVyQ29tcG9uZW50ID0gX3RoaXMkcHJvcHMxMS5DZWxsUmVuZGVyZXJDb21wb25lbnQsXG4gICAgICAgIEl0ZW1TZXBhcmF0b3JDb21wb25lbnQgPSBfdGhpcyRwcm9wczExLkl0ZW1TZXBhcmF0b3JDb21wb25lbnQsXG4gICAgICAgIGZpbGxSYXRlSGVscGVyID0gX3RoaXMkcHJvcHMxMS5maWxsUmF0ZUhlbHBlcixcbiAgICAgICAgaG9yaXpvbnRhbCA9IF90aGlzJHByb3BzMTEuaG9yaXpvbnRhbCxcbiAgICAgICAgaXRlbSA9IF90aGlzJHByb3BzMTEuaXRlbSxcbiAgICAgICAgaW5kZXggPSBfdGhpcyRwcm9wczExLmluZGV4LFxuICAgICAgICBpbnZlcnNpb25TdHlsZSA9IF90aGlzJHByb3BzMTEuaW52ZXJzaW9uU3R5bGUsXG4gICAgICAgIHBhcmVudFByb3BzID0gX3RoaXMkcHJvcHMxMS5wYXJlbnRQcm9wcztcbiAgICB2YXIgcmVuZGVySXRlbSA9IHBhcmVudFByb3BzLnJlbmRlckl0ZW0sXG4gICAgICAgIGdldEl0ZW1MYXlvdXQgPSBwYXJlbnRQcm9wcy5nZXRJdGVtTGF5b3V0LFxuICAgICAgICBMaXN0SXRlbUNvbXBvbmVudCA9IHBhcmVudFByb3BzLkxpc3RJdGVtQ29tcG9uZW50O1xuXG4gICAgdmFyIGVsZW1lbnQgPSB0aGlzLl9yZW5kZXJFbGVtZW50KHJlbmRlckl0ZW0sIExpc3RJdGVtQ29tcG9uZW50LCBpdGVtLCBpbmRleCk7XG5cbiAgICB2YXIgb25MYXlvdXQgPVxuICAgIC8qICRGbG93Rml4TWUoPj0wLjY4LjAgc2l0ZT1yZWFjdF9uYXRpdmVfZmIpIFRoaXMgY29tbWVudCBzdXBwcmVzc2VzIGFuXG4gICAgICogZXJyb3IgZm91bmQgd2hlbiBGbG93IHYwLjY4IHdhcyBkZXBsb3llZC4gVG8gc2VlIHRoZSBlcnJvciBkZWxldGUgdGhpc1xuICAgICAqIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIGdldEl0ZW1MYXlvdXQgJiYgIXBhcmVudFByb3BzLmRlYnVnICYmICFmaWxsUmF0ZUhlbHBlci5lbmFibGVkKCkgPyB1bmRlZmluZWQgOiB0aGlzLnByb3BzLm9uTGF5b3V0OyAvLyBOT1RFOiB0aGF0IHdoZW4gdGhpcyBpcyBhIHN0aWNreSBoZWFkZXIsIGBvbkxheW91dGAgd2lsbCBnZXQgYXV0b21hdGljYWxseSBleHRyYWN0ZWQgYW5kXG4gICAgLy8gY2FsbGVkIGV4cGxpY2l0bHkgYnkgYFNjcm9sbFZpZXdTdGlja3lIZWFkZXJgLlxuXG4gICAgdmFyIGl0ZW1TZXBhcmF0b3IgPSBJdGVtU2VwYXJhdG9yQ29tcG9uZW50ICYmIC8qI19fUFVSRV9fKi9SZWFjdC5jcmVhdGVFbGVtZW50KEl0ZW1TZXBhcmF0b3JDb21wb25lbnQsIHRoaXMuc3RhdGUuc2VwYXJhdG9yUHJvcHMpO1xuICAgIHZhciBjZWxsU3R5bGUgPSBpbnZlcnNpb25TdHlsZSA/IGhvcml6b250YWwgPyBbc3R5bGVzLnJvd1JldmVyc2UsIGludmVyc2lvblN0eWxlXSA6IFtzdHlsZXMuY29sdW1uUmV2ZXJzZSwgaW52ZXJzaW9uU3R5bGVdIDogaG9yaXpvbnRhbCA/IFtzdHlsZXMucm93LCBpbnZlcnNpb25TdHlsZV0gOiBpbnZlcnNpb25TdHlsZTtcbiAgICB2YXIgcmVzdWx0ID0gIUNlbGxSZW5kZXJlckNvbXBvbmVudCA/XG4gICAgLyojX19QVVJFX18qL1xuXG4gICAgLyogJEZsb3dGaXhNZSg+PTAuODkuMCBzaXRlPXJlYWN0X25hdGl2ZV9mYikgVGhpcyBjb21tZW50IHN1cHByZXNzZXMgYW5cbiAgICAgKiBlcnJvciBmb3VuZCB3aGVuIEZsb3cgdjAuODkgd2FzIGRlcGxveWVkLiBUbyBzZWUgdGhlIGVycm9yLCBkZWxldGVcbiAgICAgKiB0aGlzIGNvbW1lbnQgYW5kIHJ1biBGbG93LiAqL1xuICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpZXcuZGVmYXVsdCwge1xuICAgICAgc3R5bGU6IGNlbGxTdHlsZSxcbiAgICAgIG9uTGF5b3V0OiBvbkxheW91dFxuICAgIH0sIGVsZW1lbnQsIGl0ZW1TZXBhcmF0b3IpIDogLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoQ2VsbFJlbmRlcmVyQ29tcG9uZW50LCBfZXh0ZW5kcyh7fSwgdGhpcy5wcm9wcywge1xuICAgICAgc3R5bGU6IGNlbGxTdHlsZSxcbiAgICAgIG9uTGF5b3V0OiBvbkxheW91dFxuICAgIH0pLCBlbGVtZW50LCBpdGVtU2VwYXJhdG9yKTtcbiAgICByZXR1cm4gLyojX19QVVJFX18qL1JlYWN0LmNyZWF0ZUVsZW1lbnQoX1ZpcnR1YWxpemVkTGlzdENvbnRleHQuVmlydHVhbGl6ZWRMaXN0Q2VsbENvbnRleHRQcm92aWRlciwge1xuICAgICAgY2VsbEtleTogdGhpcy5wcm9wcy5jZWxsS2V5XG4gICAgfSwgcmVzdWx0KTtcbiAgfTtcblxuICByZXR1cm4gQ2VsbFJlbmRlcmVyO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5mdW5jdGlvbiBkZXNjcmliZU5lc3RlZExpc3RzKGNoaWxkTGlzdCkge1xuICB2YXIgdHJhY2UgPSAnVmlydHVhbGl6ZWRMaXN0IHRyYWNlOlxcbicgKyAoXCIgIENoaWxkIChcIiArIChjaGlsZExpc3QuaG9yaXpvbnRhbCA/ICdob3Jpem9udGFsJyA6ICd2ZXJ0aWNhbCcpICsgXCIpOlxcblwiKSArIChcIiAgICBsaXN0S2V5OiBcIiArIGNoaWxkTGlzdC5rZXkgKyBcIlxcblwiKSArIChcIiAgICBjZWxsS2V5OiBcIiArIGNoaWxkTGlzdC5jZWxsS2V5KTtcbiAgdmFyIGRlYnVnSW5mbyA9IGNoaWxkTGlzdC5wYXJlbnREZWJ1Z0luZm87XG5cbiAgd2hpbGUgKGRlYnVnSW5mbykge1xuICAgIHRyYWNlICs9IFwiXFxuICBQYXJlbnQgKFwiICsgKGRlYnVnSW5mby5ob3Jpem9udGFsID8gJ2hvcml6b250YWwnIDogJ3ZlcnRpY2FsJykgKyBcIik6XFxuXCIgKyAoXCIgICAgbGlzdEtleTogXCIgKyBkZWJ1Z0luZm8ubGlzdEtleSArIFwiXFxuXCIpICsgKFwiICAgIGNlbGxLZXk6IFwiICsgZGVidWdJbmZvLmNlbGxLZXkpO1xuICAgIGRlYnVnSW5mbyA9IGRlYnVnSW5mby5wYXJlbnQ7XG4gIH1cblxuICByZXR1cm4gdHJhY2U7XG59XG5cbnZhciBzdHlsZXMgPSBfU3R5bGVTaGVldC5kZWZhdWx0LmNyZWF0ZSh7XG4gIHZlcnRpY2FsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tcbiAgICAgIHNjYWxlWTogLTFcbiAgICB9XVxuICB9LFxuICBob3Jpem9udGFsbHlJbnZlcnRlZDoge1xuICAgIHRyYW5zZm9ybTogW3tcbiAgICAgIHNjYWxlWDogLTFcbiAgICB9XVxuICB9LFxuICByb3c6IHtcbiAgICBmbGV4RGlyZWN0aW9uOiAncm93J1xuICB9LFxuICByb3dSZXZlcnNlOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ3Jvdy1yZXZlcnNlJ1xuICB9LFxuICBjb2x1bW5SZXZlcnNlOiB7XG4gICAgZmxleERpcmVjdGlvbjogJ2NvbHVtbi1yZXZlcnNlJ1xuICB9LFxuICBkZWJ1Zzoge1xuICAgIGZsZXg6IDFcbiAgfSxcbiAgZGVidWdPdmVybGF5QmFzZToge1xuICAgIHBvc2l0aW9uOiAnYWJzb2x1dGUnLFxuICAgIHRvcDogMCxcbiAgICByaWdodDogMFxuICB9LFxuICBkZWJ1Z092ZXJsYXk6IHtcbiAgICBib3R0b206IDAsXG4gICAgd2lkdGg6IDIwLFxuICAgIGJvcmRlckNvbG9yOiAnYmx1ZScsXG4gICAgYm9yZGVyV2lkdGg6IDFcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWU6IHtcbiAgICBsZWZ0OiAwLFxuICAgIGJhY2tncm91bmRDb2xvcjogJ29yYW5nZSdcbiAgfSxcbiAgZGVidWdPdmVybGF5RnJhbWVMYXN0OiB7XG4gICAgbGVmdDogMCxcbiAgICBib3JkZXJDb2xvcjogJ2dyZWVuJyxcbiAgICBib3JkZXJXaWR0aDogMlxuICB9LFxuICBkZWJ1Z092ZXJsYXlGcmFtZVZpczoge1xuICAgIGxlZnQ6IDAsXG4gICAgYm9yZGVyQ29sb3I6ICdyZWQnLFxuICAgIGJvcmRlcldpZHRoOiAyXG4gIH1cbn0pO1xuXG52YXIgX2RlZmF1bHQgPSBWaXJ0dWFsaXplZExpc3Q7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWkEsT0FBTyxDQUFDQyxVQUFVLEdBQUcsSUFBSTtBQUN6QkQsT0FBTyxDQUFDRSxPQUFPLEdBQUcsS0FBSyxDQUFDO0FBRXhCLElBQUlDLFlBQVksR0FBR0Msc0JBQXNCLENBQUNDLE9BQU8saUJBQWlCLENBQUMsQ0FBQztBQUVwRSxJQUFJQyxlQUFlLEdBQUdGLHNCQUFzQixDQUFDQyxPQUFPLG9CQUFvQixDQUFDLENBQUM7QUFFMUUsSUFBSUUsVUFBVSxHQUFHSCxzQkFBc0IsQ0FBQ0MsT0FBTyxDQUFDLFlBQVksQ0FBQyxDQUFDO0FBRTlELElBQUlHLEtBQUssR0FBR0MsdUJBQXVCLENBQUNKLE9BQU8sQ0FBQyxPQUFPLENBQUMsQ0FBQztBQUVyRCxJQUFJSyxlQUFlLEdBQUdOLHNCQUFzQixDQUFDQyxPQUFPLGtDQUFrQyxDQUFDLENBQUM7QUFFeEYsSUFBSU0sV0FBVyxHQUFHUCxzQkFBc0IsQ0FBQ0MsT0FBTyw4QkFBOEIsQ0FBQyxDQUFDO0FBRWhGLElBQUlPLFdBQVcsR0FBR1Isc0JBQXNCLENBQUNDLE9B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