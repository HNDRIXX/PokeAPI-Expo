20463222b071c1b936bf32578d718ac0
"use strict";

exports.__esModule = true;
exports.default = void 0;
var _ExecutionEnvironment = require("fbjs/lib/ExecutionEnvironment");
var _invariant = _interopRequireDefault(require("fbjs/lib/invariant"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
var initialURL = _ExecutionEnvironment.canUseDOM ? window.location.href : '';
var Linking = function () {
  function Linking() {
    var _this = this;
    this._eventCallbacks = {};
    this.addEventListener = function (event, callback) {
      if (!_this._eventCallbacks[event]) {
        _this._eventCallbacks[event] = [callback];
        return;
      }
      _this._eventCallbacks[event].push(callback);
    };
    this.removeEventListener = function (event, callback) {
      var callbacks = _this._eventCallbacks[event];
      var filteredCallbacks = callbacks.filter(function (c) {
        return c.toString() !== callback.toString();
      });
      _this._eventCallbacks[event] = filteredCallbacks;
    };
  }
  var _proto = Linking.prototype;
  _proto._dispatchEvent = function _dispatchEvent(event) {
    for (var _len = arguments.length, data = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {
      data[_key - 1] = arguments[_key];
    }
    var listeners = this._eventCallbacks[event];
    if (listeners != null && Array.isArray(listeners)) {
      listeners.map(function (listener) {
        listener.apply(void 0, data);
      });
    }
  };
  _proto.canOpenURL = function canOpenURL() {
    return Promise.resolve(true);
  };
  _proto.getInitialURL = function getInitialURL() {
    return Promise.resolve(initialURL);
  };
  _proto.openURL = function openURL(url) {
    try {
      open(url);
      this._dispatchEvent('onOpen', url);
      return Promise.resolve();
    } catch (e) {
      return Promise.reject(e);
    }
  };
  _proto._validateURL = function _validateURL(url) {
    (0, _invariant.default)(typeof url === 'string', 'Invalid URL: should be a string. Was: ' + url);
    (0, _invariant.default)(url, 'Invalid URL: cannot be empty');
  };
  return Linking;
}();
var open = function open(url) {
  if (_ExecutionEnvironment.canUseDOM) {
    var urlToOpen = new URL(url, window.location).toString();
    window.open(urlToOpen, '_blank', 'noopener');
  }
};
var _default = new Linking();
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfRXhlY3V0aW9uRW52aXJvbm1lbnQiLCJyZXF1aXJlIiwiX2ludmFyaWFudCIsIl9pbnRlcm9wUmVxdWlyZURlZmF1bHQiLCJvYmoiLCJpbml0aWFsVVJMIiwiY2FuVXNlRE9NIiwid2luZG93IiwibG9jYXRpb24iLCJocmVmIiwiTGlua2luZyIsIl90aGlzIiwiX2V2ZW50Q2FsbGJhY2tzIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiY2FsbGJhY2siLCJwdXNoIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImNhbGxiYWNrcyIsImZpbHRlcmVkQ2FsbGJhY2tzIiwiZmlsdGVyIiwiYyIsInRvU3RyaW5nIiwiX3Byb3RvIiwicHJvdG90eXBlIiwiX2Rpc3BhdGNoRXZlbnQiLCJfbGVuIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwiZGF0YSIsIkFycmF5IiwiX2tleSIsImxpc3RlbmVycyIsImlzQXJyYXkiLCJtYXAiLCJsaXN0ZW5lciIsImFwcGx5IiwiY2FuT3BlblVSTCIsIlByb21pc2UiLCJyZXNvbHZlIiwiZ2V0SW5pdGlhbFVSTCIsIm9wZW5VUkwiLCJ1cmwiLCJvcGVuIiwiZSIsInJlamVjdCIsIl92YWxpZGF0ZVVSTCIsInVybFRvT3BlbiIsIlVSTCIsIl9kZWZhdWx0IiwibW9kdWxlIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnRcIik7XG5cbnZhciBfaW52YXJpYW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiZmJqcy9saWIvaW52YXJpYW50XCIpKTtcblxuZnVuY3Rpb24gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChvYmopIHsgcmV0dXJuIG9iaiAmJiBvYmouX19lc01vZHVsZSA/IG9iaiA6IHsgZGVmYXVsdDogb2JqIH07IH1cblxuLyoqXG4gKiBDb3B5cmlnaHQgKGMpIE5pY29sYXMgR2FsbGFnaGVyLlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cbnZhciBpbml0aWFsVVJMID0gX0V4ZWN1dGlvbkVudmlyb25tZW50LmNhblVzZURPTSA/IHdpbmRvdy5sb2NhdGlvbi5ocmVmIDogJyc7XG5cbnZhciBMaW5raW5nID0gLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHtcbiAgZnVuY3Rpb24gTGlua2luZygpIHtcbiAgICB2YXIgX3RoaXMgPSB0aGlzO1xuXG4gICAgdGhpcy5fZXZlbnRDYWxsYmFja3MgPSB7fTtcblxuICAgIHRoaXMuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uIChldmVudCwgY2FsbGJhY2spIHtcbiAgICAgIGlmICghX3RoaXMuX2V2ZW50Q2FsbGJhY2tzW2V2ZW50XSkge1xuICAgICAgICBfdGhpcy5fZXZlbnRDYWxsYmFja3NbZXZlbnRdID0gW2NhbGxiYWNrXTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBfdGhpcy5fZXZlbnRDYWxsYmFja3NbZXZlbnRdLnB1c2goY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGNhbGxiYWNrKSB7XG4gICAgICB2YXIgY2FsbGJhY2tzID0gX3RoaXMuX2V2ZW50Q2FsbGJhY2tzW2V2ZW50XTtcbiAgICAgIHZhciBmaWx0ZXJlZENhbGxiYWNrcyA9IGNhbGxiYWNrcy5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgcmV0dXJuIGMudG9TdHJpbmcoKSAhPT0gY2FsbGJhY2sudG9TdHJpbmcoKTtcbiAgICAgIH0pO1xuICAgICAgX3RoaXMuX2V2ZW50Q2FsbGJhY2tzW2V2ZW50XSA9IGZpbHRlcmVkQ2FsbGJhY2tzO1xuICAgIH07XG4gIH1cblxuICB2YXIgX3Byb3RvID0gTGlua2luZy5wcm90b3R5cGU7XG5cbiAgX3Byb3RvLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24gX2Rpc3BhdGNoRXZlbnQoZXZlbnQpIHtcbiAgICBmb3IgKHZhciBfbGVuID0gYXJndW1lbnRzLmxlbmd0aCwgZGF0YSA9IG5ldyBBcnJheShfbGVuID4gMSA/IF9sZW4gLSAxIDogMCksIF9rZXkgPSAxOyBfa2V5IDwgX2xlbjsgX2tleSsrKSB7XG4gICAgICBkYXRhW19rZXkgLSAxXSA9IGFyZ3VtZW50c1tfa2V5XTtcbiAgICB9XG5cbiAgICB2YXIgbGlzdGVuZXJzID0gdGhpcy5fZXZlbnRDYWxsYmFja3NbZXZlbnRdO1xuXG4gICAgaWYgKGxpc3RlbmVycyAhPSBudWxsICYmIEFycmF5LmlzQXJyYXkobGlzdGVuZXJzKSkge1xuICAgICAgbGlzdGVuZXJzLm1hcChmdW5jdGlvbiAobGlzdGVuZXIpIHtcbiAgICAgICAgbGlzdGVuZXIuYXBwbHkodm9pZCAwLCBkYXRhKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQWRkcyBhIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgc3BlY2lmaWVkIGV2ZW50LiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2hlbiB0aGVcbiAgICogc2FpZCBldmVudCBpcyBkaXNwYXRjaGVkLlxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5jYW5PcGVuVVJMID0gZnVuY3Rpb24gY2FuT3BlblVSTCgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICB9O1xuXG4gIF9wcm90by5nZXRJbml0aWFsVVJMID0gZnVuY3Rpb24gZ2V0SW5pdGlhbFVSTCgpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGluaXRpYWxVUkwpO1xuICB9XG4gIC8qKlxuICAgKiBUcnkgdG8gb3BlbiB0aGUgZ2l2ZW4gdXJsIGluIGEgc2VjdXJlIGZhc2hpb24uIFRoZSBtZXRob2QgcmV0dXJucyBhIFByb21pc2Ugb2JqZWN0LlxuICAgKiBJZiB0aGUgdXJsIG9wZW5zLCB0aGUgcHJvbWlzZSBpcyByZXNvbHZlZC4gSWYgbm90LCB0aGUgcHJvbWlzZSBpcyByZWplY3RlZC5cbiAgICogRGlzcGF0Y2hlcyB0aGUgYG9uT3BlbmAgZXZlbnQgaWYgYHVybGAgaXMgb3BlbmVkIHN1Y2Nlc3NmdWxseVxuICAgKi9cbiAgO1xuXG4gIF9wcm90by5vcGVuVVJMID0gZnVuY3Rpb24gb3BlblVSTCh1cmwpIHtcbiAgICB0cnkge1xuICAgICAgb3Blbih1cmwpO1xuXG4gICAgICB0aGlzLl9kaXNwYXRjaEV2ZW50KCdvbk9wZW4nLCB1cmwpO1xuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGUpO1xuICAgIH1cbiAgfTtcblxuICBfcHJvdG8uX3ZhbGlkYXRlVVJMID0gZnVuY3Rpb24gX3ZhbGlkYXRlVVJMKHVybCkge1xuICAgICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnLCAnSW52YWxpZCBVUkw6IHNob3VsZCBiZSBhIHN0cmluZy4gV2FzOiAnICsgdXJsKTtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KSh1cmwsICdJbnZhbGlkIFVSTDogY2Fubm90IGJlIGVtcHR5Jyk7XG4gIH07XG5cbiAgcmV0dXJuIExpbmtpbmc7XG59KCk7XG5cbnZhciBvcGVuID0gZnVuY3Rpb24gb3Blbih1cmwpIHtcbiAgaWYgKF9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00pIHtcbiAgICB2YXIgdXJsVG9PcGVuID0gbmV3IFVSTCh1cmwsIHdpbmRvdy5sb2NhdGlvbikudG9TdHJpbmcoKTtcbiAgICB3aW5kb3cub3Blbih1cmxUb09wZW4sICdfYmxhbmsnLCAnbm9vcGVuZXInKTtcbiAgfVxufTtcblxudmFyIF9kZWZhdWx0ID0gbmV3IExpbmtpbmcoKTtcblxuZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMuZGVmYXVsdDsiXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVpBLE9BQU8sQ0FBQ0MsVUFBVSxHQUFHLElBQUk7QUFDekJELE9BQU8sQ0FBQ0UsT0FBTyxHQUFHLEtBQUssQ0FBQztBQUV4QixJQUFJQyxxQkFBcUIsR0FBR0MsT0FBTyxDQUFDLCtCQUErQixDQUFDO0FBRXBFLElBQUlDLFVBQVUsR0FBR0Msc0JBQXNCLENBQUNGLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBRXRFLFNBQVNFLHNCQUFzQkEsQ0FBQ0MsR0FBRyxFQUFFO0VBQUUsT0FBT0EsR0FBRyxJQUFJQSxHQUFHLENBQUNOLFVBQVUsR0FBR00sR0FBRyxHQUFHO0lBQUVMLE9BQU8sRUFBRUs7RUFBSSxDQUFDO0FBQUU7QUFXOUYsSUFBSUMsVUFBVSxHQUFHTCxxQkFBcUIsQ0FBQ00sU0FBUyxHQUFHQyxNQUFNLENBQUNDLFFBQVEsQ0FBQ0MsSUFBSSxHQUFHLEVBQUU7QUFFNUUsSUFBSUMsT0FBTyxHQUFnQixZQUFZO0VBQ3JDLFNBQVNBLE9BQU9BLENBQUEsRUFBRztJQUNqQixJQUFJQyxLQUFLLEdBQUcsSUFBSTtJQUVoQixJQUFJLENBQUNDLGVBQWUsR0FBRyxDQUFDLENBQUM7SUFFekIsSUFBSSxDQUFDQyxnQkFBZ0IsR0FBRyxVQUFVQyxLQUFLLEVBQUVDLFFBQVEsRUFBRTtNQUNqRCxJQUFJLENBQUNKLEtBQUssQ0FBQ0MsZUFBZSxDQUFDRSxLQUFLLENBQUMsRUFBRTtRQUNqQ0gsS0FBSyxDQUFDQyxlQUFl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