7c922290d9681049def3164c69774c54
"use strict";

exports.__esModule = true;
exports.getActiveModality = getActiveModality;
exports.getModality = getModality;
exports.addModalityListener = addModalityListener;
exports.testOnly_resetActiveModality = testOnly_resetActiveModality;
var _ExecutionEnvironment = require("fbjs/lib/ExecutionEnvironment");
var _createEventHandle = _interopRequireDefault(require("../createEventHandle"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
var supportsPointerEvent = function supportsPointerEvent() {
  return !!(typeof window !== 'undefined' && window.PointerEvent != null);
};
var activeModality = 'keyboard';
var modality = 'keyboard';
var previousModality;
var previousActiveModality;
var isEmulatingMouseEvents = false;
var listeners = new Set();
var KEYBOARD = 'keyboard';
var MOUSE = 'mouse';
var TOUCH = 'touch';
var BLUR = 'blur';
var CONTEXTMENU = 'contextmenu';
var FOCUS = 'focus';
var KEYDOWN = 'keydown';
var MOUSEDOWN = 'mousedown';
var MOUSEMOVE = 'mousemove';
var MOUSEUP = 'mouseup';
var POINTERDOWN = 'pointerdown';
var POINTERMOVE = 'pointermove';
var SCROLL = 'scroll';
var SELECTIONCHANGE = 'selectionchange';
var TOUCHCANCEL = 'touchcancel';
var TOUCHMOVE = 'touchmove';
var TOUCHSTART = 'touchstart';
var VISIBILITYCHANGE = 'visibilitychange';
var bubbleOptions = {
  passive: true
};
var captureOptions = {
  capture: true,
  passive: true
};
var addBlurListener = (0, _createEventHandle.default)(BLUR, bubbleOptions);
var addFocusListener = (0, _createEventHandle.default)(FOCUS, bubbleOptions);
var addVisibilityChangeListener = (0, _createEventHandle.default)(VISIBILITYCHANGE, captureOptions);
var addKeyDownListener = (0, _createEventHandle.default)(KEYDOWN, captureOptions);
var addPointerDownListener = (0, _createEventHandle.default)(POINTERDOWN, captureOptions);
var addPointerMoveListener = (0, _createEventHandle.default)(POINTERMOVE, captureOptions);
var addContextMenuListener = (0, _createEventHandle.default)(CONTEXTMENU, captureOptions);
var addMouseDownListener = (0, _createEventHandle.default)(MOUSEDOWN, captureOptions);
var addMouseMoveListener = (0, _createEventHandle.default)(MOUSEMOVE, captureOptions);
var addMouseUpListener = (0, _createEventHandle.default)(MOUSEUP, captureOptions);
var addScrollListener = (0, _createEventHandle.default)(SCROLL, captureOptions);
var addSelectiomChangeListener = (0, _createEventHandle.default)(SELECTIONCHANGE, captureOptions);
var addTouchCancelListener = (0, _createEventHandle.default)(TOUCHCANCEL, captureOptions);
var addTouchMoveListener = (0, _createEventHandle.default)(TOUCHMOVE, captureOptions);
var addTouchStartListener = (0, _createEventHandle.default)(TOUCHSTART, captureOptions);
function restoreModality() {
  if (previousModality != null || previousActiveModality != null) {
    if (previousModality != null) {
      modality = previousModality;
      previousModality = null;
    }
    if (previousActiveModality != null) {
      activeModality = previousActiveModality;
      previousActiveModality = null;
    }
    callListeners();
  }
}
function onBlurWindow() {
  previousModality = modality;
  previousActiveModality = activeModality;
  activeModality = KEYBOARD;
  modality = KEYBOARD;
  callListeners();
  isEmulatingMouseEvents = false;
}
function onFocusWindow() {
  restoreModality();
}
function onKeyDown(event) {
  if (event.metaKey || event.altKey || event.ctrlKey) {
    return;
  }
  if (modality !== KEYBOARD) {
    modality = KEYBOARD;
    activeModality = KEYBOARD;
    callListeners();
  }
}
function onVisibilityChange() {
  if (document.visibilityState !== 'hidden') {
    restoreModality();
  }
}
function onPointerish(event) {
  var eventType = event.type;
  if (supportsPointerEvent()) {
    if (eventType === POINTERDOWN) {
      if (activeModality !== event.pointerType) {
        modality = event.pointerType;
        activeModality = event.pointerType;
        callListeners();
      }
      return;
    }
    if (eventType === POINTERMOVE) {
      if (modality !== event.pointerType) {
        modality = event.pointerType;
        callListeners();
      }
      return;
    }
  } else {
    if (!isEmulatingMouseEvents) {
      if (eventType === MOUSEDOWN) {
        if (activeModality !== MOUSE) {
          modality = MOUSE;
          activeModality = MOUSE;
          callListeners();
        }
      }
      if (eventType === MOUSEMOVE) {
        if (modality !== MOUSE) {
          modality = MOUSE;
          callListeners();
        }
      }
    }
    if (eventType === TOUCHSTART) {
      isEmulatingMouseEvents = true;
      if (event.touches && event.touches.length > 1) {
        isEmulatingMouseEvents = false;
      }
      if (activeModality !== TOUCH) {
        modality = TOUCH;
        activeModality = TOUCH;
        callListeners();
      }
      return;
    }
    if (eventType === CONTEXTMENU || eventType === MOUSEUP || eventType === SELECTIONCHANGE || eventType === SCROLL || eventType === TOUCHCANCEL || eventType === TOUCHMOVE) {
      isEmulatingMouseEvents = false;
    }
  }
}
if (_ExecutionEnvironment.canUseDOM) {
  addBlurListener(window, onBlurWindow);
  addFocusListener(window, onFocusWindow);
  addKeyDownListener(document, onKeyDown);
  addPointerDownListener(document, onPointerish);
  addPointerMoveListener(document, onPointerish);
  addVisibilityChangeListener(document, onVisibilityChange);
  addContextMenuListener(document, onPointerish);
  addMouseDownListener(document, onPointerish);
  addMouseMoveListener(document, onPointerish);
  addMouseUpListener(document, onPointerish);
  addTouchCancelListener(document, onPointerish);
  addTouchMoveListener(document, onPointerish);
  addTouchStartListener(document, onPointerish);
  addSelectiomChangeListener(document, onPointerish);
  addScrollListener(document, onPointerish);
}
function callListeners() {
  var value = {
    activeModality: activeModality,
    modality: modality
  };
  listeners.forEach(function (listener) {
    listener(value);
  });
}
function getActiveModality() {
  return activeModality;
}
function getModality() {
  return modality;
}
function addModalityListener(listener) {
  listeners.add(listener);
  return function () {
    listeners.delete(listener);
  };
}
function testOnly_resetActiveModality() {
  isEmulatingMouseEvents = false;
  activeModality = KEYBOARD;
  modality = KEYBOARD;
}
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImdldEFjdGl2ZU1vZGFsaXR5IiwiZ2V0TW9kYWxpdHkiLCJhZGRNb2RhbGl0eUxpc3RlbmVyIiwidGVzdE9ubHlfcmVzZXRBY3RpdmVNb2RhbGl0eSIsIl9FeGVjdXRpb25FbnZpcm9ubWVudCIsInJlcXVpcmUiLCJfY3JlYXRlRXZlbnRIYW5kbGUiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0Iiwib2JqIiwiZGVmYXVsdCIsInN1cHBvcnRzUG9pbnRlckV2ZW50Iiwid2luZG93IiwiUG9pbnRlckV2ZW50IiwiYWN0aXZlTW9kYWxpdHkiLCJtb2RhbGl0eSIsInByZXZpb3VzTW9kYWxpdHkiLCJwcmV2aW91c0FjdGl2ZU1vZGFsaXR5IiwiaXNFbXVsYXRpbmdNb3VzZUV2ZW50cyIsImxpc3RlbmVycyIsIlNldCIsIktFWUJPQVJEIiwiTU9VU0UiLCJUT1VDSCIsIkJMVVIiLCJDT05URVhUTUVOVSIsIkZPQ1VTIiwiS0VZRE9XTiIsIk1PVVNFRE9XTiIsIk1PVVNFTU9WRSIsIk1PVVNFVVAiLCJQT0lOVEVSRE9XTiIsIlBPSU5URVJNT1ZFIiwiU0NST0xMIiwiU0VMRUNUSU9OQ0hBTkdFIiwiVE9VQ0hDQU5DRUwiLCJUT1VDSE1PVkUiLCJUT1VDSFNUQVJUIiwiVklTSUJJTElUWUNIQU5HRSIsImJ1YmJsZU9wdGlvbnMiLCJwYXNzaXZlIiwiY2FwdHVyZU9wdGlvbnMiLCJjYXB0dXJlIiwiYWRkQmx1ckxpc3RlbmVyIiwiYWRkRm9jdXNMaXN0ZW5lciIsImFkZFZpc2liaWxpdHlDaGFuZ2VMaXN0ZW5lciIsImFkZEtleURvd25MaXN0ZW5lciIsImFkZFBvaW50ZXJEb3duTGlzdGVuZXIiLCJhZGRQb2ludGVyTW92ZUxpc3RlbmVyIiwiYWRkQ29udGV4dE1lbnVMaXN0ZW5lciIsImFkZE1vdXNlRG93bkxpc3RlbmVyIiwiYWRkTW91c2VNb3ZlTGlzdGVuZXIiLCJhZGRNb3VzZVVwTGlzdGVuZXIiLCJhZGRTY3JvbGxMaXN0ZW5lciIsImFkZFNlbGVjdGlvbUNoYW5nZUxpc3RlbmVyIiwiYWRkVG91Y2hDYW5jZWxMaXN0ZW5lciIsImFkZFRvdWNoTW92ZUxpc3RlbmVyIiwiYWRkVG91Y2hTdGFydExpc3RlbmVyIiwicmVzdG9yZU1vZGFsaXR5IiwiY2FsbExpc3RlbmVycyIsIm9uQmx1cldpbmRvdyIsIm9uRm9jdXNXaW5kb3ciLCJvbktleURvd24iLCJldmVudCIsIm1ldGFLZXkiLCJhbHRLZXkiLCJjdHJsS2V5Iiwib25WaXNpYmlsaXR5Q2hhbmdlIiwiZG9jdW1lbnQiLCJ2aXNpYmlsaXR5U3RhdGUiLCJvblBvaW50ZXJpc2giLCJldmVudFR5cGUiLCJ0eXBlIiwicG9pbnRlclR5cGUiLCJ0b3VjaGVzIiwibGVuZ3RoIiwiY2FuVXNlRE9NIiwidmFsdWUiLCJmb3JFYWNoIiwibGlzdGVuZXIiLCJhZGQiLCJkZWxldGUiXSwic291cmNlcyI6WyJpbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcInVzZSBzdHJpY3RcIjtcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZ2V0QWN0aXZlTW9kYWxpdHkgPSBnZXRBY3RpdmVNb2RhbGl0eTtcbmV4cG9ydHMuZ2V0TW9kYWxpdHkgPSBnZXRNb2RhbGl0eTtcbmV4cG9ydHMuYWRkTW9kYWxpdHlMaXN0ZW5lciA9IGFkZE1vZGFsaXR5TGlzdGVuZXI7XG5leHBvcnRzLnRlc3RPbmx5X3Jlc2V0QWN0aXZlTW9kYWxpdHkgPSB0ZXN0T25seV9yZXNldEFjdGl2ZU1vZGFsaXR5O1xuXG52YXIgX0V4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZShcImZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50XCIpO1xuXG52YXIgX2NyZWF0ZUV2ZW50SGFuZGxlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi4vY3JlYXRlRXZlbnRIYW5kbGVcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG4vKipcbiAqIENvcHlyaWdodCAoYykgTmljb2xhcyBHYWxsYWdoZXIuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKi9cbnZhciBzdXBwb3J0c1BvaW50ZXJFdmVudCA9IGZ1bmN0aW9uIHN1cHBvcnRzUG9pbnRlckV2ZW50KCkge1xuICByZXR1cm4gISEodHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiYgd2luZG93LlBvaW50ZXJFdmVudCAhPSBudWxsKTtcbn07XG5cbnZhciBhY3RpdmVNb2RhbGl0eSA9ICdrZXlib2FyZCc7XG52YXIgbW9kYWxpdHkgPSAna2V5Ym9hcmQnO1xudmFyIHByZXZpb3VzTW9kYWxpdHk7XG52YXIgcHJldmlvdXNBY3RpdmVNb2RhbGl0eTtcbnZhciBpc0VtdWxhdGluZ01vdXNlRXZlbnRzID0gZmFsc2U7XG52YXIgbGlzdGVuZXJzID0gbmV3IFNldCgpO1xudmFyIEtFWUJPQVJEID0gJ2tleWJvYXJkJztcbnZhciBNT1VTRSA9ICdtb3VzZSc7XG52YXIgVE9VQ0ggPSAndG91Y2gnO1xudmFyIEJMVVIgPSAnYmx1cic7XG52YXIgQ09OVEVYVE1FTlUgPSAnY29udGV4dG1lbnUnO1xudmFyIEZPQ1VTID0gJ2ZvY3VzJztcbnZhciBLRVlET1dOID0gJ2tleWRvd24nO1xudmFyIE1PVVNFRE9XTiA9ICdtb3VzZWRvd24nO1xudmFyIE1PVVNFTU9WRSA9ICdtb3VzZW1vdmUnO1xudmFyIE1PVVNFVVAgPSAnbW91c2V1cCc7XG52YXIgUE9JTlRFUkRPV04gPSAncG9pbnRlcmRvd24nO1xudmFyIFBPSU5URVJNT1ZFID0gJ3BvaW50ZXJtb3ZlJztcbnZhciBTQ1JPTEwgPSAnc2Nyb2xsJztcbnZhciBTRUxFQ1RJT05DSEFOR0UgPSAnc2VsZWN0aW9uY2hhbmdlJztcbnZhciBUT1VDSENBTkNFTCA9ICd0b3VjaGNhbmNlbCc7XG52YXIgVE9VQ0hNT1ZFID0gJ3RvdWNobW92ZSc7XG52YXIgVE9VQ0hTVEFSVCA9ICd0b3VjaHN0YXJ0JztcbnZhciBWSVNJQklMSVRZQ0hBTkdFID0gJ3Zpc2liaWxpdHljaGFuZ2UnO1xudmFyIGJ1YmJsZU9wdGlvbnMgPSB7XG4gIHBhc3NpdmU6IHRydWVcbn07XG52YXIgY2FwdHVyZU9wdGlvbnMgPSB7XG4gIGNhcHR1cmU6IHRydWUsXG4gIHBhc3NpdmU6IHRydWVcbn07IC8vIFdpbmRvdyBldmVudHNcblxudmFyIGFkZEJsdXJMaXN0ZW5lciA9ICgwLCBfY3JlYXRlRXZlbnRIYW5kbGUuZGVmYXVsdCkoQkxVUiwgYnViYmxlT3B0aW9ucyk7XG52YXIgYWRkRm9jdXNMaXN0ZW5lciA9ICgwLCBfY3JlYXRlRXZlbnRIYW5kbGUuZGVmYXVsdCkoRk9DVVMsIGJ1YmJsZU9wdGlvbnMpOyAvLyBNdXN0IGJlIGNhcHR1cmUgcGhhc2UgYmVjYXVzZSAnc3RvcFByb3BhZ2F0aW9uJyBtaWdodCBwcmV2ZW50IHRoZXNlXG4vLyBldmVudHMgYnViYmxpbmcgdG8gdGhlIGRvY3VtZW50LlxuXG52YXIgYWRkVmlzaWJpbGl0eUNoYW5nZUxpc3RlbmVyID0gKDAsIF9jcmVhdGVFdmVudEhhbmRsZS5kZWZhdWx0KShWSVNJQklMSVRZQ0hBTkdFLCBjYXB0dXJlT3B0aW9ucyk7XG52YXIgYWRkS2V5RG93bkxpc3RlbmVyID0gKDAsIF9jcmVhdGVFdmVudEhhbmRsZS5kZWZhdWx0KShLRVlET1dOLCBjYXB0dXJlT3B0aW9ucyk7XG52YXIgYWRkUG9pbnRlckRvd25MaXN0ZW5lciA9ICgwLCBfY3JlYXRlRXZlbnRIYW5kbGUuZGVmYXVsdCkoUE9JTlRFUkRPV04sIGNhcHR1cmVPcHRpb25zKTtcbnZhciBhZGRQb2ludGVyTW92ZUxpc3RlbmVyID0gKDAsIF9jcmVhdGVFdmVudEhhbmRsZS5kZWZhdWx0KShQT0lOVEVSTU9WRSwgY2FwdHVyZU9wdGlvbnMpOyAvLyBGYWxsYmFjayBldmVudHNcblxudmFyIGFkZENvbnRleHRNZW51TGlzdGVuZXIgPSAoMCwgX2NyZWF0ZUV2ZW50SGFuZGxlLmRlZmF1bHQpKENPTlRFWFRNRU5VLCBjYXB0dXJlT3B0aW9ucyk7XG52YXIgYWRkTW91c2VEb3duTGlzdGVuZXIgPSAoMCwgX2NyZWF0ZUV2ZW50SGFuZGxlLmRlZmF1bHQpKE1PVVNFRE9XTiwgY2FwdHVyZU9wdGlvbnMpO1xudmFyIGFkZE1vdXNlTW92ZUxpc3RlbmVyID0gKDAsIF9jcmVhdGVFdmVudEhhbmRsZS5kZWZhdWx0KShNT1VTRU1PVkUsIGNhcHR1cmVPcHRpb25zKTtcbnZhciBhZGRNb3VzZVVwTGlzdGVuZXIgPSAoMCwgX2NyZWF0ZUV2ZW50SGFuZGxlLmRlZmF1bHQpKE1PVVNFVVAsIGNhcHR1cmVPcHRpb25zKTtcbnZhciBhZGRTY3JvbGxMaXN0ZW5lciA9ICgwLCBfY3JlYXRlRXZlbnRIYW5kbGUuZGVmYXVsdCkoU0NST0xMLCBjYXB0dXJlT3B0aW9ucyk7XG52YXIgYWRkU2VsZWN0aW9tQ2hhbmdlTGlzdGVuZXIgPSAoMCwgX2NyZWF0ZUV2ZW50SGFuZGxlLmRlZmF1bHQpKFNFTEVDVElPTkNIQU5HRSwgY2FwdHVyZU9wdGlvbnMpO1xudmFyIGFkZFRvdWNoQ2FuY2VsTGlzdGVuZXIgPSAoMCwgX2NyZWF0ZUV2ZW50SGFuZGxlLmRlZmF1bHQpKFRPVUNIQ0FOQ0VMLCBjYXB0dXJlT3B0aW9ucyk7XG52YXIgYWRkVG91Y2hNb3ZlTGlzdGVuZXIgPSAoMCwgX2NyZWF0ZUV2ZW50SGFuZGxlLmRlZmF1bHQpKFRPVUNITU9WRSwgY2FwdHVyZU9wdGlvbnMpO1xudmFyIGFkZFRvdWNoU3RhcnRMaXN0ZW5lciA9ICgwLCBfY3JlYXRlRXZlbnRIYW5kbGUuZGVmYXVsdCkoVE9VQ0hTVEFSVCwgY2FwdHVyZU9wdGlvbnMpO1xuXG5mdW5jdGlvbiByZXN0b3JlTW9kYWxpdHkoKSB7XG4gIGlmIChwcmV2aW91c01vZGFsaXR5ICE9IG51bGwgfHwgcHJldmlvdXNBY3RpdmVNb2RhbGl0eSAhPSBudWxsKSB7XG4gICAgaWYgKHByZXZpb3VzTW9kYWxpdHkgIT0gbnVsbCkge1xuICAgICAgbW9kYWxpdHkgPSBwcmV2aW91c01vZGFsaXR5O1xuICAgICAgcHJldmlvdXNNb2RhbGl0eSA9IG51bGw7XG4gICAgfVxuXG4gICAgaWYgKHByZXZpb3VzQWN0aXZlTW9kYWxpdHkgIT0gbnVsbCkge1xuICAgICAgYWN0aXZlTW9kYWxpdHkgPSBwcmV2aW91c0FjdGl2ZU1vZGFsaXR5O1xuICAgICAgcHJldmlvdXNBY3RpdmVNb2RhbGl0eSA9IG51bGw7XG4gICAgfVxuXG4gICAgY2FsbExpc3RlbmVycygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uQmx1cldpbmRvdygpIHtcbiAgcHJldmlvdXNNb2RhbGl0eSA9IG1vZGFsaXR5O1xuICBwcmV2aW91c0FjdGl2ZU1vZGFsaXR5ID0gYWN0aXZlTW9kYWxpdHk7XG4gIGFjdGl2ZU1vZGFsaXR5ID0gS0VZQk9BUkQ7XG4gIG1vZGFsaXR5ID0gS0VZQk9BUkQ7XG4gIGNhbGxMaXN0ZW5lcnMoKTsgLy8gZm9yIGZhbGxiYWNrIGV2ZW50c1xuXG4gIGlzRW11bGF0aW5nTW91c2VFdmVudHMgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gb25Gb2N1c1dpbmRvdygpIHtcbiAgcmVzdG9yZU1vZGFsaXR5KCk7XG59XG5cbmZ1bmN0aW9uIG9uS2V5RG93bihldmVudCkge1xuICBpZiAoZXZlbnQubWV0YUtleSB8fCBldmVudC5hbHRLZXkgfHwgZXZlbnQuY3RybEtleSkge1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmIChtb2RhbGl0eSAhPT0gS0VZQk9BUkQpIHtcbiAgICBtb2RhbGl0eSA9IEtFWUJPQVJEO1xuICAgIGFjdGl2ZU1vZGFsaXR5ID0gS0VZQk9BUkQ7XG4gICAgY2FsbExpc3RlbmVycygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG9uVmlzaWJpbGl0eUNoYW5nZSgpIHtcbiAgaWYgKGRvY3VtZW50LnZpc2liaWxpdHlTdGF0ZSAhPT0gJ2hpZGRlbicpIHtcbiAgICByZXN0b3JlTW9kYWxpdHkoKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBvblBvaW50ZXJpc2goZXZlbnQpIHtcbiAgdmFyIGV2ZW50VHlwZSA9IGV2ZW50LnR5cGU7XG5cbiAgaWYgKHN1cHBvcnRzUG9pbnRlckV2ZW50KCkpIHtcbiAgICBpZiAoZXZlbnRUeXBlID09PSBQT0lOVEVSRE9XTikge1xuICAgICAgaWYgKGFjdGl2ZU1vZGFsaXR5ICE9PSBldmVudC5wb2ludGVyVHlwZSkge1xuICAgICAgICBtb2RhbGl0eSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgICAgICBhY3RpdmVNb2RhbGl0eSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgICAgICBjYWxsTGlzdGVuZXJzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZXZlbnRUeXBlID09PSBQT0lOVEVSTU9WRSkge1xuICAgICAgaWYgKG1vZGFsaXR5ICE9PSBldmVudC5wb2ludGVyVHlwZSkge1xuICAgICAgICBtb2RhbGl0eSA9IGV2ZW50LnBvaW50ZXJUeXBlO1xuICAgICAgICBjYWxsTGlzdGVuZXJzKCk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH0gLy8gRmFsbGJhY2sgZm9yIG5vbi1Qb2ludGVyRXZlbnQgZW52aXJvbm1lbnRcbiAgZWxzZSB7XG4gICAgICBpZiAoIWlzRW11bGF0aW5nTW91c2VFdmVudHMpIHtcbiAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gTU9VU0VET1dOKSB7XG4gICAgICAgICAgaWYgKGFjdGl2ZU1vZGFsaXR5ICE9PSBNT1VTRSkge1xuICAgICAgICAgICAgbW9kYWxpdHkgPSBNT1VTRTtcbiAgICAgICAgICAgIGFjdGl2ZU1vZGFsaXR5ID0gTU9VU0U7XG4gICAgICAgICAgICBjYWxsTGlzdGVuZXJzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gTU9VU0VNT1ZFKSB7XG4gICAgICAgICAgaWYgKG1vZGFsaXR5ICE9PSBNT1VTRSkge1xuICAgICAgICAgICAgbW9kYWxpdHkgPSBNT1VTRTtcbiAgICAgICAgICAgIGNhbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gLy8gRmxhZyB3aGVuIGJyb3dzZXIgbWF5IHByb2R1Y2UgZW11bGF0ZWQgZXZlbnRzXG5cblxuICAgICAgaWYgKGV2ZW50VHlwZSA9PT0gVE9VQ0hTVEFSVCkge1xuICAgICAgICBpc0VtdWxhdGluZ01vdXNlRXZlbnRzID0gdHJ1ZTtcblxuICAgICAgICBpZiAoZXZlbnQudG91Y2hlcyAmJiBldmVudC50b3VjaGVzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBpc0VtdWxhdGluZ01vdXNlRXZlbnRzID0gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoYWN0aXZlTW9kYWxpdHkgIT09IFRPVUNIKSB7XG4gICAgICAgICAgbW9kYWxpdHkgPSBUT1VDSDtcbiAgICAgICAgICBhY3RpdmVNb2RhbGl0eSA9IFRPVUNIO1xuICAgICAgICAgIGNhbGxMaXN0ZW5lcnMoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybjtcbiAgICAgIH0gLy8gUmVtb3ZlIGZsYWcgYWZ0ZXIgZW11bGF0ZWQgZXZlbnRzIGFyZSBmaW5pc2hlZCBvciBjYW5jZWxsZWQsIGFuZCBpZiBhblxuICAgICAgLy8gZXZlbnQgb2NjdXJzIHRoYXQgY3V0cyBzaG9ydCBhIHRvdWNoIGV2ZW50IHNlcXVlbmNlLlxuXG5cbiAgICAgIGlmIChldmVudFR5cGUgPT09IENPTlRFWFRNRU5VIHx8IGV2ZW50VHlwZSA9PT0gTU9VU0VVUCB8fCBldmVudFR5cGUgPT09IFNFTEVDVElPTkNIQU5HRSB8fCBldmVudFR5cGUgPT09IFNDUk9MTCB8fCBldmVudFR5cGUgPT09IFRPVUNIQ0FOQ0VMIHx8IGV2ZW50VHlwZSA9PT0gVE9VQ0hNT1ZFKSB7XG4gICAgICAgIGlzRW11bGF0aW5nTW91c2VFdmVudHMgPSBmYWxzZTtcbiAgICAgIH1cbiAgICB9XG59XG5cbmlmIChfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gIGFkZEJsdXJMaXN0ZW5lcih3aW5kb3csIG9uQmx1cldpbmRvdyk7XG4gIGFkZEZvY3VzTGlzdGVuZXIod2luZG93LCBvbkZvY3VzV2luZG93KTtcbiAgYWRkS2V5RG93bkxpc3RlbmVyKGRvY3VtZW50LCBvbktleURvd24pO1xuICBhZGRQb2ludGVyRG93bkxpc3RlbmVyKGRvY3VtZW50LCBvblBvaW50ZXJpc2gpO1xuICBhZGRQb2ludGVyTW92ZUxpc3RlbmVyKGRvY3VtZW50LCBvblBvaW50ZXJpc2gpO1xuICBhZGRWaXNpYmlsaXR5Q2hhbmdlTGlzdGVuZXIoZG9jdW1lbnQsIG9uVmlzaWJpbGl0eUNoYW5nZSk7IC8vIGZhbGxiYWNrc1xuXG4gIGFkZENvbnRleHRNZW51TGlzdGVuZXIoZG9jdW1lbnQsIG9uUG9pbnRlcmlzaCk7XG4gIGFkZE1vdXNlRG93bkxpc3RlbmVyKGRvY3VtZW50LCBvblBvaW50ZXJpc2gpO1xuICBhZGRNb3VzZU1vdmVMaXN0ZW5lcihkb2N1bWVudCwgb25Qb2ludGVyaXNoKTtcbiAgYWRkTW91c2VVcExpc3RlbmVyKGRvY3VtZW50LCBvblBvaW50ZXJpc2gpO1xuICBhZGRUb3VjaENhbmNlbExpc3RlbmVyKGRvY3VtZW50LCBvblBvaW50ZXJpc2gpO1xuICBhZGRUb3VjaE1vdmVMaXN0ZW5lcihkb2N1bWVudCwgb25Qb2ludGVyaXNoKTtcbiAgYWRkVG91Y2hTdGFydExpc3RlbmVyKGRvY3VtZW50LCBvblBvaW50ZXJpc2gpO1xuICBhZGRTZWxlY3Rpb21DaGFuZ2VMaXN0ZW5lcihkb2N1bWVudCwgb25Qb2ludGVyaXNoKTtcbiAgYWRkU2Nyb2xsTGlzdGVuZXIoZG9jdW1lbnQsIG9uUG9pbnRlcmlzaCk7XG59XG5cbmZ1bmN0aW9uIGNhbGxMaXN0ZW5lcnMoKSB7XG4gIHZhciB2YWx1ZSA9IHtcbiAgICBhY3RpdmVNb2RhbGl0eTogYWN0aXZlTW9kYWxpdHksXG4gICAgbW9kYWxpdHk6IG1vZGFsaXR5XG4gIH07XG4gIGxpc3RlbmVycy5mb3JFYWNoKGZ1bmN0aW9uIChsaXN0ZW5lcikge1xuICAgIGxpc3RlbmVyKHZhbHVlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEFjdGl2ZU1vZGFsaXR5KCkge1xuICByZXR1cm4gYWN0aXZlTW9kYWxpdHk7XG59XG5cbmZ1bmN0aW9uIGdldE1vZGFsaXR5KCkge1xuICByZXR1cm4gbW9kYWxpdHk7XG59XG5cbmZ1bmN0aW9uIGFkZE1vZGFsaXR5TGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgbGlzdGVuZXJzLmFkZChsaXN0ZW5lcik7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgbGlzdGVuZXJzLmRlbGV0ZShsaXN0ZW5lcik7XG4gIH07XG59XG5cbmZ1bmN0aW9uIHRlc3RPbmx5X3Jlc2V0QWN0aXZlTW9kYWxpdHkoKSB7XG4gIGlzRW11bGF0aW5nTW91c2VFdmVudHMgPSBmYWxzZTtcbiAgYWN0aXZlTW9kYWxpdHkgPSBLRVlCT0FSRDtcbiAgbW9kYWxpdHkgPSBLRVlCT0FSRDtcbn0iXSwibWFwcGluZ3MiOiJBQUFBLFlBQVk7O0FBRVpBLE9BQU8sQ0FBQ0MsVUFBVSxHQUFHLElBQUk7QUFDekJELE9BQU8sQ0FBQ0UsaUJBQWlCLEdBQUdBLGlCQUFpQjtBQUM3Q0YsT0FBTyxDQUFDRyxXQUFXLEdBQUdBLFdBQVc7QUFDakNILE9BQU8sQ0FBQ0ksbUJBQW1CLEdBQUdBLG1CQUFtQjtBQUNqREosT0FBTyxDQUFDSyw0QkFBNEIsR0FBR0EsNEJBQTRCO0FBRW5FLElBQUlDLHFCQUFxQixHQUFHQyxPQUFPLENBQUMsK0JBQStCLENBQUM7QUFFcEUsSUFBSUMsa0JBQWtCLEdBQUdDLHNCQUFzQixDQUFDRixPQUFPLHVCQUF1QixDQUFDLENBQUM7QUFFaEYsU0FBU0Us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