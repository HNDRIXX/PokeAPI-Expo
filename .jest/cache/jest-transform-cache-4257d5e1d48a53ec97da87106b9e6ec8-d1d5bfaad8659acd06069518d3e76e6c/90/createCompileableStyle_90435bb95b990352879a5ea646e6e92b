7a963bdde21aace193cfc9627fa600bd
"use strict";

exports.__esModule = true;
exports.default = void 0;
var _normalizeValueWithProperty = _interopRequireDefault(require("./normalizeValueWithProperty"));
var _resolveShadowValue = _interopRequireDefault(require("./resolveShadowValue"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _objectWithoutPropertiesLoose(source, excluded) {
  if (source == null) return {};
  var target = {};
  var sourceKeys = Object.keys(source);
  var key, i;
  for (i = 0; i < sourceKeys.length; i++) {
    key = sourceKeys[i];
    if (excluded.indexOf(key) >= 0) continue;
    target[key] = source[key];
  }
  return target;
}
var defaultOffset = {
  height: 0,
  width: 0
};
function boxShadowReducer(resolvedStyle, style) {
  var boxShadow = style.boxShadow;
  var shadow = (0, _resolveShadowValue.default)(style);
  if (shadow != null) {
    resolvedStyle.boxShadow = boxShadow ? boxShadow + ", " + shadow : shadow;
  }
}
function textShadowReducer(resolvedStyle, style) {
  var textShadowColor = style.textShadowColor,
    textShadowOffset = style.textShadowOffset,
    textShadowRadius = style.textShadowRadius;
  var _ref = textShadowOffset || defaultOffset,
    height = _ref.height,
    width = _ref.width;
  var radius = textShadowRadius || 0;
  var offsetX = (0, _normalizeValueWithProperty.default)(width);
  var offsetY = (0, _normalizeValueWithProperty.default)(height);
  var blurRadius = (0, _normalizeValueWithProperty.default)(radius);
  var color = (0, _normalizeValueWithProperty.default)(textShadowColor, 'textShadowColor');
  if (color && (height !== 0 || width !== 0 || radius !== 0) && offsetX != null && offsetY != null && blurRadius != null) {
    resolvedStyle.textShadow = offsetX + " " + offsetY + " " + blurRadius + " " + color;
  }
}
var createCompileableStyle = function createCompileableStyle(styles) {
  var shadowColor = styles.shadowColor,
    shadowOffset = styles.shadowOffset,
    shadowOpacity = styles.shadowOpacity,
    shadowRadius = styles.shadowRadius,
    textShadowColor = styles.textShadowColor,
    textShadowOffset = styles.textShadowOffset,
    textShadowRadius = styles.textShadowRadius,
    nextStyles = _objectWithoutPropertiesLoose(styles, ["shadowColor", "shadowOffset", "shadowOpacity", "shadowRadius", "textShadowColor", "textShadowOffset", "textShadowRadius"]);
  if (shadowColor != null || shadowOffset != null || shadowOpacity != null || shadowRadius != null) {
    boxShadowReducer(nextStyles, styles);
  }
  if (textShadowColor != null || textShadowOffset != null || textShadowRadius != null) {
    textShadowReducer(nextStyles, styles);
  }
  return nextStyles;
};
var _default = createCompileableStyle;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfbm9ybWFsaXplVmFsdWVXaXRoUHJvcGVydHkiLCJfaW50ZXJvcFJlcXVpcmVEZWZhdWx0IiwicmVxdWlyZSIsIl9yZXNvbHZlU2hhZG93VmFsdWUiLCJvYmoiLCJfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZSIsInNvdXJjZSIsImV4Y2x1ZGVkIiwidGFyZ2V0Iiwic291cmNlS2V5cyIsIk9iamVjdCIsImtleXMiLCJrZXkiLCJpIiwibGVuZ3RoIiwiaW5kZXhPZiIsImRlZmF1bHRPZmZzZXQiLCJoZWlnaHQiLCJ3aWR0aCIsImJveFNoYWRvd1JlZHVjZXIiLCJyZXNvbHZlZFN0eWxlIiwic3R5bGUiLCJib3hTaGFkb3ciLCJzaGFkb3ciLCJ0ZXh0U2hhZG93UmVkdWNlciIsInRleHRTaGFkb3dDb2xvciIsInRleHRTaGFkb3dPZmZzZXQiLCJ0ZXh0U2hhZG93UmFkaXVzIiwiX3JlZiIsInJhZGl1cyIsIm9mZnNldFgiLCJvZmZzZXRZIiwiYmx1clJhZGl1cyIsImNvbG9yIiwidGV4dFNoYWRvdyIsImNyZWF0ZUNvbXBpbGVhYmxlU3R5bGUiLCJzdHlsZXMiLCJzaGFkb3dDb2xvciIsInNoYWRvd09mZnNldCIsInNoYWRvd09wYWNpdHkiLCJzaGFkb3dSYWRpdXMiLCJuZXh0U3R5bGVzIiwiX2RlZmF1bHQiLCJtb2R1bGUiXSwic291cmNlcyI6WyJjcmVhdGVDb21waWxlYWJsZVN0eWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX25vcm1hbGl6ZVZhbHVlV2l0aFByb3BlcnR5ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9ub3JtYWxpemVWYWx1ZVdpdGhQcm9wZXJ0eVwiKSk7XG5cbnZhciBfcmVzb2x2ZVNoYWRvd1ZhbHVlID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9yZXNvbHZlU2hhZG93VmFsdWVcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5cbnZhciBkZWZhdWx0T2Zmc2V0ID0ge1xuICBoZWlnaHQ6IDAsXG4gIHdpZHRoOiAwXG59O1xuXG5mdW5jdGlvbiBib3hTaGFkb3dSZWR1Y2VyKHJlc29sdmVkU3R5bGUsIHN0eWxlKSB7XG4gIHZhciBib3hTaGFkb3cgPSBzdHlsZS5ib3hTaGFkb3c7XG4gIHZhciBzaGFkb3cgPSAoMCwgX3Jlc29sdmVTaGFkb3dWYWx1ZS5kZWZhdWx0KShzdHlsZSk7XG5cbiAgaWYgKHNoYWRvdyAhPSBudWxsKSB7XG4gICAgcmVzb2x2ZWRTdHlsZS5ib3hTaGFkb3cgPSBib3hTaGFkb3cgPyBib3hTaGFkb3cgKyBcIiwgXCIgKyBzaGFkb3cgOiBzaGFkb3c7XG4gIH1cbn1cblxuZnVuY3Rpb24gdGV4dFNoYWRvd1JlZHVjZXIocmVzb2x2ZWRTdHlsZSwgc3R5bGUpIHtcbiAgdmFyIHRleHRTaGFkb3dDb2xvciA9IHN0eWxlLnRleHRTaGFkb3dDb2xvcixcbiAgICAgIHRleHRTaGFkb3dPZmZzZXQgPSBzdHlsZS50ZXh0U2hhZG93T2Zmc2V0LFxuICAgICAgdGV4dFNoYWRvd1JhZGl1cyA9IHN0eWxlLnRleHRTaGFkb3dSYWRpdXM7XG5cbiAgdmFyIF9yZWYgPSB0ZXh0U2hhZG93T2Zmc2V0IHx8IGRlZmF1bHRPZmZzZXQsXG4gICAgICBoZWlnaHQgPSBfcmVmLmhlaWdodCxcbiAgICAgIHdpZHRoID0gX3JlZi53aWR0aDtcblxuICB2YXIgcmFkaXVzID0gdGV4dFNoYWRvd1JhZGl1cyB8fCAwO1xuICB2YXIgb2Zmc2V0WCA9ICgwLCBfbm9ybWFsaXplVmFsdWVXaXRoUHJvcGVydHkuZGVmYXVsdCkod2lkdGgpO1xuICB2YXIgb2Zmc2V0WSA9ICgwLCBfbm9ybWFsaXplVmFsdWVXaXRoUHJvcGVydHkuZGVmYXVsdCkoaGVpZ2h0KTtcbiAgdmFyIGJsdXJSYWRpdXMgPSAoMCwgX25vcm1hbGl6ZVZhbHVlV2l0aFByb3BlcnR5LmRlZmF1bHQpKHJhZGl1cyk7XG4gIHZhciBjb2xvciA9ICgwLCBfbm9ybWFsaXplVmFsdWVXaXRoUHJvcGVydHkuZGVmYXVsdCkodGV4dFNoYWRvd0NvbG9yLCAndGV4dFNoYWRvd0NvbG9yJyk7XG5cbiAgaWYgKGNvbG9yICYmIChoZWlnaHQgIT09IDAgfHwgd2lkdGggIT09IDAgfHwgcmFkaXVzICE9PSAwKSAmJiBvZmZzZXRYICE9IG51bGwgJiYgb2Zmc2V0WSAhPSBudWxsICYmIGJsdXJSYWRpdXMgIT0gbnVsbCkge1xuICAgIHJlc29sdmVkU3R5bGUudGV4dFNoYWRvdyA9IG9mZnNldFggKyBcIiBcIiArIG9mZnNldFkgKyBcIiBcIiArIGJsdXJSYWRpdXMgKyBcIiBcIiArIGNvbG9yO1xuICB9XG59XG5cbnZhciBjcmVhdGVDb21waWxlYWJsZVN0eWxlID0gZnVuY3Rpb24gY3JlYXRlQ29tcGlsZWFibGVTdHlsZShzdHlsZXMpIHtcbiAgdmFyIHNoYWRvd0NvbG9yID0gc3R5bGVzLnNoYWRvd0NvbG9yLFxuICAgICAgc2hhZG93T2Zmc2V0ID0gc3R5bGVzLnNoYWRvd09mZnNldCxcbiAgICAgIHNoYWRvd09wYWNpdHkgPSBzdHlsZXMuc2hhZG93T3BhY2l0eSxcbiAgICAgIHNoYWRvd1JhZGl1cyA9IHN0eWxlcy5zaGFkb3dSYWRpdXMsXG4gICAgICB0ZXh0U2hhZG93Q29sb3IgPSBzdHlsZXMudGV4dFNoYWRvd0NvbG9yLFxuICAgICAgdGV4dFNoYWRvd09mZnNldCA9IHN0eWxlcy50ZXh0U2hhZG93T2Zmc2V0LFxuICAgICAgdGV4dFNoYWRvd1JhZGl1cyA9IHN0eWxlcy50ZXh0U2hhZG93UmFkaXVzLFxuICAgICAgbmV4dFN0eWxlcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllc0xvb3NlKHN0eWxlcywgW1wic2hhZG93Q29sb3JcIiwgXCJzaGFkb3dPZmZzZXRcIiwgXCJzaGFkb3dPcGFjaXR5XCIsIFwic2hhZG93UmFkaXVzXCIsIFwidGV4dFNoYWRvd0NvbG9yXCIsIFwidGV4dFNoYWRvd09mZnNldFwiLCBcInRleHRTaGFkb3dSYWRpdXNcIl0pO1xuXG4gIGlmIChzaGFkb3dDb2xvciAhPSBudWxsIHx8IHNoYWRvd09mZnNldCAhPSBudWxsIHx8IHNoYWRvd09wYWNpdHkgIT0gbnVsbCB8fCBzaGFkb3dSYWRpdXMgIT0gbnVsbCkge1xuICAgIGJveFNoYWRvd1JlZHVjZXIobmV4dFN0eWxlcywgc3R5bGVzKTtcbiAgfVxuXG4gIGlmICh0ZXh0U2hhZG93Q29sb3IgIT0gbnVsbCB8fCB0ZXh0U2hhZG93T2Zmc2V0ICE9IG51bGwgfHwgdGV4dFNoYWRvd1JhZGl1cyAhPSBudWxsKSB7XG4gICAgdGV4dFNoYWRvd1JlZHVjZXIobmV4dFN0eWxlcywgc3R5bGVzKTtcbiAgfVxuXG4gIHJldHVybiBuZXh0U3R5bGVzO1xufTtcblxudmFyIF9kZWZhdWx0ID0gY3JlYXRlQ29tcGlsZWFibGVTdHlsZTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il0sIm1hcHBpbmdz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QUFLLEtBQUssQ0FBQyxJQUFJVyxNQUFNLEtBQUssQ0FBQyxDQUFDLElBQUlDLE9BQU8sSUFBSSxJQUFJLElBQUlDLE9BQU8sSUFBSSxJQUFJLElBQUlDLFVBQVUsSUFBSSxJQUFJLEVBQUU7SUFDdEhaLGFBQWEsQ0FBQ2MsVUFBVSxHQUFHSixPQUFPLEdBQUcsR0FBRyxHQUFHQyxPQUFPLEdBQUcsR0FBRyxHQUFHQyxVQUFVLEdBQUcsR0FBRyxHQUFHQyxLQUFLO0VBQ3JGO0FBQ0Y7QUFFQSxJQUFJRSxzQkFBc0IsR0FBRyxTQUFTQSxzQkFBc0JBLENBQUNDLE1BQU0sRUFBRTtFQUNuRSxJQUFJQyxXQUFXLEdBQUdELE1BQU0sQ0FBQ0MsV0FBVztJQUNoQ0MsWUFBWSxHQUFHRixNQUFNLENBQUNFLFlBQVk7SUFDbENDLGFBQWEsR0FBR0gsTUFBTSxDQUFDRyxhQUFhO0lBQ3BDQyxZQUFZLEdBQUdKLE1BQU0sQ0FBQ0ksWUFBWTtJQUNsQ2YsZUFBZSxHQUFHVyxNQUFNLENBQUNYLGVBQWU7SUFDeENDLGdCQUFnQixHQUFHVSxNQUFNLENBQUNWLGdCQUFnQjtJQUMxQ0MsZ0JBQWdCLEdBQUdTLE1BQU0sQ0FBQ1QsZ0JBQWdCO0lBQzFDYyxVQUFVLEdBQUdwQyw2QkFBNkIsQ0FBQytCLE1BQU0sRUFBRSxDQUFDLGFBQWEsRUFBRSxjQUFjLEVBQUUsZUFBZSxFQUFFLGNBQWMsRUFBRSxpQkFBaUIsRUFBRSxrQkFBa0IsRUFBRSxrQkFBa0IsQ0FBQyxDQUFDO0VBRW5MLElBQUlDLFdBQVcsSUFBSSxJQUFJLElBQUlDLFlBQVksSUFBSSxJQUFJLElBQUlDLGFBQWEsSUFBSSxJQUFJLElBQUlDLFlBQVksSUFBSSxJQUFJLEVBQUU7SUFDaEdyQixnQkFBZ0IsQ0FBQ3NCLFVBQVUsRUFBRUwsTUFBTSxDQUFDO0VBQ3RDO0VBRUEsSUFBSVgsZUFBZSxJQUFJLElBQUksSUFBSUMsZ0JBQWdCLElBQUksSUFBSSxJQUFJQyxnQkFBZ0IsSUFBSSxJQUFJLEVBQUU7SUFDbkZILGlCQUFpQixDQUFDaUIsVUFBVSxFQUFFTCxNQUFNLENBQUM7RUFDdkM7RUFFQSxPQUFPSyxVQUFVO0FBQ25CLENBQUM7QUFFRCxJQUFJQyxRQUFRLEdBQUdQLHNCQUFzQjtBQUNyQ3RDLE9BQU8sQ0FBQ0UsT0FBTyxHQUFHMkMsUUFBUTtBQUMxQkMsTUFBTSxDQUFDOUMsT0FBTyxHQUFHQSxPQUFPLENBQUNFLE9BQU8iLCJpZ25vcmVMaXN0IjpbXX0=