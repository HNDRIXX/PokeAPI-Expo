b11c87300ff0d4b2e5a934ff3615939b
"use strict";

exports.__esModule = true;
exports.default = void 0;
var _ExecutionEnvironment = require("fbjs/lib/ExecutionEnvironment");
var focusVisibleAttributeName = 'data-focusvisible-polyfill';
var rule = ":focus:not([" + focusVisibleAttributeName + "]){outline: none;}";
var modality = function modality(insertRule) {
  insertRule(rule);
  if (!_ExecutionEnvironment.canUseDOM) {
    return;
  }
  var hadKeyboardEvent = true;
  var hadFocusVisibleRecently = false;
  var hadFocusVisibleRecentlyTimeout = null;
  var inputTypesWhitelist = {
    text: true,
    search: true,
    url: true,
    tel: true,
    email: true,
    password: true,
    number: true,
    date: true,
    month: true,
    week: true,
    time: true,
    datetime: true,
    'datetime-local': true
  };
  function isValidFocusTarget(el) {
    if (el && el !== document && el.nodeName !== 'HTML' && el.nodeName !== 'BODY' && 'classList' in el && 'contains' in el.classList) {
      return true;
    }
    return false;
  }
  function focusTriggersKeyboardModality(el) {
    var type = el.type;
    var tagName = el.tagName;
    var isReadOnly = el.readOnly;
    if (tagName === 'INPUT' && inputTypesWhitelist[type] && !isReadOnly) {
      return true;
    }
    if (tagName === 'TEXTAREA' && !isReadOnly) {
      return true;
    }
    if (el.isContentEditable) {
      return true;
    }
    return false;
  }
  function addFocusVisibleAttribute(el) {
    if (el.hasAttribute(focusVisibleAttributeName)) {
      return;
    }
    el.setAttribute(focusVisibleAttributeName, true);
  }
  function removeFocusVisibleAttribute(el) {
    el.removeAttribute(focusVisibleAttributeName);
  }
  function removeAllFocusVisibleAttributes() {
    var list = document.querySelectorAll("[" + focusVisibleAttributeName + "]");
    for (var i = 0; i < list.length; i += 1) {
      removeFocusVisibleAttribute(list[i]);
    }
  }
  function onKeyDown(e) {
    if (e.key !== 'Tab' && (e.metaKey || e.altKey || e.ctrlKey || e.shiftKey)) {
      return;
    }
    if (isValidFocusTarget(document.activeElement)) {
      addFocusVisibleAttribute(document.activeElement);
    }
    hadKeyboardEvent = true;
  }
  function onPointerDown(e) {
    if (hadKeyboardEvent === true) {
      removeAllFocusVisibleAttributes();
    }
    hadKeyboardEvent = false;
  }
  function onFocus(e) {
    if (!isValidFocusTarget(e.target)) {
      return;
    }
    if (hadKeyboardEvent || focusTriggersKeyboardModality(e.target)) {
      addFocusVisibleAttribute(e.target);
    }
  }
  function onBlur(e) {
    if (!isValidFocusTarget(e.target)) {
      return;
    }
    if (e.target.hasAttribute(focusVisibleAttributeName)) {
      hadFocusVisibleRecently = true;
      window.clearTimeout(hadFocusVisibleRecentlyTimeout);
      hadFocusVisibleRecentlyTimeout = window.setTimeout(function () {
        hadFocusVisibleRecently = false;
        window.clearTimeout(hadFocusVisibleRecentlyTimeout);
      }, 100);
      removeFocusVisibleAttribute(e.target);
    }
  }
  function onVisibilityChange(e) {
    if (document.visibilityState === 'hidden') {
      if (hadFocusVisibleRecently) {
        hadKeyboardEvent = true;
      }
      addInitialPointerMoveListeners();
    }
  }
  function addInitialPointerMoveListeners() {
    document.addEventListener('mousemove', onInitialPointerMove);
    document.addEventListener('mousedown', onInitialPointerMove);
    document.addEventListener('mouseup', onInitialPointerMove);
    document.addEventListener('pointermove', onInitialPointerMove);
    document.addEventListener('pointerdown', onInitialPointerMove);
    document.addEventListener('pointerup', onInitialPointerMove);
    document.addEventListener('touchmove', onInitialPointerMove);
    document.addEventListener('touchstart', onInitialPointerMove);
    document.addEventListener('touchend', onInitialPointerMove);
  }
  function removeInitialPointerMoveListeners() {
    document.removeEventListener('mousemove', onInitialPointerMove);
    document.removeEventListener('mousedown', onInitialPointerMove);
    document.removeEventListener('mouseup', onInitialPointerMove);
    document.removeEventListener('pointermove', onInitialPointerMove);
    document.removeEventListener('pointerdown', onInitialPointerMove);
    document.removeEventListener('pointerup', onInitialPointerMove);
    document.removeEventListener('touchmove', onInitialPointerMove);
    document.removeEventListener('touchstart', onInitialPointerMove);
    document.removeEventListener('touchend', onInitialPointerMove);
  }
  function onInitialPointerMove(e) {
    if (e.target.nodeName === 'HTML') {
      return;
    }
    hadKeyboardEvent = false;
    removeInitialPointerMoveListeners();
  }
  document.addEventListener('keydown', onKeyDown, true);
  document.addEventListener('mousedown', onPointerDown, true);
  document.addEventListener('pointerdown', onPointerDown, true);
  document.addEventListener('touchstart', onPointerDown, true);
  document.addEventListener('focus', onFocus, true);
  document.addEventListener('blur', onBlur, true);
  document.addEventListener('visibilitychange', onVisibilityChange, true);
  addInitialPointerMoveListeners();
};
var _default = modality;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfRXhlY3V0aW9uRW52aXJvbm1lbnQiLCJyZXF1aXJlIiwiZm9jdXNWaXNpYmxlQXR0cmlidXRlTmFtZSIsInJ1bGUiLCJtb2RhbGl0eSIsImluc2VydFJ1bGUiLCJjYW5Vc2VET00iLCJoYWRLZXlib2FyZEV2ZW50IiwiaGFkRm9jdXNWaXNpYmxlUmVjZW50bHkiLCJoYWRGb2N1c1Zpc2libGVSZWNlbnRseVRpbWVvdXQiLCJpbnB1dFR5cGVzV2hpdGVsaXN0IiwidGV4dCIsInNlYXJjaCIsInVybCIsInRlbCIsImVtYWlsIiwicGFzc3dvcmQiLCJudW1iZXIiLCJkYXRlIiwibW9udGgiLCJ3ZWVrIiwidGltZSIsImRhdGV0aW1lIiwiaXNWYWxpZEZvY3VzVGFyZ2V0IiwiZWwiLCJkb2N1bWVudCIsIm5vZGVOYW1lIiwiY2xhc3NMaXN0IiwiZm9jdXNUcmlnZ2Vyc0tleWJvYXJkTW9kYWxpdHkiLCJ0eXBlIiwidGFnTmFtZSIsImlzUmVhZE9ubHkiLCJyZWFkT25seSIsImlzQ29udGVudEVkaXRhYmxlIiwiYWRkRm9jdXNWaXNpYmxlQXR0cmlidXRlIiwiaGFzQXR0cmlidXRlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlRm9jdXNWaXNpYmxlQXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwicmVtb3ZlQWxsRm9jdXNWaXNpYmxlQXR0cmlidXRlcyIsImxpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwiaSIsImxlbmd0aCIsIm9uS2V5RG93biIsImUiLCJrZXkiLCJtZXRhS2V5IiwiYWx0S2V5IiwiY3RybEtleSIsInNoaWZ0S2V5IiwiYWN0aXZlRWxlbWVudCIsIm9uUG9pbnRlckRvd24iLCJvbkZvY3VzIiwidGFyZ2V0Iiwib25CbHVyIiwid2luZG93IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsIm9uVmlzaWJpbGl0eUNoYW5nZSIsInZpc2liaWxpdHlTdGF0ZSIsImFkZEluaXRpYWxQb2ludGVyTW92ZUxpc3RlbmVycyIsImFkZEV2ZW50TGlzdGVuZXIiLCJvbkluaXRpYWxQb2ludGVyTW92ZSIsInJlbW92ZUluaXRpYWxQb2ludGVyTW92ZUxpc3RlbmVycyIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJfZGVmYXVsdCIsIm1vZHVsZSJdLCJzb3VyY2VzIjpbIm1vZGFsaXR5LmpzIl0sInNvdXJjZXNDb250ZW50IjpbIlwidXNlIHN0cmljdFwiO1xuXG5leHBvcnRzLl9fZXNNb2R1bGUgPSB0cnVlO1xuZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwO1xuXG52YXIgX0V4ZWN1dGlvbkVudmlyb25tZW50ID0gcmVxdWlyZShcImZianMvbGliL0V4ZWN1dGlvbkVudmlyb25tZW50XCIpO1xuXG4vKipcbiAqIEFkYXB0cyBmb2N1cyBzdHlsZXMgYmFzZWQgb24gdGhlIHVzZXIncyBhY3RpdmUgaW5wdXQgbW9kYWxpdHkgKGkuZS4sIGhvd1xuICogdGhleSBhcmUgaW50ZXJhY3Rpbmcgd2l0aCB0aGUgVUkgcmlnaHQgbm93KS5cbiAqXG4gKiBGb2N1cyBzdHlsZXMgYXJlIG9ubHkgcmVsZXZhbnQgd2hlbiB1c2luZyB0aGUga2V5Ym9hcmQgdG8gaW50ZXJhY3Qgd2l0aCB0aGVcbiAqIHBhZ2UuIElmIHdlIG9ubHkgc2hvdyB0aGUgZm9jdXMgcmluZyB3aGVuIHJlbGV2YW50LCB3ZSBjYW4gYXZvaWQgdXNlclxuICogY29uZnVzaW9uIHdpdGhvdXQgY29tcHJvbWlzaW5nIGFjY2Vzc2liaWxpdHkuXG4gKlxuICogVGhlIHNjcmlwdCB1c2VzIHR3byBoZXVyaXN0aWNzIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZSBrZXlib2FyZCBpcyBiZWluZyB1c2VkOlxuICpcbiAqIDEuIGEga2V5ZG93biBldmVudCBvY2N1cnJlZCBpbW1lZGlhdGVseSBiZWZvcmUgYSBmb2N1cyBldmVudDtcbiAqIDIuIGEgZm9jdXMgZXZlbnQgaGFwcGVuZWQgb24gYW4gZWxlbWVudCB3aGljaCByZXF1aXJlcyBrZXlib2FyZCBpbnRlcmFjdGlvbiAoZS5nLiwgYSB0ZXh0IGZpZWxkKTtcbiAqXG4gKiBUaGlzIHNvZnR3YXJlIG9yIGRvY3VtZW50IGluY2x1ZGVzIG1hdGVyaWFsIGNvcGllZCBmcm9tIG9yIGRlcml2ZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vV0lDRy9mb2N1cy12aXNpYmxlLlxuICogQ29weXJpZ2h0IMKpIDIwMTggVzNDwq4gKE1JVCwgRVJDSU0sIEtlaW8sIEJlaWhhbmcpLlxuICogVzNDIFNvZnR3YXJlIE5vdGljZSBhbmQgTGljZW5zZTogaHR0cHM6Ly93d3cudzMub3JnL0NvbnNvcnRpdW0vTGVnYWwvMjAxNS9jb3B5cmlnaHQtc29mdHdhcmUtYW5kLWRvY3VtZW50XG4gKlxuICogXG4gKi9cbnZhciBmb2N1c1Zpc2libGVBdHRyaWJ1dGVOYW1lID0gJ2RhdGEtZm9jdXN2aXNpYmxlLXBvbHlmaWxsJztcbnZhciBydWxlID0gXCI6Zm9jdXM6bm90KFtcIiArIGZvY3VzVmlzaWJsZUF0dHJpYnV0ZU5hbWUgKyBcIl0pe291dGxpbmU6IG5vbmU7fVwiO1xuXG52YXIgbW9kYWxpdHkgPSBmdW5jdGlvbiBtb2RhbGl0eShpbnNlcnRSdWxlKSB7XG4gIGluc2VydFJ1bGUocnVsZSk7XG5cbiAgaWYgKCFfRXhlY3V0aW9uRW52aXJvbm1lbnQuY2FuVXNlRE9NKSB7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgdmFyIGhhZEtleWJvYXJkRXZlbnQgPSB0cnVlO1xuICB2YXIgaGFkRm9jdXNWaXNpYmxlUmVjZW50bHkgPSBmYWxzZTtcbiAgdmFyIGhhZEZvY3VzVmlzaWJsZVJlY2VudGx5VGltZW91dCA9IG51bGw7XG4gIHZhciBpbnB1dFR5cGVzV2hpdGVsaXN0ID0ge1xuICAgIHRleHQ6IHRydWUsXG4gICAgc2VhcmNoOiB0cnVlLFxuICAgIHVybDogdHJ1ZSxcbiAgICB0ZWw6IHRydWUsXG4gICAgZW1haWw6IHRydWUsXG4gICAgcGFzc3dvcmQ6IHRydWUsXG4gICAgbnVtYmVyOiB0cnVlLFxuICAgIGRhdGU6IHRydWUsXG4gICAgbW9udGg6IHRydWUsXG4gICAgd2VlazogdHJ1ZSxcbiAgICB0aW1lOiB0cnVlLFxuICAgIGRhdGV0aW1lOiB0cnVlLFxuICAgICdkYXRldGltZS1sb2NhbCc6IHRydWVcbiAgfTtcbiAgLyoqXG4gICAqIEhlbHBlciBmdW5jdGlvbiBmb3IgbGVnYWN5IGJyb3dzZXJzIGFuZCBpZnJhbWVzIHdoaWNoIHNvbWV0aW1lcyBmb2N1c1xuICAgKiBlbGVtZW50cyBsaWtlIGRvY3VtZW50LCBib2R5LCBhbmQgbm9uLWludGVyYWN0aXZlIFNWRy5cbiAgICovXG5cbiAgZnVuY3Rpb24gaXNWYWxpZEZvY3VzVGFyZ2V0KGVsKSB7XG4gICAgaWYgKGVsICYmIGVsICE9PSBkb2N1bWVudCAmJiBlbC5ub2RlTmFtZSAhPT0gJ0hUTUwnICYmIGVsLm5vZGVOYW1lICE9PSAnQk9EWScgJiYgJ2NsYXNzTGlzdCcgaW4gZWwgJiYgJ2NvbnRhaW5zJyBpbiBlbC5jbGFzc0xpc3QpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQ29tcHV0ZXMgd2hldGhlciB0aGUgZ2l2ZW4gZWxlbWVudCBzaG91bGQgYXV0b21hdGljYWxseSB0cmlnZ2VyIHRoZVxuICAgKiBgZm9jdXMtdmlzaWJsZWAgYXR0cmlidXRlIGJlaW5nIGFkZGVkLCBpLmUuIHdoZXRoZXIgaXQgc2hvdWxkIGFsd2F5cyBtYXRjaFxuICAgKiBgOmZvY3VzLXZpc2libGVgIHdoZW4gZm9jdXNlZC5cbiAgICovXG5cblxuICBmdW5jdGlvbiBmb2N1c1RyaWdnZXJzS2V5Ym9hcmRNb2RhbGl0eShlbCkge1xuICAgIHZhciB0eXBlID0gZWwudHlwZTtcbiAgICB2YXIgdGFnTmFtZSA9IGVsLnRhZ05hbWU7XG4gICAgdmFyIGlzUmVhZE9ubHkgPSBlbC5yZWFkT25seTtcblxuICAgIGlmICh0YWdOYW1lID09PSAnSU5QVVQnICYmIGlucHV0VHlwZXNXaGl0ZWxpc3RbdHlwZV0gJiYgIWlzUmVhZE9ubHkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIGlmICh0YWdOYW1lID09PSAnVEVYVEFSRUEnICYmICFpc1JlYWRPbmx5KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoZWwuaXNDb250ZW50RWRpdGFibGUpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogQWRkIHRoZSBgZm9jdXMtdmlzaWJsZWAgYXR0cmlidXRlIHRvIHRoZSBnaXZlbiBlbGVtZW50IGlmIGl0IHdhcyBub3QgYWRkZWQgYnlcbiAgICogdGhlIGF1dGhvci5cbiAgICovXG5cblxuICBmdW5jdGlvbiBhZGRGb2N1c1Zpc2libGVBdHRyaWJ1dGUoZWwpIHtcbiAgICBpZiAoZWwuaGFzQXR0cmlidXRlKGZvY3VzVmlzaWJsZUF0dHJpYnV0ZU5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgZWwuc2V0QXR0cmlidXRlKGZvY3VzVmlzaWJsZUF0dHJpYnV0ZU5hbWUsIHRydWUpO1xuICB9XG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGBmb2N1cy12aXNpYmxlYCBhdHRyaWJ1dGUgZnJvbSB0aGUgZ2l2ZW4gZWxlbWVudCBpZiBpdCB3YXMgbm90XG4gICAqIG9yaWdpbmFsbHkgYWRkZWQgYnkgdGhlIGF1dGhvci5cbiAgICovXG5cblxuICBmdW5jdGlvbiByZW1vdmVGb2N1c1Zpc2libGVBdHRyaWJ1dGUoZWwpIHtcbiAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoZm9jdXNWaXNpYmxlQXR0cmlidXRlTmFtZSk7XG4gIH1cbiAgLyoqXG4gICAqIFJlbW92ZSB0aGUgYGZvY3VzLXZpc2libGVgIGF0dHJpYnV0ZSBmcm9tIGFsbCBlbGVtZW50cyBpbiB0aGUgZG9jdW1lbnQuXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsRm9jdXNWaXNpYmxlQXR0cmlidXRlcygpIHtcbiAgICB2YXIgbGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJbXCIgKyBmb2N1c1Zpc2libGVBdHRyaWJ1dGVOYW1lICsgXCJdXCIpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICByZW1vdmVGb2N1c1Zpc2libGVBdHRyaWJ1dGUobGlzdFtpXSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBUcmVhdCBga2V5ZG93bmAgYXMgYSBzaWduYWwgdGhhdCB0aGUgdXNlciBpcyBpbiBrZXlib2FyZCBtb2RhbGl0eS5cbiAgICogQXBwbHkgYGZvY3VzLXZpc2libGVgIHRvIGFueSBjdXJyZW50IGFjdGl2ZSBlbGVtZW50IGFuZCBrZWVwIHRyYWNrXG4gICAqIG9mIG91ciBrZXlib2FyZCBtb2RhbGl0eSBzdGF0ZSB3aXRoIGBoYWRLZXlib2FyZEV2ZW50YC5cbiAgICovXG5cblxuICBmdW5jdGlvbiBvbktleURvd24oZSkge1xuICAgIGlmIChlLmtleSAhPT0gJ1RhYicgJiYgKGUubWV0YUtleSB8fCBlLmFsdEtleSB8fCBlLmN0cmxLZXkgfHwgZS5zaGlmdEtleSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoaXNWYWxpZEZvY3VzVGFyZ2V0KGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG4gICAgICBhZGRGb2N1c1Zpc2libGVBdHRyaWJ1dGUoZG9jdW1lbnQuYWN0aXZlRWxlbWVudCk7XG4gICAgfVxuXG4gICAgaGFkS2V5Ym9hcmRFdmVudCA9IHRydWU7XG4gIH1cbiAgLyoqXG4gICAqIElmIGF0IGFueSBwb2ludCBhIHVzZXIgY2xpY2tzIHdpdGggYSBwb2ludGluZyBkZXZpY2UsIGVuc3VyZSB0aGF0IHdlIGNoYW5nZVxuICAgKiB0aGUgbW9kYWxpdHkgYXdheSBmcm9tIGtleWJvYXJkLlxuICAgKiBUaGlzIGF2b2lkcyB0aGUgc2l0dWF0aW9uIHdoZXJlIGEgdXNlciBwcmVzc2VzIGEga2V5IG9uIGFuIGFscmVhZHkgZm9jdXNlZFxuICAgKiBlbGVtZW50LCBhbmQgdGhlbiBjbGlja3Mgb24gYSBkaWZmZXJlbnQgZWxlbWVudCwgZm9jdXNpbmcgaXQgd2l0aCBhXG4gICAqIHBvaW50aW5nIGRldmljZSwgd2hpbGUgd2Ugc3RpbGwgdGhpbmsgd2UncmUgaW4ga2V5Ym9hcmQgbW9kYWxpdHkuXG4gICAqIEl0IGFsc28gYXZvaWRzIHRoZSBzaXR1YXRpb24gd2hlcmUgYSB1c2VyIHByZXNzZXMgb24gYW4gZWxlbWVudCB3aXRoaW4gYVxuICAgKiBwcmV2aW91c2x5IGtleWJvYXJkLWZvY3VzZWQgZWxlbWVudCAoaS5lLiwgYGUudGFyZ2V0YCBpcyBub3QgdGhlIHByZXZpb3VzbHlcbiAgICogZm9jdXNlZCBlbGVtZW50LCBidXQgb25lIG9mIGl0cyBkZXNjZW5kYW50cykgYW5kIHdlIG5lZWQgdG8gcmVtb3ZlIHRoZVxuICAgKiBmb2N1cyByaW5nIGJlY2F1c2UgYSBgYmx1cmAgZXZlbnQgZG9lc24ndCBvY2N1ci5cbiAgICovXG5cblxuICBmdW5jdGlvbiBvblBvaW50ZXJEb3duKGUpIHtcbiAgICBpZiAoaGFkS2V5Ym9hcmRFdmVudCA9PT0gdHJ1ZSkge1xuICAgICAgcmVtb3ZlQWxsRm9jdXNWaXNpYmxlQXR0cmlidXRlcygpO1xuICAgIH1cblxuICAgIGhhZEtleWJvYXJkRXZlbnQgPSBmYWxzZTtcbiAgfVxuICAvKipcbiAgICogT24gYGZvY3VzYCwgYWRkIHRoZSBgZm9jdXMtdmlzaWJsZWAgYXR0cmlidXRlIHRvIHRoZSB0YXJnZXQgaWY6XG4gICAqIC0gdGhlIHRhcmdldCByZWNlaXZlZCBmb2N1cyBhcyBhIHJlc3VsdCBvZiBrZXlib2FyZCBuYXZpZ2F0aW9uLCBvclxuICAgKiAtIHRoZSBldmVudCB0YXJnZXQgaXMgYW4gZWxlbWVudCB0aGF0IHdpbGwgbGlrZWx5IHJlcXVpcmUgaW50ZXJhY3Rpb25cbiAgICogICB2aWEgdGhlIGtleWJvYXJkIChlLmcuIGEgdGV4dCBib3gpXG4gICAqL1xuXG5cbiAgZnVuY3Rpb24gb25Gb2N1cyhlKSB7XG4gICAgLy8gUHJldmVudCBJRSBmcm9tIGZvY3VzaW5nIHRoZSBkb2N1bWVudCBvciBIVE1MIGVsZW1lbnQuXG4gICAgaWYgKCFpc1ZhbGlkRm9jdXNUYXJnZXQoZS50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGhhZEtleWJvYXJkRXZlbnQgfHwgZm9jdXNUcmlnZ2Vyc0tleWJvYXJkTW9kYWxpdHkoZS50YXJnZXQpKSB7XG4gICAgICBhZGRGb2N1c1Zpc2libGVBdHRyaWJ1dGUoZS50YXJnZXQpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogT24gYGJsdXJgLCByZW1vdmUgdGhlIGBmb2N1cy12aXNpYmxlYCBhdHRyaWJ1dGUgZnJvbSB0aGUgdGFyZ2V0LlxuICAgKi9cblxuXG4gIGZ1bmN0aW9uIG9uQmx1cihlKSB7XG4gICAgaWYgKCFpc1ZhbGlkRm9jdXNUYXJnZXQoZS50YXJnZXQpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGUudGFyZ2V0Lmhhc0F0dHJpYnV0ZShmb2N1c1Zpc2libGVBdHRyaWJ1dGVOYW1lKSkge1xuICAgICAgLy8gVG8gZGV0ZWN0IGEgdGFiL3dpbmRvdyBzd2l0Y2gsIHdlIGxvb2sgZm9yIGEgYmx1ciBldmVudCBmb2xsb3dlZFxuICAgICAgLy8gcmFwaWRseSBieSBhIHZpc2liaWxpdHkgY2hhbmdlLlxuICAgICAgLy8gSWYgd2UgZG9uJ3Qgc2VlIGEgdmlzaWJpbGl0eSBjaGFuZ2Ugd2l0aGluIDEwMG1zLCBpdCdzIHByb2JhYmx5IGFcbiAgICAgIC8vIHJlZ3VsYXIgZm9jdXMgY2hhbmdlLlxuICAgICAgaGFkRm9jdXNWaXNpYmxlUmVjZW50bHkgPSB0cnVlO1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChoYWRGb2N1c1Zpc2libGVSZWNlbnRseVRpbWVvdXQpO1xuICAgICAgaGFkRm9jdXNWaXNpYmxlUmVjZW50bHlUaW1lb3V0ID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICBoYWRGb2N1c1Zpc2libGVSZWNlbnRseSA9IGZhbHNlO1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGhhZEZvY3VzVmlzaWJsZVJlY2VudGx5VGltZW91dCk7XG4gICAgICB9LCAxMDApO1xuICAgICAgcmVtb3ZlRm9jdXNWaXNpYmxlQXR0cmlidXRlKGUudGFyZ2V0KTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIElmIHRoZSB1c2VyIGNoYW5nZXMgdGFicywga2VlcCB0cmFjayBvZiB3aGV0aGVyIG9yIG5vdCB0aGUgcHJldmlvdXNseVxuICAgKiBmb2N1c2VkIGVsZW1lbnQgaGFkIHRoZSBmb2N1cy12aXNpYmxlIGF0dHJpYnV0ZS5cbiAgICovXG5cblxuICBmdW5jdGlvbiBvblZpc2liaWxpdHlDaGFuZ2UoZSkge1xuICAgIGlmIChkb2N1bWVudC52aXNpYmlsaXR5U3RhdGUgPT09ICdoaWRkZW4nKSB7XG4gICAgICAvLyBJZiB0aGUgdGFiIGJlY29tZXMgYWN0aXZlIGFnYWluLCB0aGUgYnJvd3NlciB3aWxsIGhhbmRsZSBjYWxsaW5nIGZvY3VzXG4gICAgICAvLyBvbiB0aGUgZWxlbWVudCAoU2FmYXJpIGFjdHVhbGx5IGNhbGxzIGl0IHR3aWNlKS5cbiAgICAgIC8vIElmIHRoaXMgdGFiIGNoYW5nZSBjYXVzZWQgYSBibHVyIG9uIGFuIGVsZW1lbnQgd2l0aCBmb2N1cy12aXNpYmxlLFxuICAgICAgLy8gcmUtYXBwbHkgdGhlIGF0dHJpYnV0ZSB3aGVuIHRoZSB1c2VyIHN3aXRjaGVzIGJhY2sgdG8gdGhlIHRhYi5cbiAgICAgIGlmIChoYWRGb2N1c1Zpc2libGVSZWNlbnRseSkge1xuICAgICAgICBoYWRLZXlib2FyZEV2ZW50ID0gdHJ1ZTtcbiAgICAgIH1cblxuICAgICAgYWRkSW5pdGlhbFBvaW50ZXJNb3ZlTGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBZGQgYSBncm91cCBvZiBsaXN0ZW5lcnMgdG8gZGV0ZWN0IHVzYWdlIG9mIGFueSBwb2ludGluZyBkZXZpY2VzLlxuICAgKiBUaGVzZSBsaXN0ZW5lcnMgd2lsbCBiZSBhZGRlZCB3aGVuIHRoZSBwb2x5ZmlsbCBmaXJzdCBsb2FkcywgYW5kIGFueXRpbWVcbiAgICogdGhlIHdpbmRvdyBpcyBibHVycmVkLCBzbyB0aGF0IHRoZXkgYXJlIGFjdGl2ZSB3aGVuIHRoZSB3aW5kb3cgcmVnYWluc1xuICAgKiBmb2N1cy5cbiAgICovXG5cblxuICBmdW5jdGlvbiBhZGRJbml0aWFsUG9pbnRlck1vdmVMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vtb3ZlJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJtb3ZlJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJkb3duJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ3BvaW50ZXJ1cCcsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaG1vdmUnLCBvbkluaXRpYWxQb2ludGVyTW92ZSk7XG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCd0b3VjaGVuZCcsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlbW92ZUluaXRpYWxQb2ludGVyTW92ZUxpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBvbkluaXRpYWxQb2ludGVyTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBvbkluaXRpYWxQb2ludGVyTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcm1vdmUnLCBvbkluaXRpYWxQb2ludGVyTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvbkluaXRpYWxQb2ludGVyTW92ZSk7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncG9pbnRlcnVwJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIG9uSW5pdGlhbFBvaW50ZXJNb3ZlKTtcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0Jywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgb25Jbml0aWFsUG9pbnRlck1vdmUpO1xuICB9XG4gIC8qKlxuICAgKiBXaGVuIHRoZSBwb2xmeWlsbCBmaXJzdCBsb2FkcywgYXNzdW1lIHRoZSB1c2VyIGlzIGluIGtleWJvYXJkIG1vZGFsaXR5LlxuICAgKiBJZiBhbnkgZXZlbnQgaXMgcmVjZWl2ZWQgZnJvbSBhIHBvaW50aW5nIGRldmljZSAoZS5nLiBtb3VzZSwgcG9pbnRlcixcbiAgICogdG91Y2gpLCB0dXJuIG9mZiBrZXlib2FyZCBtb2RhbGl0eS5cbiAgICogVGhpcyBhY2NvdW50cyBmb3Igc2l0dWF0aW9ucyB3aGVyZSBmb2N1cyBlbnRlcnMgdGhlIHBhZ2UgZnJvbSB0aGUgVVJMIGJhci5cbiAgICovXG5cblxuICBmdW5jdGlvbiBvbkluaXRpYWxQb2ludGVyTW92ZShlKSB7XG4gICAgLy8gV29yayBhcm91bmQgYSBTYWZhcmkgcXVpcmsgdGhhdCBmaXJlcyBhIG1vdXNlbW92ZSBvbiA8aHRtbD4gd2hlbmV2ZXIgdGhlXG4gICAgLy8gd2luZG93IGJsdXJzLCBldmVuIGlmIHlvdSdyZSB0YWJiaW5nIG91dCBvZiB0aGUgcGFnZS4gwq9cXF8o44OEKV8vwq9cbiAgICBpZiAoZS50YXJnZXQubm9kZU5hbWUgPT09ICdIVE1MJykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGhhZEtleWJvYXJkRXZlbnQgPSBmYWxzZTtcbiAgICByZW1vdmVJbml0aWFsUG9pbnRlck1vdmVMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBvbktleURvd24sIHRydWUpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBvblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigncG9pbnRlcmRvd24nLCBvblBvaW50ZXJEb3duLCB0cnVlKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hzdGFydCcsIG9uUG9pbnRlckRvd24sIHRydWUpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdmb2N1cycsIG9uRm9jdXMsIHRydWUpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdibHVyJywgb25CbHVyLCB0cnVlKTtcbiAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigndmlzaWJpbGl0eWNoYW5nZScsIG9uVmlzaWJpbGl0eUNoYW5nZSwgdHJ1ZSk7XG4gIGFkZEluaXRpYWxQb2ludGVyTW92ZUxpc3RlbmVycygpO1xufTtcblxudmFyIF9kZWZhdWx0ID0gbW9kYWxpdHk7XG5leHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDtcbm1vZHVsZS5leHBvcnRzID0gZXhwb3J0cy5kZWZhdWx0OyJdLCJtYXBwaW5ncyI6IkFBQUEsWUFBWTs7QUFFWkEsT0FBTyxDQUFDQyxVQUFVLEdBQUcsSUFBSTtBQUN6QkQsT0FBTyxDQUFDRSxPQUFPLEdBQUcsS0FBSyxDQUFDO0FBRXhCLElBQUlDLHFCQUFxQixHQUFHQyxPQUFPLENBQUMsK0JBQStCLENBQUM7QUFxQnBFLElBQUlDLHlCQUF5QixHQUFHLDRCQUE0QjtBQUM1RCxJQUFJQyxJQUFJLEdBQUcsY0FBYyxHQUFHRCx5QkFBeUIsR0FBRyxvQkFBb0I7QUFFNUUsSUFBSUUsUUFBUSxHQUFHLFNBQVNBLFFBQVFBLENBQUNDLFVBQVUsRUFBRTtFQUMzQ0EsVUFBVSxDQUFDRixJQUFJLENBQUM7RUFFaEIsSUFBSSxDQUFDSCxxQkFBcUIsQ0FBQ00sU0FBUyxFQUFFO0lBQ3BDO0VBQ0Y7RUFFQSxJQUFJQyxnQkFBZ0IsR0FBRyxJQUFJO0VBQzNCLElBQUlDLHVCQUF1QixHQUFHLEtBQUs7RUFDbkMsSUFBSUMsOEJBQThCLEdBQUcsSUFBSTtFQUN6QyxJQUFJQyxtQkFBbUIsR0FBRztJQUN4QkMsSUFBSSxFQUFFLElBQUk7SUFDVkMsTUFBTSxFQUFFLElBQUk7SUFDWkMsR0FBRyxFQUFFLElBQUk7SUFDVEMsR0FBRyxFQUFFLElBQUk7SUFDVEMsS0FBSyxFQUFFLElBQUk7SUFDWEMsUUFBUSxFQUFFLElBQUk7SUFDZEMsTUFBTSxFQUFFLElBQUk7SUFDWkMsSUFBSSxFQUFFLElBQUk7SUFDVkMsS0FBSyxFQUFFLElBQUk7SUFDWEMsSUFBSSxFQUFFLElBQUk7SUFDVkMsSUFBSSxFQUFFLElBQUk7SUFDVkMsUUFBUSxFQUFFLElBQUk7SUFDZCxnQkFBZ0IsRUFBRTtFQUNwQixDQUFDO0VBTUQsU0FBU0Msa0JBQWtCQSxDQUFDQyxFQUFFLEVBQUU7SUFDOUIsSUFBSUEsRUFBRSxJQUFJQSxFQUFFLEtBQUtDLFFBQVEsSUFBSUQsRUFBRSxD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