473ae402e932f4c980325224041833f1
"use strict";

exports.__esModule = true;
exports.default = void 0;
var _ExecutionEnvironment = require("fbjs/lib/ExecutionEnvironment");
function getQuery() {
  return _ExecutionEnvironment.canUseDOM && window.matchMedia != null ? window.matchMedia('(prefers-color-scheme: dark)') : null;
}
var query = getQuery();
var listenerMapping = new WeakMap();
var Appearance = {
  getColorScheme: function getColorScheme() {
    return query && query.matches ? 'dark' : 'light';
  },
  addChangeListener: function addChangeListener(listener) {
    var mappedListener = listenerMapping.get(listener);
    if (!mappedListener) {
      mappedListener = function mappedListener(_ref) {
        var matches = _ref.matches;
        listener({
          colorScheme: matches ? 'dark' : 'light'
        });
      };
      listenerMapping.set(listener, mappedListener);
    }
    if (query) {
      query.addListener(mappedListener);
    }
  },
  removeChangeListener: function removeChangeListener(listener) {
    var mappedListener = listenerMapping.get(listener);
    if (mappedListener) {
      if (query) {
        query.removeListener(mappedListener);
      }
      listenerMapping.delete(listener);
    }
  }
};
var _default = Appearance;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfRXhlY3V0aW9uRW52aXJvbm1lbnQiLCJyZXF1aXJlIiwiZ2V0UXVlcnkiLCJjYW5Vc2VET00iLCJ3aW5kb3ciLCJtYXRjaE1lZGlhIiwicXVlcnkiLCJsaXN0ZW5lck1hcHBpbmciLCJXZWFrTWFwIiwiQXBwZWFyYW5jZSIsImdldENvbG9yU2NoZW1lIiwibWF0Y2hlcyIsImFkZENoYW5nZUxpc3RlbmVyIiwibGlzdGVuZXIiLCJtYXBwZWRMaXN0ZW5lciIsImdldCIsIl9yZWYiLCJjb2xvclNjaGVtZSIsInNldCIsImFkZExpc3RlbmVyIiwicmVtb3ZlQ2hhbmdlTGlzdGVuZXIiLCJyZW1vdmVMaXN0ZW5lciIsImRlbGV0ZSIsIl9kZWZhdWx0IiwibW9kdWxlIl0sInNvdXJjZXMiOlsiaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbmV4cG9ydHMuX19lc01vZHVsZSA9IHRydWU7XG5leHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7XG5cbnZhciBfRXhlY3V0aW9uRW52aXJvbm1lbnQgPSByZXF1aXJlKFwiZmJqcy9saWIvRXhlY3V0aW9uRW52aXJvbm1lbnRcIik7XG5cbi8qKlxuICogQ29weXJpZ2h0IChjKSBOaWNvbGFzIEdhbGxhZ2hlci5cbiAqIENvcHlyaWdodCAoYykgRmFjZWJvb2ssIEluYy4gYW5kIGl0cyBhZmZpbGlhdGVzLlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICpcbiAqIFxuICovXG5mdW5jdGlvbiBnZXRRdWVyeSgpIHtcbiAgcmV0dXJuIF9FeGVjdXRpb25FbnZpcm9ubWVudC5jYW5Vc2VET00gJiYgd2luZG93Lm1hdGNoTWVkaWEgIT0gbnVsbCA/IHdpbmRvdy5tYXRjaE1lZGlhKCcocHJlZmVycy1jb2xvci1zY2hlbWU6IGRhcmspJykgOiBudWxsO1xufVxuXG52YXIgcXVlcnkgPSBnZXRRdWVyeSgpO1xudmFyIGxpc3RlbmVyTWFwcGluZyA9IG5ldyBXZWFrTWFwKCk7XG52YXIgQXBwZWFyYW5jZSA9IHtcbiAgZ2V0Q29sb3JTY2hlbWU6IGZ1bmN0aW9uIGdldENvbG9yU2NoZW1lKCkge1xuICAgIHJldHVybiBxdWVyeSAmJiBxdWVyeS5tYXRjaGVzID8gJ2RhcmsnIDogJ2xpZ2h0JztcbiAgfSxcbiAgYWRkQ2hhbmdlTGlzdGVuZXI6IGZ1bmN0aW9uIGFkZENoYW5nZUxpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgdmFyIG1hcHBlZExpc3RlbmVyID0gbGlzdGVuZXJNYXBwaW5nLmdldChsaXN0ZW5lcik7XG5cbiAgICBpZiAoIW1hcHBlZExpc3RlbmVyKSB7XG4gICAgICBtYXBwZWRMaXN0ZW5lciA9IGZ1bmN0aW9uIG1hcHBlZExpc3RlbmVyKF9yZWYpIHtcbiAgICAgICAgdmFyIG1hdGNoZXMgPSBfcmVmLm1hdGNoZXM7XG4gICAgICAgIGxpc3RlbmVyKHtcbiAgICAgICAgICBjb2xvclNjaGVtZTogbWF0Y2hlcyA/ICdkYXJrJyA6ICdsaWdodCdcbiAgICAgICAgfSk7XG4gICAgICB9O1xuXG4gICAgICBsaXN0ZW5lck1hcHBpbmcuc2V0KGxpc3RlbmVyLCBtYXBwZWRMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgaWYgKHF1ZXJ5KSB7XG4gICAgICBxdWVyeS5hZGRMaXN0ZW5lcihtYXBwZWRMaXN0ZW5lcik7XG4gICAgfVxuICB9LFxuICByZW1vdmVDaGFuZ2VMaXN0ZW5lcjogZnVuY3Rpb24gcmVtb3ZlQ2hhbmdlTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICB2YXIgbWFwcGVkTGlzdGVuZXIgPSBsaXN0ZW5lck1hcHBpbmcuZ2V0KGxpc3RlbmVyKTtcblxuICAgIGlmIChtYXBwZWRMaXN0ZW5lcikge1xuICAgICAgaWYgKHF1ZXJ5KSB7XG4gICAgICAgIHF1ZXJ5LnJlbW92ZUxpc3RlbmVyKG1hcHBlZExpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJNYXBwaW5nLmRlbGV0ZShsaXN0ZW5lcik7XG4gICAgfVxuICB9XG59O1xudmFyIF9kZWZhdWx0ID0gQXBwZWFyYW5jZTtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il0sIm1hcHBpbmdzIjoiQUFBQSxZQUFZOztBQUVaQSxPQUFPLENBQUNDLFVBQVUsR0FBRyxJQUFJO0FBQ3pCRCxPQUFPLENBQUNFLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFFeEIsSUFBSUMscUJBQXFCLEdBQUdDLE9BQU8sQ0FBQywrQkFBK0IsQ0FBQztBQVdwRSxTQUFTQyxRQUFRQSxDQUFBLEVBQUc7RUFDbEIsT0FBT0YscUJBQXFCLENBQUNHLFNBQVMsSUFBSUMsTUFBTSxDQUFDQyxVQUFVLElBQUksSUFBSSxHQUFHRCxNQUFNLENBQUNDLFVBQVUsQ0FBQyw4QkFBOEIsQ0FBQyxHQUFHLElBQUk7QUFDaEk7QUFFQSxJQUFJQyxLQUFLLEdBQUdKLFFBQVEsQ0FBQyxDQUFDO0FBQ3RCLElBQUlLLGVBQWUsR0FBRyxJQUFJQyxPQUFPLENBQUMsQ0FBQztBQUNuQyxJQUFJQyxVQUFVLEdBQUc7RUFDZkMsY0FBYyxFQUFFLFNBQVNBLGNBQWNBLENBQUEsRUFBRztJQUN4QyxPQUFPSixLQUFLLElBQUlBLEtBQUssQ0FBQ0ssT0FBTyxHQUFHLE1BQU0sR0FBRyxPQUFPO0VBQ2xELENBQUM7RUFDREMsaUJBQWlCLEVBQUUsU0FBU0EsaUJBQWlCQSxDQUFDQyxRQUFRLEVBQUU7SUFDdEQsSUFBSUMsY0FBYyxHQUFHUCxlQUFlLENBQUNRLEdBQUcsQ0FBQ0YsUUFBUSxDQUFDO0lBRWxELElBQUksQ0FBQ0MsY0FBYyxFQUFFO01BQ25CQSxjQUFjLEdBQUcsU0FBU0EsY0FBY0EsQ0FBQ0UsSUFBSSxFQUFFO1FBQzdDLElBQUlMLE9BQU8sR0FBR0ssSUFBSSxDQUFDTCxPQUFPO1FBQzFCRSxRQUFRLENBQUM7VUFDUEksV0FBVyxFQUFFTixPQUFPLEdBQUcsTUFBTSxHQUFHO1FBQ2xDLENBQUMsQ0FBQztNQUNKLENBQUM7TUFFREosZUFBZSxDQUFDVyxHQUFHLENBQUNMLFFBQVEsRUFBRUMsY0FBYyxDQUFDO0lBQy9DO0lBRUEsSUFBSVIsS0FBSyxFQUFFO01BQ1RBLEtBQUssQ0FBQ2EsV0FBVyxDQUFDTCxjQUFjLENBQUM7SUFDbkM7RUFDRixDQUFDO0VBQ0RNLG9CQUFvQixFQUFFLFNBQVNBLG9CQUFvQkEsQ0FBQ1AsUUFBUSxFQUFFO0lBQzVELElBQUlDLGNBQWMsR0FBR1AsZUFBZSxDQUFDUSxHQUFHLENBQUNGLFFBQVEsQ0FBQztJQUVsRCxJQUFJQyxjQUFjLEVBQUU7TUFDbEIsSUFBSVIsS0FBSyxFQUFFO1FBQ1RBLEtBQUssQ0FBQ2UsY0FBYyxDQUFDUCxjQUFjLENBQUM7TUFDdEM7TUFFQVAsZUFBZSxDQUFDZSxNQUFNLENBQUNULFFBQVEsQ0FBQztJQUNsQztFQUNGO0FBQ0YsQ0FBQztBQUNELElBQUlVLFFBQVEsR0FBR2QsVUFBVTtBQUN6QlosT0FBTyxDQUFDRSxPQUFPLEdBQUd3QixRQUFRO0FBQzFCQyxNQUFNLENBQUMzQixPQUFPLEdBQUdBLE9BQU8sQ0FBQ0UsT0FBTyIsImlnbm9yZUxpc3QiOltdfQ==