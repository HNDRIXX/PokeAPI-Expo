5e5b8f4853e3fac85a537b9ce443af87
'use strict';

exports.__esModule = true;
exports.default = void 0;
var _AnimatedNode = _interopRequireDefault(require("./AnimatedNode"));
var _AnimatedWithChildren2 = _interopRequireDefault(require("./AnimatedWithChildren"));
var _NativeAnimatedHelper = _interopRequireDefault(require("../NativeAnimatedHelper"));
var _invariant = _interopRequireDefault(require("fbjs/lib/invariant"));
var _normalizeCssColor = _interopRequireDefault(require("normalize-css-color"));
function _interopRequireDefault(obj) {
  return obj && obj.__esModule ? obj : {
    default: obj
  };
}
function _inheritsLoose(subClass, superClass) {
  subClass.prototype = Object.create(superClass.prototype);
  subClass.prototype.constructor = subClass;
  _setPrototypeOf(subClass, superClass);
}
function _setPrototypeOf(o, p) {
  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {
    o.__proto__ = p;
    return o;
  };
  return _setPrototypeOf(o, p);
}
function ownKeys(object, enumerableOnly) {
  var keys = Object.keys(object);
  if (Object.getOwnPropertySymbols) {
    var symbols = Object.getOwnPropertySymbols(object);
    if (enumerableOnly) symbols = symbols.filter(function (sym) {
      return Object.getOwnPropertyDescriptor(object, sym).enumerable;
    });
    keys.push.apply(keys, symbols);
  }
  return keys;
}
function _objectSpread(target) {
  for (var i = 1; i < arguments.length; i++) {
    var source = arguments[i] != null ? arguments[i] : {};
    if (i % 2) {
      ownKeys(Object(source), true).forEach(function (key) {
        _defineProperty(target, key, source[key]);
      });
    } else if (Object.getOwnPropertyDescriptors) {
      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));
    } else {
      ownKeys(Object(source)).forEach(function (key) {
        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));
      });
    }
  }
  return target;
}
function _defineProperty(obj, key, value) {
  if (key in obj) {
    Object.defineProperty(obj, key, {
      value: value,
      enumerable: true,
      configurable: true,
      writable: true
    });
  } else {
    obj[key] = value;
  }
  return obj;
}
var __DEV__ = process.env.NODE_ENV !== 'production';
var linear = function linear(t) {
  return t;
};
function createInterpolation(config) {
  if (config.outputRange && typeof config.outputRange[0] === 'string') {
    return createInterpolationFromStringOutputRange(config);
  }
  var outputRange = config.outputRange;
  checkInfiniteRange('outputRange', outputRange);
  var inputRange = config.inputRange;
  checkInfiniteRange('inputRange', inputRange);
  checkValidInputRange(inputRange);
  (0, _invariant.default)(inputRange.length === outputRange.length, 'inputRange (' + inputRange.length + ') and outputRange (' + outputRange.length + ') must have the same length');
  var easing = config.easing || linear;
  var extrapolateLeft = 'extend';
  if (config.extrapolateLeft !== undefined) {
    extrapolateLeft = config.extrapolateLeft;
  } else if (config.extrapolate !== undefined) {
    extrapolateLeft = config.extrapolate;
  }
  var extrapolateRight = 'extend';
  if (config.extrapolateRight !== undefined) {
    extrapolateRight = config.extrapolateRight;
  } else if (config.extrapolate !== undefined) {
    extrapolateRight = config.extrapolate;
  }
  return function (input) {
    (0, _invariant.default)(typeof input === 'number', 'Cannot interpolation an input which is not a number');
    var range = findRange(input, inputRange);
    return interpolate(input, inputRange[range], inputRange[range + 1], outputRange[range], outputRange[range + 1], easing, extrapolateLeft, extrapolateRight);
  };
}
function interpolate(input, inputMin, inputMax, outputMin, outputMax, easing, extrapolateLeft, extrapolateRight) {
  var result = input;
  if (result < inputMin) {
    if (extrapolateLeft === 'identity') {
      return result;
    } else if (extrapolateLeft === 'clamp') {
      result = inputMin;
    } else if (extrapolateLeft === 'extend') {}
  }
  if (result > inputMax) {
    if (extrapolateRight === 'identity') {
      return result;
    } else if (extrapolateRight === 'clamp') {
      result = inputMax;
    } else if (extrapolateRight === 'extend') {}
  }
  if (outputMin === outputMax) {
    return outputMin;
  }
  if (inputMin === inputMax) {
    if (input <= inputMin) {
      return outputMin;
    }
    return outputMax;
  }
  if (inputMin === -Infinity) {
    result = -result;
  } else if (inputMax === Infinity) {
    result = result - inputMin;
  } else {
    result = (result - inputMin) / (inputMax - inputMin);
  }
  result = easing(result);
  if (outputMin === -Infinity) {
    result = -result;
  } else if (outputMax === Infinity) {
    result = result + outputMin;
  } else {
    result = result * (outputMax - outputMin) + outputMin;
  }
  return result;
}
function colorToRgba(input) {
  var normalizedColor = (0, _normalizeCssColor.default)(input);
  if (normalizedColor === null || typeof normalizedColor !== 'number') {
    return input;
  }
  normalizedColor = normalizedColor || 0;
  var r = (normalizedColor & 0xff000000) >>> 24;
  var g = (normalizedColor & 0x00ff0000) >>> 16;
  var b = (normalizedColor & 0x0000ff00) >>> 8;
  var a = (normalizedColor & 0x000000ff) / 255;
  return "rgba(" + r + ", " + g + ", " + b + ", " + a + ")";
}
var stringShapeRegex = /[+-]?(?:\d+\.?\d*|\.\d+)(?:[eE][+-]?\d+)?/g;
function createInterpolationFromStringOutputRange(config) {
  var outputRange = config.outputRange;
  (0, _invariant.default)(outputRange.length >= 2, 'Bad output range');
  outputRange = outputRange.map(colorToRgba);
  checkPattern(outputRange);
  var outputRanges = outputRange[0].match(stringShapeRegex).map(function () {
    return [];
  });
  outputRange.forEach(function (value) {
    value.match(stringShapeRegex).forEach(function (number, i) {
      outputRanges[i].push(+number);
    });
  });
  var interpolations = outputRange[0].match(stringShapeRegex).map(function (value, i) {
    return createInterpolation(_objectSpread(_objectSpread({}, config), {}, {
      outputRange: outputRanges[i]
    }));
  });
  var shouldRound = isRgbOrRgba(outputRange[0]);
  return function (input) {
    var i = 0;
    return outputRange[0].replace(stringShapeRegex, function () {
      var val = +interpolations[i++](input);
      if (shouldRound) {
        val = i < 4 ? Math.round(val) : Math.round(val * 1000) / 1000;
      }
      return String(val);
    });
  };
}
function isRgbOrRgba(range) {
  return typeof range === 'string' && range.startsWith('rgb');
}
function checkPattern(arr) {
  var pattern = arr[0].replace(stringShapeRegex, '');
  for (var i = 1; i < arr.length; ++i) {
    (0, _invariant.default)(pattern === arr[i].replace(stringShapeRegex, ''), 'invalid pattern ' + arr[0] + ' and ' + arr[i]);
  }
}
function findRange(input, inputRange) {
  var i;
  for (i = 1; i < inputRange.length - 1; ++i) {
    if (inputRange[i] >= input) {
      break;
    }
  }
  return i - 1;
}
function checkValidInputRange(arr) {
  (0, _invariant.default)(arr.length >= 2, 'inputRange must have at least 2 elements');
  for (var i = 1; i < arr.length; ++i) {
    (0, _invariant.default)(arr[i] >= arr[i - 1], 'inputRange must be monotonically non-decreasing ' + arr);
  }
}
function checkInfiniteRange(name, arr) {
  (0, _invariant.default)(arr.length >= 2, name + ' must have at least 2 elements');
  (0, _invariant.default)(arr.length !== 2 || arr[0] !== -Infinity || arr[1] !== Infinity, name + 'cannot be ]-infinity;+infinity[ ' + arr);
}
var AnimatedInterpolation = function (_AnimatedWithChildren) {
  _inheritsLoose(AnimatedInterpolation, _AnimatedWithChildren);
  function AnimatedInterpolation(parent, config) {
    var _this;
    _this = _AnimatedWithChildren.call(this) || this;
    _this._parent = parent;
    _this._config = config;
    _this._interpolation = createInterpolation(config);
    return _this;
  }
  var _proto = AnimatedInterpolation.prototype;
  _proto.__makeNative = function __makeNative() {
    this._parent.__makeNative();
    _AnimatedWithChildren.prototype.__makeNative.call(this);
  };
  _proto.__getValue = function __getValue() {
    var parentValue = this._parent.__getValue();
    (0, _invariant.default)(typeof parentValue === 'number', 'Cannot interpolate an input which is not a number.');
    return this._interpolation(parentValue);
  };
  _proto.interpolate = function interpolate(config) {
    return new AnimatedInterpolation(this, config);
  };
  _proto.__attach = function __attach() {
    this._parent.__addChild(this);
  };
  _proto.__detach = function __detach() {
    this._parent.__removeChild(this);
    _AnimatedWithChildren.prototype.__detach.call(this);
  };
  _proto.__transformDataType = function __transformDataType(range) {
    return range.map(_NativeAnimatedHelper.default.transformDataType);
  };
  _proto.__getNativeConfig = function __getNativeConfig() {
    if (__DEV__) {
      _NativeAnimatedHelper.default.validateInterpolation(this._config);
    }
    return {
      inputRange: this._config.inputRange,
      outputRange: this.__transformDataType(this._config.outputRange),
      extrapolateLeft: this._config.extrapolateLeft || this._config.extrapolate || 'extend',
      extrapolateRight: this._config.extrapolateRight || this._config.extrapolate || 'extend',
      type: 'interpolation'
    };
  };
  return AnimatedInterpolation;
}(_AnimatedWithChildren2.default);
AnimatedInterpolation.__createInterpolation = createInterpolation;
var _default = AnimatedInterpolation;
exports.default = _default;
module.exports = exports.default;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJuYW1lcyI6WyJleHBvcnRzIiwiX19lc01vZHVsZSIsImRlZmF1bHQiLCJfQW5pbWF0ZWROb2RlIiwiX2ludGVyb3BSZXF1aXJlRGVmYXVsdCIsInJlcXVpcmUiLCJfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4yIiwiX05hdGl2ZUFuaW1hdGVkSGVscGVyIiwiX2ludmFyaWFudCIsIl9ub3JtYWxpemVDc3NDb2xvciIsIm9iaiIsIl9pbmhlcml0c0xvb3NlIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJfc2V0UHJvdG90eXBlT2YiLCJvIiwicCIsInNldFByb3RvdHlwZU9mIiwiX19wcm90b19fIiwib3duS2V5cyIsIm9iamVjdCIsImVudW1lcmFibGVPbmx5Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsInN5bWJvbHMiLCJmaWx0ZXIiLCJzeW0iLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsInRhcmdldCIsImkiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJzb3VyY2UiLCJmb3JFYWNoIiwia2V5IiwiX2RlZmluZVByb3BlcnR5IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyIsImRlZmluZVByb3BlcnRpZXMiLCJkZWZpbmVQcm9wZXJ0eSIsInZhbHVlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJfX0RFVl9fIiwicHJvY2VzcyIsImVudiIsIk5PREVfRU5WIiwibGluZWFyIiwidCIsImNyZWF0ZUludGVycG9sYXRpb24iLCJjb25maWciLCJvdXRwdXRSYW5nZSIsImNyZWF0ZUludGVycG9sYXRpb25Gcm9tU3RyaW5nT3V0cHV0UmFuZ2UiLCJjaGVja0luZmluaXRlUmFuZ2UiLCJpbnB1dFJhbmdlIiwiY2hlY2tWYWxpZElucHV0UmFuZ2UiLCJlYXNpbmciLCJleHRyYXBvbGF0ZUxlZnQiLCJ1bmRlZmluZWQiLCJleHRyYXBvbGF0ZSIsImV4dHJhcG9sYXRlUmlnaHQiLCJpbnB1dCIsInJhbmdlIiwiZmluZFJhbmdlIiwiaW50ZXJwb2xhdGUiLCJpbnB1dE1pbiIsImlucHV0TWF4Iiwib3V0cHV0TWluIiwib3V0cHV0TWF4IiwicmVzdWx0IiwiSW5maW5pdHkiLCJjb2xvclRvUmdiYSIsIm5vcm1hbGl6ZWRDb2xvciIsInIiLCJnIiwiYiIsImEiLCJzdHJpbmdTaGFwZVJlZ2V4IiwibWFwIiwiY2hlY2tQYXR0ZXJuIiwib3V0cHV0UmFuZ2VzIiwibWF0Y2giLCJudW1iZXIiLCJpbnRlcnBvbGF0aW9ucyIsInNob3VsZFJvdW5kIiwiaXNSZ2JPclJnYmEiLCJyZXBsYWNlIiwidmFsIiwiTWF0aCIsInJvdW5kIiwiU3RyaW5nIiwic3RhcnRzV2l0aCIsImFyciIsInBhdHRlcm4iLCJuYW1lIiwiQW5pbWF0ZWRJbnRlcnBvbGF0aW9uIiwiX0FuaW1hdGVkV2l0aENoaWxkcmVuIiwicGFyZW50IiwiX3RoaXMiLCJjYWxsIiwiX3BhcmVudCIsIl9jb25maWciLCJfaW50ZXJwb2xhdGlvbiIsIl9wcm90byIsIl9fbWFrZU5hdGl2ZSIsIl9fZ2V0VmFsdWUiLCJwYXJlbnRWYWx1ZSIsIl9fYXR0YWNoIiwiX19hZGRDaGlsZCIsIl9fZGV0YWNoIiwiX19yZW1vdmVDaGlsZCIsIl9fdHJhbnNmb3JtRGF0YVR5cGUiLCJ0cmFuc2Zvcm1EYXRhVHlwZSIsIl9fZ2V0TmF0aXZlQ29uZmlnIiwidmFsaWRhdGVJbnRlcnBvbGF0aW9uIiwidHlwZSIsIl9fY3JlYXRlSW50ZXJwb2xhdGlvbiIsIl9kZWZhdWx0IiwibW9kdWxlIl0sInNvdXJjZXMiOlsiQW5pbWF0ZWRJbnRlcnBvbGF0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSBGYWNlYm9vaywgSW5jLiBhbmQgaXRzIGFmZmlsaWF0ZXMuXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKlxuICogXG4gKiBAZm9ybWF0XG4gKi9cblxuLyogZXNsaW50IG5vLWJpdHdpc2U6IDAgKi9cbid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5fX2VzTW9kdWxlID0gdHJ1ZTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDtcblxudmFyIF9BbmltYXRlZE5vZGUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuL0FuaW1hdGVkTm9kZVwiKSk7XG5cbnZhciBfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4yID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiLi9BbmltYXRlZFdpdGhDaGlsZHJlblwiKSk7XG5cbnZhciBfTmF0aXZlQW5pbWF0ZWRIZWxwZXIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoXCIuLi9OYXRpdmVBbmltYXRlZEhlbHBlclwiKSk7XG5cbnZhciBfaW52YXJpYW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKFwiZmJqcy9saWIvaW52YXJpYW50XCIpKTtcblxudmFyIF9ub3JtYWxpemVDc3NDb2xvciA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZShcIm5vcm1hbGl6ZS1jc3MtY29sb3JcIikpO1xuXG5mdW5jdGlvbiBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KG9iaikgeyByZXR1cm4gb2JqICYmIG9iai5fX2VzTW9kdWxlID8gb2JqIDogeyBkZWZhdWx0OiBvYmogfTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHNMb29zZShzdWJDbGFzcywgc3VwZXJDbGFzcykgeyBzdWJDbGFzcy5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ2xhc3MucHJvdG90eXBlKTsgc3ViQ2xhc3MucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gc3ViQ2xhc3M7IF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuZnVuY3Rpb24gb3duS2V5cyhvYmplY3QsIGVudW1lcmFibGVPbmx5KSB7IHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqZWN0KTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHN5bWJvbHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKG9iamVjdCk7IGlmIChlbnVtZXJhYmxlT25seSkgc3ltYm9scyA9IHN5bWJvbHMuZmlsdGVyKGZ1bmN0aW9uIChzeW0pIHsgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Iob2JqZWN0LCBzeW0pLmVudW1lcmFibGU7IH0pOyBrZXlzLnB1c2guYXBwbHkoa2V5cywgc3ltYm9scyk7IH0gcmV0dXJuIGtleXM7IH1cblxuZnVuY3Rpb24gX29iamVjdFNwcmVhZCh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXSAhPSBudWxsID8gYXJndW1lbnRzW2ldIDoge307IGlmIChpICUgMikgeyBvd25LZXlzKE9iamVjdChzb3VyY2UpLCB0cnVlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHsgX2RlZmluZVByb3BlcnR5KHRhcmdldCwga2V5LCBzb3VyY2Vba2V5XSk7IH0pOyB9IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoc291cmNlKSk7IH0gZWxzZSB7IG93bktleXMoT2JqZWN0KHNvdXJjZSkpLmZvckVhY2goZnVuY3Rpb24gKGtleSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3Ioc291cmNlLCBrZXkpKTsgfSk7IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgdmFsdWUpIHsgaWYgKGtleSBpbiBvYmopIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KG9iaiwga2V5LCB7IHZhbHVlOiB2YWx1ZSwgZW51bWVyYWJsZTogdHJ1ZSwgY29uZmlndXJhYmxlOiB0cnVlLCB3cml0YWJsZTogdHJ1ZSB9KTsgfSBlbHNlIHsgb2JqW2tleV0gPSB2YWx1ZTsgfSByZXR1cm4gb2JqOyB9XG5cbnZhciBfX0RFVl9fID0gcHJvY2Vzcy5lbnYuTk9ERV9FTlYgIT09ICdwcm9kdWN0aW9uJztcblxudmFyIGxpbmVhciA9IGZ1bmN0aW9uIGxpbmVhcih0KSB7XG4gIHJldHVybiB0O1xufTtcbi8qKlxuICogVmVyeSBoYW5keSBoZWxwZXIgdG8gbWFwIGlucHV0IHJhbmdlcyB0byBvdXRwdXQgcmFuZ2VzIHdpdGggYW4gZWFzaW5nXG4gKiBmdW5jdGlvbiBhbmQgY3VzdG9tIGJlaGF2aW9yIG91dHNpZGUgb2YgdGhlIHJhbmdlcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIGNyZWF0ZUludGVycG9sYXRpb24oY29uZmlnKSB7XG4gIGlmIChjb25maWcub3V0cHV0UmFuZ2UgJiYgdHlwZW9mIGNvbmZpZy5vdXRwdXRSYW5nZVswXSA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY3JlYXRlSW50ZXJwb2xhdGlvbkZyb21TdHJpbmdPdXRwdXRSYW5nZShjb25maWcpO1xuICB9XG5cbiAgdmFyIG91dHB1dFJhbmdlID0gY29uZmlnLm91dHB1dFJhbmdlO1xuICBjaGVja0luZmluaXRlUmFuZ2UoJ291dHB1dFJhbmdlJywgb3V0cHV0UmFuZ2UpO1xuICB2YXIgaW5wdXRSYW5nZSA9IGNvbmZpZy5pbnB1dFJhbmdlO1xuICBjaGVja0luZmluaXRlUmFuZ2UoJ2lucHV0UmFuZ2UnLCBpbnB1dFJhbmdlKTtcbiAgY2hlY2tWYWxpZElucHV0UmFuZ2UoaW5wdXRSYW5nZSk7XG4gICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKGlucHV0UmFuZ2UubGVuZ3RoID09PSBvdXRwdXRSYW5nZS5sZW5ndGgsICdpbnB1dFJhbmdlICgnICsgaW5wdXRSYW5nZS5sZW5ndGggKyAnKSBhbmQgb3V0cHV0UmFuZ2UgKCcgKyBvdXRwdXRSYW5nZS5sZW5ndGggKyAnKSBtdXN0IGhhdmUgdGhlIHNhbWUgbGVuZ3RoJyk7XG4gIHZhciBlYXNpbmcgPSBjb25maWcuZWFzaW5nIHx8IGxpbmVhcjtcbiAgdmFyIGV4dHJhcG9sYXRlTGVmdCA9ICdleHRlbmQnO1xuXG4gIGlmIChjb25maWcuZXh0cmFwb2xhdGVMZWZ0ICE9PSB1bmRlZmluZWQpIHtcbiAgICBleHRyYXBvbGF0ZUxlZnQgPSBjb25maWcuZXh0cmFwb2xhdGVMZWZ0O1xuICB9IGVsc2UgaWYgKGNvbmZpZy5leHRyYXBvbGF0ZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgZXh0cmFwb2xhdGVMZWZ0ID0gY29uZmlnLmV4dHJhcG9sYXRlO1xuICB9XG5cbiAgdmFyIGV4dHJhcG9sYXRlUmlnaHQgPSAnZXh0ZW5kJztcblxuICBpZiAoY29uZmlnLmV4dHJhcG9sYXRlUmlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgIGV4dHJhcG9sYXRlUmlnaHQgPSBjb25maWcuZXh0cmFwb2xhdGVSaWdodDtcbiAgfSBlbHNlIGlmIChjb25maWcuZXh0cmFwb2xhdGUgIT09IHVuZGVmaW5lZCkge1xuICAgIGV4dHJhcG9sYXRlUmlnaHQgPSBjb25maWcuZXh0cmFwb2xhdGU7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGlucHV0KSB7XG4gICAgKDAsIF9pbnZhcmlhbnQuZGVmYXVsdCkodHlwZW9mIGlucHV0ID09PSAnbnVtYmVyJywgJ0Nhbm5vdCBpbnRlcnBvbGF0aW9uIGFuIGlucHV0IHdoaWNoIGlzIG5vdCBhIG51bWJlcicpO1xuICAgIHZhciByYW5nZSA9IGZpbmRSYW5nZShpbnB1dCwgaW5wdXRSYW5nZSk7XG4gICAgcmV0dXJuIGludGVycG9sYXRlKGlucHV0LCBpbnB1dFJhbmdlW3JhbmdlXSwgaW5wdXRSYW5nZVtyYW5nZSArIDFdLCBvdXRwdXRSYW5nZVtyYW5nZV0sIG91dHB1dFJhbmdlW3JhbmdlICsgMV0sIGVhc2luZywgZXh0cmFwb2xhdGVMZWZ0LCBleHRyYXBvbGF0ZVJpZ2h0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gaW50ZXJwb2xhdGUoaW5wdXQsIGlucHV0TWluLCBpbnB1dE1heCwgb3V0cHV0TWluLCBvdXRwdXRNYXgsIGVhc2luZywgZXh0cmFwb2xhdGVMZWZ0LCBleHRyYXBvbGF0ZVJpZ2h0KSB7XG4gIHZhciByZXN1bHQgPSBpbnB1dDsgLy8gRXh0cmFwb2xhdGVcblxuICBpZiAocmVzdWx0IDwgaW5wdXRNaW4pIHtcbiAgICBpZiAoZXh0cmFwb2xhdGVMZWZ0ID09PSAnaWRlbnRpdHknKSB7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0gZWxzZSBpZiAoZXh0cmFwb2xhdGVMZWZ0ID09PSAnY2xhbXAnKSB7XG4gICAgICByZXN1bHQgPSBpbnB1dE1pbjtcbiAgICB9IGVsc2UgaWYgKGV4dHJhcG9sYXRlTGVmdCA9PT0gJ2V4dGVuZCcpIHsvLyBub29wXG4gICAgfVxuICB9XG5cbiAgaWYgKHJlc3VsdCA+IGlucHV0TWF4KSB7XG4gICAgaWYgKGV4dHJhcG9sYXRlUmlnaHQgPT09ICdpZGVudGl0eScpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSBlbHNlIGlmIChleHRyYXBvbGF0ZVJpZ2h0ID09PSAnY2xhbXAnKSB7XG4gICAgICByZXN1bHQgPSBpbnB1dE1heDtcbiAgICB9IGVsc2UgaWYgKGV4dHJhcG9sYXRlUmlnaHQgPT09ICdleHRlbmQnKSB7Ly8gbm9vcFxuICAgIH1cbiAgfVxuXG4gIGlmIChvdXRwdXRNaW4gPT09IG91dHB1dE1heCkge1xuICAgIHJldHVybiBvdXRwdXRNaW47XG4gIH1cblxuICBpZiAoaW5wdXRNaW4gPT09IGlucHV0TWF4KSB7XG4gICAgaWYgKGlucHV0IDw9IGlucHV0TWluKSB7XG4gICAgICByZXR1cm4gb3V0cHV0TWluO1xuICAgIH1cblxuICAgIHJldHVybiBvdXRwdXRNYXg7XG4gIH0gLy8gSW5wdXQgUmFuZ2VcblxuXG4gIGlmIChpbnB1dE1pbiA9PT0gLUluZmluaXR5KSB7XG4gICAgcmVzdWx0ID0gLXJlc3VsdDtcbiAgfSBlbHNlIGlmIChpbnB1dE1heCA9PT0gSW5maW5pdHkpIHtcbiAgICByZXN1bHQgPSByZXN1bHQgLSBpbnB1dE1pbjtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSAocmVzdWx0IC0gaW5wdXRNaW4pIC8gKGlucHV0TWF4IC0gaW5wdXRNaW4pO1xuICB9IC8vIEVhc2luZ1xuXG5cbiAgcmVzdWx0ID0gZWFzaW5nKHJlc3VsdCk7IC8vIE91dHB1dCBSYW5nZVxuXG4gIGlmIChvdXRwdXRNaW4gPT09IC1JbmZpbml0eSkge1xuICAgIHJlc3VsdCA9IC1yZXN1bHQ7XG4gIH0gZWxzZSBpZiAob3V0cHV0TWF4ID09PSBJbmZpbml0eSkge1xuICAgIHJlc3VsdCA9IHJlc3VsdCArIG91dHB1dE1pbjtcbiAgfSBlbHNlIHtcbiAgICByZXN1bHQgPSByZXN1bHQgKiAob3V0cHV0TWF4IC0gb3V0cHV0TWluKSArIG91dHB1dE1pbjtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGNvbG9yVG9SZ2JhKGlucHV0KSB7XG4gIHZhciBub3JtYWxpemVkQ29sb3IgPSAoMCwgX25vcm1hbGl6ZUNzc0NvbG9yLmRlZmF1bHQpKGlucHV0KTtcblxuICBpZiAobm9ybWFsaXplZENvbG9yID09PSBudWxsIHx8IHR5cGVvZiBub3JtYWxpemVkQ29sb3IgIT09ICdudW1iZXInKSB7XG4gICAgcmV0dXJuIGlucHV0O1xuICB9XG5cbiAgbm9ybWFsaXplZENvbG9yID0gbm9ybWFsaXplZENvbG9yIHx8IDA7XG4gIHZhciByID0gKG5vcm1hbGl6ZWRDb2xvciAmIDB4ZmYwMDAwMDApID4+PiAyNDtcbiAgdmFyIGcgPSAobm9ybWFsaXplZENvbG9yICYgMHgwMGZmMDAwMCkgPj4+IDE2O1xuICB2YXIgYiA9IChub3JtYWxpemVkQ29sb3IgJiAweDAwMDBmZjAwKSA+Pj4gODtcbiAgdmFyIGEgPSAobm9ybWFsaXplZENvbG9yICYgMHgwMDAwMDBmZikgLyAyNTU7XG4gIHJldHVybiBcInJnYmEoXCIgKyByICsgXCIsIFwiICsgZyArIFwiLCBcIiArIGIgKyBcIiwgXCIgKyBhICsgXCIpXCI7XG59XG5cbnZhciBzdHJpbmdTaGFwZVJlZ2V4ID0gL1srLV0/KD86XFxkK1xcLj9cXGQqfFxcLlxcZCspKD86W2VFXVsrLV0/XFxkKyk/L2c7XG4vKipcbiAqIFN1cHBvcnRzIHN0cmluZyBzaGFwZXMgYnkgZXh0cmFjdGluZyBudW1iZXJzIHNvIG5ldyB2YWx1ZXMgY2FuIGJlIGNvbXB1dGVkLFxuICogYW5kIHJlY29tYmluZXMgdGhvc2UgdmFsdWVzIGludG8gbmV3IHN0cmluZ3Mgb2YgdGhlIHNhbWUgc2hhcGUuICBTdXBwb3J0c1xuICogdGhpbmdzIGxpa2U6XG4gKlxuICogICByZ2JhKDEyMywgNDIsIDk5LCAwLjM2KSAvLyBjb2xvcnNcbiAqICAgLTQ1ZGVnICAgICAgICAgICAgICAgICAgLy8gdmFsdWVzIHdpdGggdW5pdHNcbiAqL1xuXG5mdW5jdGlvbiBjcmVhdGVJbnRlcnBvbGF0aW9uRnJvbVN0cmluZ091dHB1dFJhbmdlKGNvbmZpZykge1xuICB2YXIgb3V0cHV0UmFuZ2UgPSBjb25maWcub3V0cHV0UmFuZ2U7XG4gICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKG91dHB1dFJhbmdlLmxlbmd0aCA+PSAyLCAnQmFkIG91dHB1dCByYW5nZScpO1xuICBvdXRwdXRSYW5nZSA9IG91dHB1dFJhbmdlLm1hcChjb2xvclRvUmdiYSk7XG4gIGNoZWNrUGF0dGVybihvdXRwdXRSYW5nZSk7IC8vIFsncmdiYSgwLCAxMDAsIDIwMCwgMCknLCAncmdiYSg1MCwgMTUwLCAyNTAsIDAuNSknXVxuICAvLyAtPlxuICAvLyBbXG4gIC8vICAgWzAsIDUwXSxcbiAgLy8gICBbMTAwLCAxNTBdLFxuICAvLyAgIFsyMDAsIDI1MF0sXG4gIC8vICAgWzAsIDAuNV0sXG4gIC8vIF1cblxuICAvKiAkRmxvd0ZpeE1lKD49MC4xOC4wKTogYG91dHB1dFJhbmdlWzBdLm1hdGNoKClgIGNhbiByZXR1cm4gYG51bGxgLiBOZWVkIHRvXG4gICAqIGd1YXJkIGFnYWluc3QgdGhpcyBwb3NzaWJpbGl0eS5cbiAgICovXG5cbiAgdmFyIG91dHB1dFJhbmdlcyA9IG91dHB1dFJhbmdlWzBdLm1hdGNoKHN0cmluZ1NoYXBlUmVnZXgpLm1hcChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9KTtcbiAgb3V0cHV0UmFuZ2UuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAvKiAkRmxvd0ZpeE1lKD49MC4xOC4wKTogYHZhbHVlLm1hdGNoKClgIGNhbiByZXR1cm4gYG51bGxgLiBOZWVkIHRvIGd1YXJkXG4gICAgICogYWdhaW5zdCB0aGlzIHBvc3NpYmlsaXR5LlxuICAgICAqL1xuICAgIHZhbHVlLm1hdGNoKHN0cmluZ1NoYXBlUmVnZXgpLmZvckVhY2goZnVuY3Rpb24gKG51bWJlciwgaSkge1xuICAgICAgb3V0cHV0UmFuZ2VzW2ldLnB1c2goK251bWJlcik7XG4gICAgfSk7XG4gIH0pO1xuICB2YXIgaW50ZXJwb2xhdGlvbnMgPSBvdXRwdXRSYW5nZVswXS5tYXRjaChzdHJpbmdTaGFwZVJlZ2V4KVxuICAvKiAkRmxvd0ZpeE1lKD49MC4xOC4wKTogYG91dHB1dFJhbmdlWzBdLm1hdGNoKClgIGNhbiByZXR1cm4gYG51bGxgLiBOZWVkXG4gICAqIHRvIGd1YXJkIGFnYWluc3QgdGhpcyBwb3NzaWJpbGl0eS4gKi9cbiAgLm1hcChmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICByZXR1cm4gY3JlYXRlSW50ZXJwb2xhdGlvbihfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNvbmZpZyksIHt9LCB7XG4gICAgICBvdXRwdXRSYW5nZTogb3V0cHV0UmFuZ2VzW2ldXG4gICAgfSkpO1xuICB9KTsgLy8gcmdiYSByZXF1aXJlcyB0aGF0IHRoZSByLGcsYiBhcmUgaW50ZWdlcnMuLi4uIHNvIHdlIHdhbnQgdG8gcm91bmQgdGhlbSwgYnV0IHdlICpkb250KiB3YW50IHRvXG4gIC8vIHJvdW5kIHRoZSBvcGFjaXR5ICg0dGggY29sdW1uKS5cblxuICB2YXIgc2hvdWxkUm91bmQgPSBpc1JnYk9yUmdiYShvdXRwdXRSYW5nZVswXSk7XG4gIHJldHVybiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICB2YXIgaSA9IDA7IC8vICdyZ2JhKDAsIDEwMCwgMjAwLCAwKSdcbiAgICAvLyAtPlxuICAgIC8vICdyZ2JhKCR7aW50ZXJwb2xhdGlvbnNbMF0oaW5wdXQpfSwgJHtpbnRlcnBvbGF0aW9uc1sxXShpbnB1dCl9LCAuLi4nXG5cbiAgICByZXR1cm4gb3V0cHV0UmFuZ2VbMF0ucmVwbGFjZShzdHJpbmdTaGFwZVJlZ2V4LCBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdmFsID0gK2ludGVycG9sYXRpb25zW2krK10oaW5wdXQpO1xuXG4gICAgICBpZiAoc2hvdWxkUm91bmQpIHtcbiAgICAgICAgdmFsID0gaSA8IDQgPyBNYXRoLnJvdW5kKHZhbCkgOiBNYXRoLnJvdW5kKHZhbCAqIDEwMDApIC8gMTAwMDtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIFN0cmluZyh2YWwpO1xuICAgIH0pO1xuICB9O1xufVxuXG5mdW5jdGlvbiBpc1JnYk9yUmdiYShyYW5nZSkge1xuICByZXR1cm4gdHlwZW9mIHJhbmdlID09PSAnc3RyaW5nJyAmJiByYW5nZS5zdGFydHNXaXRoKCdyZ2InKTtcbn1cblxuZnVuY3Rpb24gY2hlY2tQYXR0ZXJuKGFycikge1xuICB2YXIgcGF0dGVybiA9IGFyclswXS5yZXBsYWNlKHN0cmluZ1NoYXBlUmVnZXgsICcnKTtcblxuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyci5sZW5ndGg7ICsraSkge1xuICAgICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKHBhdHRlcm4gPT09IGFycltpXS5yZXBsYWNlKHN0cmluZ1NoYXBlUmVnZXgsICcnKSwgJ2ludmFsaWQgcGF0dGVybiAnICsgYXJyWzBdICsgJyBhbmQgJyArIGFycltpXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmluZFJhbmdlKGlucHV0LCBpbnB1dFJhbmdlKSB7XG4gIHZhciBpO1xuXG4gIGZvciAoaSA9IDE7IGkgPCBpbnB1dFJhbmdlLmxlbmd0aCAtIDE7ICsraSkge1xuICAgIGlmIChpbnB1dFJhbmdlW2ldID49IGlucHV0KSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICByZXR1cm4gaSAtIDE7XG59XG5cbmZ1bmN0aW9uIGNoZWNrVmFsaWRJbnB1dFJhbmdlKGFycikge1xuICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShhcnIubGVuZ3RoID49IDIsICdpbnB1dFJhbmdlIG11c3QgaGF2ZSBhdCBsZWFzdCAyIGVsZW1lbnRzJyk7XG5cbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcnIubGVuZ3RoOyArK2kpIHtcbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShhcnJbaV0gPj0gYXJyW2kgLSAxXSxcbiAgICAvKiAkRmxvd0ZpeE1lKD49MC4xMy4wKSAtIEluIHRoZSBhZGRpdGlvbiBleHByZXNzaW9uIGJlbG93IHRoaXMgY29tbWVudCxcbiAgICAgKiBvbmUgb3IgYm90aCBvZiB0aGUgb3BlcmFuZHMgbWF5IGJlIHNvbWV0aGluZyB0aGF0IGRvZXNuJ3QgY2xlYW5seVxuICAgICAqIGNvbnZlcnQgdG8gYSBzdHJpbmcsIGxpa2UgdW5kZWZpbmVkLCBudWxsLCBhbmQgb2JqZWN0LCBldGMuIElmIHlvdSByZWFsbHlcbiAgICAgKiBtZWFuIHRoaXMgaW1wbGljaXQgc3RyaW5nIGNvbnZlcnNpb24sIHlvdSBjYW4gZG8gc29tZXRoaW5nIGxpa2VcbiAgICAgKiBTdHJpbmcobXlUaGluZylcbiAgICAgKi9cbiAgICAnaW5wdXRSYW5nZSBtdXN0IGJlIG1vbm90b25pY2FsbHkgbm9uLWRlY3JlYXNpbmcgJyArIGFycik7XG4gIH1cbn1cblxuZnVuY3Rpb24gY2hlY2tJbmZpbml0ZVJhbmdlKG5hbWUsIGFycikge1xuICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KShhcnIubGVuZ3RoID49IDIsIG5hbWUgKyAnIG11c3QgaGF2ZSBhdCBsZWFzdCAyIGVsZW1lbnRzJyk7XG4gICgwLCBfaW52YXJpYW50LmRlZmF1bHQpKGFyci5sZW5ndGggIT09IDIgfHwgYXJyWzBdICE9PSAtSW5maW5pdHkgfHwgYXJyWzFdICE9PSBJbmZpbml0eSxcbiAgLyogJEZsb3dGaXhNZSg+PTAuMTMuMCkgLSBJbiB0aGUgYWRkaXRpb24gZXhwcmVzc2lvbiBiZWxvdyB0aGlzIGNvbW1lbnQsXG4gICAqIG9uZSBvciBib3RoIG9mIHRoZSBvcGVyYW5kcyBtYXkgYmUgc29tZXRoaW5nIHRoYXQgZG9lc24ndCBjbGVhbmx5IGNvbnZlcnRcbiAgICogdG8gYSBzdHJpbmcsIGxpa2UgdW5kZWZpbmVkLCBudWxsLCBhbmQgb2JqZWN0LCBldGMuIElmIHlvdSByZWFsbHkgbWVhblxuICAgKiB0aGlzIGltcGxpY2l0IHN0cmluZyBjb252ZXJzaW9uLCB5b3UgY2FuIGRvIHNvbWV0aGluZyBsaWtlXG4gICAqIFN0cmluZyhteVRoaW5nKVxuICAgKi9cbiAgbmFtZSArICdjYW5ub3QgYmUgXS1pbmZpbml0eTsraW5maW5pdHlbICcgKyBhcnIpO1xufVxuXG52YXIgQW5pbWF0ZWRJbnRlcnBvbGF0aW9uID0gLyojX19QVVJFX18qL2Z1bmN0aW9uIChfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4pIHtcbiAgX2luaGVyaXRzTG9vc2UoQW5pbWF0ZWRJbnRlcnBvbGF0aW9uLCBfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4pO1xuXG4gIC8vIEV4cG9ydCBmb3IgdGVzdGluZy5cbiAgZnVuY3Rpb24gQW5pbWF0ZWRJbnRlcnBvbGF0aW9uKHBhcmVudCwgY29uZmlnKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX3RoaXMgPSBfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4uY2FsbCh0aGlzKSB8fCB0aGlzO1xuICAgIF90aGlzLl9wYXJlbnQgPSBwYXJlbnQ7XG4gICAgX3RoaXMuX2NvbmZpZyA9IGNvbmZpZztcbiAgICBfdGhpcy5faW50ZXJwb2xhdGlvbiA9IGNyZWF0ZUludGVycG9sYXRpb24oY29uZmlnKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICB2YXIgX3Byb3RvID0gQW5pbWF0ZWRJbnRlcnBvbGF0aW9uLnByb3RvdHlwZTtcblxuICBfcHJvdG8uX19tYWtlTmF0aXZlID0gZnVuY3Rpb24gX19tYWtlTmF0aXZlKCkge1xuICAgIHRoaXMuX3BhcmVudC5fX21ha2VOYXRpdmUoKTtcblxuICAgIF9BbmltYXRlZFdpdGhDaGlsZHJlbi5wcm90b3R5cGUuX19tYWtlTmF0aXZlLmNhbGwodGhpcyk7XG4gIH07XG5cbiAgX3Byb3RvLl9fZ2V0VmFsdWUgPSBmdW5jdGlvbiBfX2dldFZhbHVlKCkge1xuICAgIHZhciBwYXJlbnRWYWx1ZSA9IHRoaXMuX3BhcmVudC5fX2dldFZhbHVlKCk7XG5cbiAgICAoMCwgX2ludmFyaWFudC5kZWZhdWx0KSh0eXBlb2YgcGFyZW50VmFsdWUgPT09ICdudW1iZXInLCAnQ2Fubm90IGludGVycG9sYXRlIGFuIGlucHV0IHdoaWNoIGlzIG5vdCBhIG51bWJlci4nKTtcbiAgICByZXR1cm4gdGhpcy5faW50ZXJwb2xhdGlvbihwYXJlbnRWYWx1ZSk7XG4gIH07XG5cbiAgX3Byb3RvLmludGVycG9sYXRlID0gZnVuY3Rpb24gaW50ZXJwb2xhdGUoY29uZmlnKSB7XG4gICAgcmV0dXJuIG5ldyBBbmltYXRlZEludGVycG9sYXRpb24odGhpcywgY29uZmlnKTtcbiAgfTtcblxuICBfcHJvdG8uX19hdHRhY2ggPSBmdW5jdGlvbiBfX2F0dGFjaCgpIHtcbiAgICB0aGlzLl9wYXJlbnQuX19hZGRDaGlsZCh0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8uX19kZXRhY2ggPSBmdW5jdGlvbiBfX2RldGFjaCgpIHtcbiAgICB0aGlzLl9wYXJlbnQuX19yZW1vdmVDaGlsZCh0aGlzKTtcblxuICAgIF9BbmltYXRlZFdpdGhDaGlsZHJlbi5wcm90b3R5cGUuX19kZXRhY2guY2FsbCh0aGlzKTtcbiAgfTtcblxuICBfcHJvdG8uX190cmFuc2Zvcm1EYXRhVHlwZSA9IGZ1bmN0aW9uIF9fdHJhbnNmb3JtRGF0YVR5cGUocmFuZ2UpIHtcbiAgICByZXR1cm4gcmFuZ2UubWFwKF9OYXRpdmVBbmltYXRlZEhlbHBlci5kZWZhdWx0LnRyYW5zZm9ybURhdGFUeXBlKTtcbiAgfTtcblxuICBfcHJvdG8uX19nZXROYXRpdmVDb25maWcgPSBmdW5jdGlvbiBfX2dldE5hdGl2ZUNvbmZpZygpIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgX05hdGl2ZUFuaW1hdGVkSGVscGVyLmRlZmF1bHQudmFsaWRhdGVJbnRlcnBvbGF0aW9uKHRoaXMuX2NvbmZpZyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgIGlucHV0UmFuZ2U6IHRoaXMuX2NvbmZpZy5pbnB1dFJhbmdlLFxuICAgICAgLy8gT25seSB0aGUgYG91dHB1dFJhbmdlYCBjYW4gY29udGFpbiBzdHJpbmdzIHNvIHdlIGRvbid0IG5lZWQgdG8gdHJhbnNmb3JtIGBpbnB1dFJhbmdlYCBoZXJlXG5cbiAgICAgIC8qICRGbG93Rml4TWUoPj0wLjM4LjApIC0gRmxvdyBlcnJvciBkZXRlY3RlZCBkdXJpbmcgdGhlIGRlcGxveW1lbnQgb2ZcbiAgICAgICAqIHYwLjM4LjAuIFRvIHNlZSB0aGUgZXJyb3IsIHJlbW92ZSB0aGlzIGNvbW1lbnQgYW5kIHJ1biBmbG93ICovXG4gICAgICBvdXRwdXRSYW5nZTogdGhpcy5fX3RyYW5zZm9ybURhdGFUeXBlKHRoaXMuX2NvbmZpZy5vdXRwdXRSYW5nZSksXG4gICAgICBleHRyYXBvbGF0ZUxlZnQ6IHRoaXMuX2NvbmZpZy5leHRyYXBvbGF0ZUxlZnQgfHwgdGhpcy5fY29uZmlnLmV4dHJhcG9sYXRlIHx8ICdleHRlbmQnLFxuICAgICAgZXh0cmFwb2xhdGVSaWdodDogdGhpcy5fY29uZmlnLmV4dHJhcG9sYXRlUmlnaHQgfHwgdGhpcy5fY29uZmlnLmV4dHJhcG9sYXRlIHx8ICdleHRlbmQnLFxuICAgICAgdHlwZTogJ2ludGVycG9sYXRpb24nXG4gICAgfTtcbiAgfTtcblxuICByZXR1cm4gQW5pbWF0ZWRJbnRlcnBvbGF0aW9uO1xufShfQW5pbWF0ZWRXaXRoQ2hpbGRyZW4yLmRlZmF1bHQpO1xuXG5BbmltYXRlZEludGVycG9sYXRpb24uX19jcmVhdGVJbnRlcnBvbGF0aW9uID0gY3JlYXRlSW50ZXJwb2xhdGlvbjtcbnZhciBfZGVmYXVsdCA9IEFuaW1hdGVkSW50ZXJwb2xhdGlvbjtcbmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0O1xubW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzLmRlZmF1bHQ7Il0sIm1hcHBpbmdzIjoiQUFXQSxZQUFZOztBQUVaQSxPQUFPLENBQUNDLFVBQVUsR0FBRyxJQUFJO0FBQ3pCRCxPQUFPLENBQUNFLE9BQU8sR0FBRyxLQUFLLENBQUM7QUFFeEIsSUFBSUMsYUFBYSxHQUFHQyxzQkFBc0IsQ0FBQ0MsT0FBTyxpQkFBaUIsQ0FBQyxDQUFDO0FBRXJFLElBQUlDLHNCQUFzQixHQUFHRixzQkFBc0IsQ0FBQ0MsT0FBTyx5QkFBeUIsQ0FBQyxDQUFDO0FBRXRGLElBQUlFLHFCQUFxQixHQUFHSCxzQkFBc0IsQ0FBQ0MsT0FBTywwQkFBMEIsQ0FBQyxDQUFDO0FBRXRGLElBQUlHLFVBQVUsR0FBR0osc0JBQXNCLENBQUNDLE9BQU8sQ0FBQyxvQkFBb0IsQ0FBQyxDQUFDO0FBRXRFLElBQUlJLGtCQUFrQixHQUFHTCxzQkFB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